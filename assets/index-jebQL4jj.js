var py=e=>{throw TypeError(e)};var qf=(e,t,r)=>t.has(e)||py("Cannot "+r);var k=(e,t,r)=>(qf(e,t,"read from private field"),r?r.call(e):t.get(e)),ge=(e,t,r)=>t.has(e)?py("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),re=(e,t,r,n)=>(qf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ee=(e,t,r)=>(qf(e,t,"access private method"),r);var zc=(e,t,r,n)=>({set _(s){re(e,t,s,r)},get _(){return k(e,t,n)}});function Q0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Y0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Z0={exports:{}},Kd={},J0={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),cR=Symbol.for("react.portal"),uR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),fR=Symbol.for("react.profiler"),hR=Symbol.for("react.provider"),mR=Symbol.for("react.context"),pR=Symbol.for("react.forward_ref"),gR=Symbol.for("react.suspense"),vR=Symbol.for("react.memo"),yR=Symbol.for("react.lazy"),gy=Symbol.iterator;function xR(e){return e===null||typeof e!="object"?null:(e=gy&&e[gy]||e["@@iterator"],typeof e=="function"?e:null)}var X0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eb=Object.assign,tb={};function Da(e,t,r){this.props=e,this.context=t,this.refs=tb,this.updater=r||X0}Da.prototype.isReactComponent={};Da.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Da.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rb(){}rb.prototype=Da.prototype;function qp(e,t,r){this.props=e,this.context=t,this.refs=tb,this.updater=r||X0}var Wp=qp.prototype=new rb;Wp.constructor=qp;eb(Wp,Da.prototype);Wp.isPureReactComponent=!0;var vy=Array.isArray,nb=Object.prototype.hasOwnProperty,Hp={current:null},sb={key:!0,ref:!0,__self:!0,__source:!0};function ib(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)nb.call(t,n)&&!sb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:_c,type:e,key:i,ref:o,props:s,_owner:Hp.current}}function wR(e,t){return{$$typeof:_c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kp(e){return typeof e=="object"&&e!==null&&e.$$typeof===_c}function bR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yy=/\/+/g;function Wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bR(""+e.key):t.toString(36)}function Nu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _c:case cR:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Wf(o,0):n,vy(s)?(r="",e!=null&&(r=e.replace(yy,"$&/")+"/"),Nu(s,t,r,"",function(u){return u})):s!=null&&(Kp(s)&&(s=wR(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",vy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Wf(i,l);o+=Nu(i,t,r,c,s)}else if(c=xR(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Wf(i,l++),o+=Nu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bc(e,t,r){if(e==null)return e;var n=[],s=0;return Nu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function _R(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sr={current:null},ku={transition:null},jR={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:ku,ReactCurrentOwner:Hp};function ob(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Bc,forEach:function(e,t,r){Bc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bc(e,function(){t++}),t},toArray:function(e){return Bc(e,function(t){return t})||[]},only:function(e){if(!Kp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pe.Component=Da;Pe.Fragment=uR;Pe.Profiler=fR;Pe.PureComponent=qp;Pe.StrictMode=dR;Pe.Suspense=gR;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jR;Pe.act=ob;Pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eb({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Hp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nb.call(t,c)&&!sb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:_c,type:e.type,key:s,ref:i,props:n,_owner:o}};Pe.createContext=function(e){return e={$$typeof:mR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hR,_context:e},e.Consumer=e};Pe.createElement=ib;Pe.createFactory=function(e){var t=ib.bind(null,e);return t.type=e,t};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(e){return{$$typeof:pR,render:e}};Pe.isValidElement=Kp;Pe.lazy=function(e){return{$$typeof:yR,_payload:{_status:-1,_result:e},_init:_R}};Pe.memo=function(e,t){return{$$typeof:vR,type:e,compare:t===void 0?null:t}};Pe.startTransition=function(e){var t=ku.transition;ku.transition={};try{e()}finally{ku.transition=t}};Pe.unstable_act=ob;Pe.useCallback=function(e,t){return sr.current.useCallback(e,t)};Pe.useContext=function(e){return sr.current.useContext(e)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(e){return sr.current.useDeferredValue(e)};Pe.useEffect=function(e,t){return sr.current.useEffect(e,t)};Pe.useId=function(){return sr.current.useId()};Pe.useImperativeHandle=function(e,t,r){return sr.current.useImperativeHandle(e,t,r)};Pe.useInsertionEffect=function(e,t){return sr.current.useInsertionEffect(e,t)};Pe.useLayoutEffect=function(e,t){return sr.current.useLayoutEffect(e,t)};Pe.useMemo=function(e,t){return sr.current.useMemo(e,t)};Pe.useReducer=function(e,t,r){return sr.current.useReducer(e,t,r)};Pe.useRef=function(e){return sr.current.useRef(e)};Pe.useState=function(e){return sr.current.useState(e)};Pe.useSyncExternalStore=function(e,t,r){return sr.current.useSyncExternalStore(e,t,r)};Pe.useTransition=function(){return sr.current.useTransition()};Pe.version="18.3.1";J0.exports=Pe;var m=J0.exports;const B=Y0(m),Gp=Q0({__proto__:null,default:B},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR=m,CR=Symbol.for("react.element"),ER=Symbol.for("react.fragment"),NR=Object.prototype.hasOwnProperty,kR=SR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RR={key:!0,ref:!0,__self:!0,__source:!0};function ab(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)NR.call(t,n)&&!RR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:CR,type:e,key:i,ref:o,props:s,_owner:kR.current}}Kd.Fragment=ER;Kd.jsx=ab;Kd.jsxs=ab;Z0.exports=Kd;var a=Z0.exports,lb={exports:{}},Er={},cb={exports:{}},ub={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,T){var D=I.length;I.push(T);e:for(;0<D;){var W=D-1>>>1,Z=I[W];if(0<s(Z,T))I[W]=T,I[D]=Z,D=W;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var T=I[0],D=I.pop();if(D!==T){I[0]=D;e:for(var W=0,Z=I.length,me=Z>>>1;W<me;){var pe=2*(W+1)-1,$e=I[pe],Fe=pe+1,Q=I[Fe];if(0>s($e,D))Fe<Z&&0>s(Q,$e)?(I[W]=Q,I[Fe]=D,W=Fe):(I[W]=$e,I[pe]=D,W=pe);else if(Fe<Z&&0>s(Q,D))I[W]=Q,I[Fe]=D,W=Fe;else break e}}return T}function s(I,T){var D=I.sortIndex-T.sortIndex;return D!==0?D:I.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,w=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=I)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(I){if(g=!1,b(I),!w)if(r(c)!==null)w=!0,K(j);else{var T=r(u);T!==null&&se(_,T.startTime-I)}}function j(I,T){w=!1,g&&(g=!1,v(N),N=-1),p=!0;var D=h;try{for(b(T),f=r(c);f!==null&&(!(f.expirationTime>T)||I&&!M());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var Z=W(f.expirationTime<=T);T=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(c)&&n(c),b(T)}else n(c);f=r(c)}if(f!==null)var me=!0;else{var pe=r(u);pe!==null&&se(_,pe.startTime-T),me=!1}return me}finally{f=null,h=D,p=!1}}var C=!1,S=null,N=-1,E=5,P=-1;function M(){return!(e.unstable_now()-P<E)}function O(){if(S!==null){var I=e.unstable_now();P=I;var T=!0;try{T=S(!0,I)}finally{T?U():(C=!1,S=null)}}else C=!1}var U;if(typeof y=="function")U=function(){y(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=O,U=function(){X.postMessage(null)}}else U=function(){x(O,0)};function K(I){S=I,C||(C=!0,U())}function se(I,T){N=x(function(){I(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,K(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var D=h;h=T;try{return I()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,T){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var D=h;h=I;try{return T()}finally{h=D}},e.unstable_scheduleCallback=function(I,T,D){var W=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=D+Z,I={id:d++,callback:T,priorityLevel:I,startTime:D,expirationTime:Z,sortIndex:-1},D>W?(I.sortIndex=D,t(u,I),r(c)===null&&I===r(u)&&(g?(v(N),N=-1):g=!0,se(_,D-W))):(I.sortIndex=Z,t(c,I),w||p||(w=!0,K(j))),I},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(I){var T=h;return function(){var D=h;h=T;try{return I.apply(this,arguments)}finally{h=D}}}})(ub);cb.exports=ub;var TR=cb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR=m,Sr=TR;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var db=new Set,$l={};function fo(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for($l[e]=t,e=0;e<t.length;e++)db.add(t[e])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hh=Object.prototype.hasOwnProperty,AR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xy={},wy={};function OR(e){return Hh.call(wy,e)?!0:Hh.call(xy,e)?!1:AR.test(e)?wy[e]=!0:(xy[e]=!0,!1)}function IR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DR(e,t,r,n){if(t===null||typeof t>"u"||IR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dt[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dt[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dt[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dt[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dt[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dt[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dt[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dt[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dt[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qp=/[\-:]([a-z])/g;function Yp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qp,Yp);Dt[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qp,Yp);Dt[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qp,Yp);Dt[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dt[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dt[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zp(e,t,r,n){var s=Dt.hasOwnProperty(t)?Dt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DR(t,r,s,n)&&(r=null),n||s===null?OR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ls=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vc=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),fb=Symbol.for("react.provider"),hb=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Qh=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),mb=Symbol.for("react.offscreen"),by=Symbol.iterator;function Za(e){return e===null||typeof e!="object"?null:(e=by&&e[by]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,Hf;function dl(e){if(Hf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hf=t&&t[1]||""}return`
`+Hf+e}var Kf=!1;function Gf(e,t){if(!e||Kf)return"";Kf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Kf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dl(e):""}function MR(e){switch(e.tag){case 5:return dl(e.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return e=Gf(e.type,!1),e;case 11:return e=Gf(e.type.render,!1),e;case 1:return e=Gf(e.type,!0),e;default:return""}}function Yh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case Io:return"Portal";case Kh:return"Profiler";case Jp:return"StrictMode";case Gh:return"Suspense";case Qh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hb:return(e.displayName||"Context")+".Consumer";case fb:return(e._context.displayName||"Context")+".Provider";case Xp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eg:return t=e.displayName||null,t!==null?t:Yh(e.type)||"Memo";case bs:t=e._payload,e=e._init;try{return Yh(e(t))}catch{}}return null}function LR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yh(t);case 8:return t===Jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $R(e){var t=pb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qc(e){e._valueTracker||(e._valueTracker=$R(e))}function gb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ku(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zh(e,t){var r=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _y(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ti(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vb(e,t){t=t.checked,t!=null&&Zp(e,"checked",t,!1)}function Jh(e,t){vb(e,t);var r=ti(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xh(e,t.type,ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xh(e,t,r){(t!=="number"||Ku(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fl=Array.isArray;function Ko(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ti(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(fl(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ti(r)}}function yb(e,t){var r=ti(t.value),n=ti(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Cy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wc,wb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wc=Wc||document.createElement("div"),Wc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FR=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){FR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function bb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function _b(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=bb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var UR=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(e,t){if(t){if(UR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function nm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=null;function tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var im=null,Go=null,Qo=null;function Ey(e){if(e=Cc(e)){if(typeof im!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Jd(t),im(e.stateNode,e.type,t))}}function jb(e){Go?Qo?Qo.push(e):Qo=[e]:Go=e}function Sb(){if(Go){var e=Go,t=Qo;if(Qo=Go=null,Ey(e),t)for(e=0;e<t.length;e++)Ey(t[e])}}function Cb(e,t){return e(t)}function Eb(){}var Qf=!1;function Nb(e,t,r){if(Qf)return e(t,r);Qf=!0;try{return Cb(e,t,r)}finally{Qf=!1,(Go!==null||Qo!==null)&&(Eb(),Sb())}}function Ul(e,t){var r=e.stateNode;if(r===null)return null;var n=Jd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var om=!1;if(ts)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){om=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{om=!1}function zR(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Sl=!1,Gu=null,Qu=!1,am=null,BR={onError:function(e){Sl=!0,Gu=e}};function VR(e,t,r,n,s,i,o,l,c){Sl=!1,Gu=null,zR.apply(BR,arguments)}function qR(e,t,r,n,s,i,o,l,c){if(VR.apply(this,arguments),Sl){if(Sl){var u=Gu;Sl=!1,Gu=null}else throw Error(q(198));Qu||(Qu=!0,am=u)}}function ho(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ny(e){if(ho(e)!==e)throw Error(q(188))}function WR(e){var t=e.alternate;if(!t){if(t=ho(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ny(s),e;if(i===n)return Ny(s),t;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function Rb(e){return e=WR(e),e!==null?Tb(e):null}function Tb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tb(e);if(t!==null)return t;e=e.sibling}return null}var Pb=Sr.unstable_scheduleCallback,ky=Sr.unstable_cancelCallback,HR=Sr.unstable_shouldYield,KR=Sr.unstable_requestPaint,ft=Sr.unstable_now,GR=Sr.unstable_getCurrentPriorityLevel,rg=Sr.unstable_ImmediatePriority,Ab=Sr.unstable_UserBlockingPriority,Yu=Sr.unstable_NormalPriority,QR=Sr.unstable_LowPriority,Ob=Sr.unstable_IdlePriority,Gd=null,En=null;function YR(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Gd,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:XR,ZR=Math.log,JR=Math.LN2;function XR(e){return e>>>=0,e===0?32:31-(ZR(e)/JR|0)|0}var Hc=64,Kc=4194304;function hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=hl(l):(i&=o,i!==0&&(n=hl(i)))}else o=r&~s,o!==0?n=hl(o):i!==0&&(n=hl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-on(t),s=1<<r,n|=e[r],t&=~s;return n}function eT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-on(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=eT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function lm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ib(){var e=Hc;return Hc<<=1,!(Hc&4194240)&&(Hc=64),e}function Yf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=r}function rT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-on(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ng(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-on(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var He=0;function Db(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mb,sg,Lb,$b,Fb,cm=!1,Gc=[],Bs=null,Vs=null,qs=null,zl=new Map,Bl=new Map,Ss=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ry(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(t.pointerId)}}function Xa(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cc(t),t!==null&&sg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sT(e,t,r,n,s){switch(t){case"focusin":return Bs=Xa(Bs,e,t,r,n,s),!0;case"dragenter":return Vs=Xa(Vs,e,t,r,n,s),!0;case"mouseover":return qs=Xa(qs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return zl.set(i,Xa(zl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bl.set(i,Xa(Bl.get(i)||null,e,t,r,n,s)),!0}return!1}function Ub(e){var t=Ti(e.target);if(t!==null){var r=ho(t);if(r!==null){if(t=r.tag,t===13){if(t=kb(r),t!==null){e.blockedOn=t,Fb(e.priority,function(){Lb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ru(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=um(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sm=n,r.target.dispatchEvent(n),sm=null}else return t=Cc(r),t!==null&&sg(t),e.blockedOn=r,!1;t.shift()}return!0}function Ty(e,t,r){Ru(e)&&r.delete(t)}function iT(){cm=!1,Bs!==null&&Ru(Bs)&&(Bs=null),Vs!==null&&Ru(Vs)&&(Vs=null),qs!==null&&Ru(qs)&&(qs=null),zl.forEach(Ty),Bl.forEach(Ty)}function el(e,t){e.blockedOn===t&&(e.blockedOn=null,cm||(cm=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,iT)))}function Vl(e){function t(s){return el(s,e)}if(0<Gc.length){el(Gc[0],e);for(var r=1;r<Gc.length;r++){var n=Gc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bs!==null&&el(Bs,e),Vs!==null&&el(Vs,e),qs!==null&&el(qs,e),zl.forEach(t),Bl.forEach(t),r=0;r<Ss.length;r++)n=Ss[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ss.length&&(r=Ss[0],r.blockedOn===null);)Ub(r),r.blockedOn===null&&Ss.shift()}var Yo=ls.ReactCurrentBatchConfig,Ju=!0;function oT(e,t,r,n){var s=He,i=Yo.transition;Yo.transition=null;try{He=1,ig(e,t,r,n)}finally{He=s,Yo.transition=i}}function aT(e,t,r,n){var s=He,i=Yo.transition;Yo.transition=null;try{He=4,ig(e,t,r,n)}finally{He=s,Yo.transition=i}}function ig(e,t,r,n){if(Ju){var s=um(e,t,r,n);if(s===null)oh(e,t,n,Xu,r),Ry(e,n);else if(sT(s,e,t,r,n))n.stopPropagation();else if(Ry(e,n),t&4&&-1<nT.indexOf(e)){for(;s!==null;){var i=Cc(s);if(i!==null&&Mb(i),i=um(e,t,r,n),i===null&&oh(e,t,n,Xu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else oh(e,t,n,null,r)}}var Xu=null;function um(e,t,r,n){if(Xu=null,e=tg(n),e=Ti(e),e!==null)if(t=ho(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xu=e,null}function zb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GR()){case rg:return 1;case Ab:return 4;case Yu:case QR:return 16;case Ob:return 536870912;default:return 16}default:return 16}}var $s=null,og=null,Tu=null;function Bb(){if(Tu)return Tu;var e,t=og,r=t.length,n,s="value"in $s?$s.value:$s.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Tu=s.slice(e,1<n?1-n:void 0)}function Pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qc(){return!0}function Py(){return!1}function Nr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qc:Py,this.isPropagationStopped=Py,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),t}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ag=Nr(Ma),Sc=at({},Ma,{view:0,detail:0}),lT=Nr(Sc),Zf,Jf,tl,Qd=at({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(Zf=e.screenX-tl.screenX,Jf=e.screenY-tl.screenY):Jf=Zf=0,tl=e),Zf)},movementY:function(e){return"movementY"in e?e.movementY:Jf}}),Ay=Nr(Qd),cT=at({},Qd,{dataTransfer:0}),uT=Nr(cT),dT=at({},Sc,{relatedTarget:0}),Xf=Nr(dT),fT=at({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),hT=Nr(fT),mT=at({},Ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pT=Nr(mT),gT=at({},Ma,{data:0}),Oy=Nr(gT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xT[e])?!!t[e]:!1}function lg(){return wT}var bT=at({},Sc,{key:function(e){if(e.key){var t=vT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lg,charCode:function(e){return e.type==="keypress"?Pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_T=Nr(bT),jT=at({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iy=Nr(jT),ST=at({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lg}),CT=Nr(ST),ET=at({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),NT=Nr(ET),kT=at({},Qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=Nr(kT),TT=[9,13,27,32],cg=ts&&"CompositionEvent"in window,Cl=null;ts&&"documentMode"in document&&(Cl=document.documentMode);var PT=ts&&"TextEvent"in window&&!Cl,Vb=ts&&(!cg||Cl&&8<Cl&&11>=Cl),Dy=" ",My=!1;function qb(e,t){switch(e){case"keyup":return TT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function AT(e,t){switch(e){case"compositionend":return Wb(t);case"keypress":return t.which!==32?null:(My=!0,Dy);case"textInput":return e=t.data,e===Dy&&My?null:e;default:return null}}function OT(e,t){if(Mo)return e==="compositionend"||!cg&&qb(e,t)?(e=Bb(),Tu=og=$s=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vb&&t.locale!=="ko"?null:t.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IT[e.type]:t==="textarea"}function Hb(e,t,r,n){jb(n),t=ed(t,"onChange"),0<t.length&&(r=new ag("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var El=null,ql=null;function DT(e){n_(e,0)}function Yd(e){var t=Fo(e);if(gb(t))return e}function MT(e,t){if(e==="change")return t}var Kb=!1;if(ts){var eh;if(ts){var th="oninput"in document;if(!th){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),th=typeof $y.oninput=="function"}eh=th}else eh=!1;Kb=eh&&(!document.documentMode||9<document.documentMode)}function Fy(){El&&(El.detachEvent("onpropertychange",Gb),ql=El=null)}function Gb(e){if(e.propertyName==="value"&&Yd(ql)){var t=[];Hb(t,ql,e,tg(e)),Nb(DT,t)}}function LT(e,t,r){e==="focusin"?(Fy(),El=t,ql=r,El.attachEvent("onpropertychange",Gb)):e==="focusout"&&Fy()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yd(ql)}function FT(e,t){if(e==="click")return Yd(t)}function UT(e,t){if(e==="input"||e==="change")return Yd(t)}function zT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:zT;function Wl(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Hh.call(t,s)||!ln(e[s],t[s]))return!1}return!0}function Uy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zy(e,t){var r=Uy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uy(r)}}function Qb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yb(){for(var e=window,t=Ku();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ku(e.document)}return t}function ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BT(e){var t=Yb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qb(r.ownerDocument.documentElement,r)){if(n!==null&&ug(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=zy(r,i);var o=zy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VT=ts&&"documentMode"in document&&11>=document.documentMode,Lo=null,dm=null,Nl=null,fm=!1;function By(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fm||Lo==null||Lo!==Ku(n)||(n=Lo,"selectionStart"in n&&ug(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nl&&Wl(Nl,n)||(Nl=n,n=ed(dm,"onSelect"),0<n.length&&(t=new ag("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Lo)))}function Yc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $o={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},rh={},Zb={};ts&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Zd(e){if(rh[e])return rh[e];if(!$o[e])return e;var t=$o[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zb)return rh[e]=t[r];return e}var Jb=Zd("animationend"),Xb=Zd("animationiteration"),e_=Zd("animationstart"),t_=Zd("transitionend"),r_=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){r_.set(e,t),fo(t,[e])}for(var nh=0;nh<Vy.length;nh++){var sh=Vy[nh],qT=sh.toLowerCase(),WT=sh[0].toUpperCase()+sh.slice(1);fi(qT,"on"+WT)}fi(Jb,"onAnimationEnd");fi(Xb,"onAnimationIteration");fi(e_,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(t_,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function qy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qR(n,t,void 0,e),e.currentTarget=null}function n_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qy(s,l,u),i=c}}}if(Qu)throw e=am,Qu=!1,am=null,e}function Xe(e,t){var r=t[vm];r===void 0&&(r=t[vm]=new Set);var n=e+"__bubble";r.has(n)||(s_(t,e,2,!1),r.add(n))}function ih(e,t,r){var n=0;t&&(n|=4),s_(r,e,n,t)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Hl(e){if(!e[Zc]){e[Zc]=!0,db.forEach(function(r){r!=="selectionchange"&&(HT.has(r)||ih(r,!1,e),ih(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zc]||(t[Zc]=!0,ih("selectionchange",!1,t))}}function s_(e,t,r,n){switch(zb(t)){case 1:var s=oT;break;case 4:s=aT;break;default:s=ig}r=s.bind(null,t,r,e),s=void 0,!om||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function oh(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ti(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Nb(function(){var u=i,d=tg(r),f=[];e:{var h=r_.get(e);if(h!==void 0){var p=ag,w=e;switch(e){case"keypress":if(Pu(r)===0)break e;case"keydown":case"keyup":p=_T;break;case"focusin":w="focus",p=Xf;break;case"focusout":w="blur",p=Xf;break;case"beforeblur":case"afterblur":p=Xf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CT;break;case Jb:case Xb:case e_:p=hT;break;case t_:p=NT;break;case"scroll":p=lT;break;case"wheel":p=RT;break;case"copy":case"cut":case"paste":p=pT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Iy}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=Ul(y,v),_!=null&&g.push(Kl(y,_,b)))),x)break;y=y.return}0<g.length&&(h=new p(h,w,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==sm&&(w=r.relatedTarget||r.fromElement)&&(Ti(w)||w[rs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?Ti(w):null,w!==null&&(x=ho(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(g=Ay,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Iy,_="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?h:Fo(p),b=w==null?h:Fo(w),h=new g(_,y+"leave",p,r,d),h.target=x,h.relatedTarget=b,_=null,Ti(d)===u&&(g=new g(v,y+"enter",w,r,d),g.target=b,g.relatedTarget=x,_=g),x=_,p&&w)t:{for(g=p,v=w,y=0,b=g;b;b=xo(b))y++;for(b=0,_=v;_;_=xo(_))b++;for(;0<y-b;)g=xo(g),y--;for(;0<b-y;)v=xo(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=xo(g),v=xo(v)}g=null}else g=null;p!==null&&Wy(f,h,p,g,!1),w!==null&&x!==null&&Wy(f,x,w,g,!0)}}e:{if(h=u?Fo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=MT;else if(Ly(h))if(Kb)j=UT;else{j=$T;var C=LT}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=FT);if(j&&(j=j(e,u))){Hb(f,j,r,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Xh(h,"number",h.value)}switch(C=u?Fo(u):window,e){case"focusin":(Ly(C)||C.contentEditable==="true")&&(Lo=C,dm=u,Nl=null);break;case"focusout":Nl=dm=Lo=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,By(f,r,d);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":By(f,r,d)}var S;if(cg)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Mo?qb(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Vb&&r.locale!=="ko"&&(Mo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Mo&&(S=Bb()):($s=d,og="value"in $s?$s.value:$s.textContent,Mo=!0)),C=ed(u,N),0<C.length&&(N=new Oy(N,e,null,r,d),f.push({event:N,listeners:C}),S?N.data=S:(S=Wb(r),S!==null&&(N.data=S)))),(S=PT?AT(e,r):OT(e,r))&&(u=ed(u,"onBeforeInput"),0<u.length&&(d=new Oy("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}n_(f,t)})}function Kl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ed(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ul(e,r),i!=null&&n.unshift(Kl(e,i,s)),i=Ul(e,t),i!=null&&n.push(Kl(e,i,s))),e=e.return}return n}function xo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ul(r,i),c!=null&&o.unshift(Kl(r,c,l))):s||(c=Ul(r,i),c!=null&&o.push(Kl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var KT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(KT,`
`).replace(GT,"")}function Jc(e,t,r){if(t=Hy(t),Hy(e)!==t&&r)throw Error(q(425))}function td(){}var hm=null,mm=null;function pm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,YT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(ZT)}:gm;function ZT(e){setTimeout(function(){throw e})}function ah(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vl(t)}function Ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var La=Math.random().toString(36).slice(2),jn="__reactFiber$"+La,Gl="__reactProps$"+La,rs="__reactContainer$"+La,vm="__reactEvents$"+La,JT="__reactListeners$"+La,XT="__reactHandles$"+La;function Ti(e){var t=e[jn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rs]||r[jn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gy(e);e!==null;){if(r=e[jn])return r;e=Gy(e)}return t}e=r,r=e.parentNode}return null}function Cc(e){return e=e[jn]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Jd(e){return e[Gl]||null}var ym=[],Uo=-1;function hi(e){return{current:e}}function et(e){0>Uo||(e.current=ym[Uo],ym[Uo]=null,Uo--)}function Ze(e,t){Uo++,ym[Uo]=e.current,e.current=t}var ri={},Kt=hi(ri),mr=hi(!1),Ki=ri;function va(e,t){var r=e.type.contextTypes;if(!r)return ri;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pr(e){return e=e.childContextTypes,e!=null}function rd(){et(mr),et(Kt)}function Qy(e,t,r){if(Kt.current!==ri)throw Error(q(168));Ze(Kt,t),Ze(mr,r)}function i_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(q(108,LR(e)||"Unknown",s));return at({},r,n)}function nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,Ki=Kt.current,Ze(Kt,e),Ze(mr,mr.current),!0}function Yy(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=i_(e,t,Ki),n.__reactInternalMemoizedMergedChildContext=e,et(mr),et(Kt),Ze(Kt,e)):et(mr),Ze(mr,r)}var Wn=null,Xd=!1,lh=!1;function o_(e){Wn===null?Wn=[e]:Wn.push(e)}function eP(e){Xd=!0,o_(e)}function mi(){if(!lh&&Wn!==null){lh=!0;var e=0,t=He;try{var r=Wn;for(He=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wn=null,Xd=!1}catch(s){throw Wn!==null&&(Wn=Wn.slice(e+1)),Pb(rg,mi),s}finally{He=t,lh=!1}}return null}var zo=[],Bo=0,sd=null,id=0,Pr=[],Ar=0,Gi=null,Gn=1,Qn="";function Si(e,t){zo[Bo++]=id,zo[Bo++]=sd,sd=e,id=t}function a_(e,t,r){Pr[Ar++]=Gn,Pr[Ar++]=Qn,Pr[Ar++]=Gi,Gi=e;var n=Gn;e=Qn;var s=32-on(n)-1;n&=~(1<<s),r+=1;var i=32-on(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Gn=1<<32-on(t)+s|r<<s|n,Qn=i+e}else Gn=1<<i|r<<s|n,Qn=e}function dg(e){e.return!==null&&(Si(e,1),a_(e,1,0))}function fg(e){for(;e===sd;)sd=zo[--Bo],zo[Bo]=null,id=zo[--Bo],zo[Bo]=null;for(;e===Gi;)Gi=Pr[--Ar],Pr[Ar]=null,Qn=Pr[--Ar],Pr[Ar]=null,Gn=Pr[--Ar],Pr[Ar]=null}var _r=null,br=null,rt=!1,tn=null;function l_(e,t){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_r=e,br=Ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_r=e,br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gi!==null?{id:Gn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_r=e,br=null,!0):!1;default:return!1}}function xm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wm(e){if(rt){var t=br;if(t){var r=t;if(!Zy(e,t)){if(xm(e))throw Error(q(418));t=Ws(r.nextSibling);var n=_r;t&&Zy(e,t)?l_(n,r):(e.flags=e.flags&-4097|2,rt=!1,_r=e)}}else{if(xm(e))throw Error(q(418));e.flags=e.flags&-4097|2,rt=!1,_r=e}}}function Jy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_r=e}function Xc(e){if(e!==_r)return!1;if(!rt)return Jy(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pm(e.type,e.memoizedProps)),t&&(t=br)){if(xm(e))throw c_(),Error(q(418));for(;t;)l_(e,t),t=Ws(t.nextSibling)}if(Jy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){br=Ws(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}br=null}}else br=_r?Ws(e.stateNode.nextSibling):null;return!0}function c_(){for(var e=br;e;)e=Ws(e.nextSibling)}function ya(){br=_r=null,rt=!1}function hg(e){tn===null?tn=[e]:tn.push(e)}var tP=ls.ReactCurrentBatchConfig;function rl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function eu(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xy(e){var t=e._init;return t(e._payload)}function u_(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Qs(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,_){return y===null||y.tag!==6?(y=ph(b,v.mode,_),y.return=v,y):(y=s(y,b),y.return=v,y)}function c(v,y,b,_){var j=b.type;return j===Do?d(v,y,b.props.children,_,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bs&&Xy(j)===y.type)?(_=s(y,b.props),_.ref=rl(v,y,b),_.return=v,_):(_=$u(b.type,b.key,b.props,null,v.mode,_),_.ref=rl(v,y,b),_.return=v,_)}function u(v,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=gh(b,v.mode,_),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function d(v,y,b,_,j){return y===null||y.tag!==7?(y=Wi(b,v.mode,_,j),y.return=v,y):(y=s(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ph(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vc:return b=$u(y.type,y.key,y.props,null,v.mode,b),b.ref=rl(v,null,y),b.return=v,b;case Io:return y=gh(y,v.mode,b),y.return=v,y;case bs:var _=y._init;return f(v,_(y._payload),b)}if(fl(y)||Za(y))return y=Wi(y,v.mode,b,null),y.return=v,y;eu(v,y)}return null}function h(v,y,b,_){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(v,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vc:return b.key===j?c(v,y,b,_):null;case Io:return b.key===j?u(v,y,b,_):null;case bs:return j=b._init,h(v,y,j(b._payload),_)}if(fl(b)||Za(b))return j!==null?null:d(v,y,b,_,null);eu(v,b)}return null}function p(v,y,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(y,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vc:return v=v.get(_.key===null?b:_.key)||null,c(y,v,_,j);case Io:return v=v.get(_.key===null?b:_.key)||null,u(y,v,_,j);case bs:var C=_._init;return p(v,y,b,C(_._payload),j)}if(fl(_)||Za(_))return v=v.get(b)||null,d(y,v,_,j,null);eu(y,_)}return null}function w(v,y,b,_){for(var j=null,C=null,S=y,N=y=0,E=null;S!==null&&N<b.length;N++){S.index>N?(E=S,S=null):E=S.sibling;var P=h(v,S,b[N],_);if(P===null){S===null&&(S=E);break}e&&S&&P.alternate===null&&t(v,S),y=i(P,y,N),C===null?j=P:C.sibling=P,C=P,S=E}if(N===b.length)return r(v,S),rt&&Si(v,N),j;if(S===null){for(;N<b.length;N++)S=f(v,b[N],_),S!==null&&(y=i(S,y,N),C===null?j=S:C.sibling=S,C=S);return rt&&Si(v,N),j}for(S=n(v,S);N<b.length;N++)E=p(S,v,N,b[N],_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?N:E.key),y=i(E,y,N),C===null?j=E:C.sibling=E,C=E);return e&&S.forEach(function(M){return t(v,M)}),rt&&Si(v,N),j}function g(v,y,b,_){var j=Za(b);if(typeof j!="function")throw Error(q(150));if(b=j.call(b),b==null)throw Error(q(151));for(var C=j=null,S=y,N=y=0,E=null,P=b.next();S!==null&&!P.done;N++,P=b.next()){S.index>N?(E=S,S=null):E=S.sibling;var M=h(v,S,P.value,_);if(M===null){S===null&&(S=E);break}e&&S&&M.alternate===null&&t(v,S),y=i(M,y,N),C===null?j=M:C.sibling=M,C=M,S=E}if(P.done)return r(v,S),rt&&Si(v,N),j;if(S===null){for(;!P.done;N++,P=b.next())P=f(v,P.value,_),P!==null&&(y=i(P,y,N),C===null?j=P:C.sibling=P,C=P);return rt&&Si(v,N),j}for(S=n(v,S);!P.done;N++,P=b.next())P=p(S,v,N,P.value,_),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?N:P.key),y=i(P,y,N),C===null?j=P:C.sibling=P,C=P);return e&&S.forEach(function(O){return t(v,O)}),rt&&Si(v,N),j}function x(v,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Do&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vc:e:{for(var j=b.key,C=y;C!==null;){if(C.key===j){if(j=b.type,j===Do){if(C.tag===7){r(v,C.sibling),y=s(C,b.props.children),y.return=v,v=y;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bs&&Xy(j)===C.type){r(v,C.sibling),y=s(C,b.props),y.ref=rl(v,C,b),y.return=v,v=y;break e}r(v,C);break}else t(v,C);C=C.sibling}b.type===Do?(y=Wi(b.props.children,v.mode,_,b.key),y.return=v,v=y):(_=$u(b.type,b.key,b.props,null,v.mode,_),_.ref=rl(v,y,b),_.return=v,v=_)}return o(v);case Io:e:{for(C=b.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=gh(b,v.mode,_),y.return=v,v=y}return o(v);case bs:return C=b._init,x(v,y,C(b._payload),_)}if(fl(b))return w(v,y,b,_);if(Za(b))return g(v,y,b,_);eu(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,b),y.return=v,v=y):(r(v,y),y=ph(b,v.mode,_),y.return=v,v=y),o(v)):r(v,y)}return x}var xa=u_(!0),d_=u_(!1),od=hi(null),ad=null,Vo=null,mg=null;function pg(){mg=Vo=ad=null}function gg(e){var t=od.current;et(od),e._currentValue=t}function bm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zo(e,t){ad=e,mg=Vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function Lr(e){var t=e._currentValue;if(mg!==e)if(e={context:e,memoizedValue:t,next:null},Vo===null){if(ad===null)throw Error(q(308));Vo=e,ad.dependencies={lanes:0,firstContext:e}}else Vo=Vo.next=e;return t}var Pi=null;function vg(e){Pi===null?Pi=[e]:Pi.push(e)}function f_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,vg(t)):(r.next=s.next,s.next=r),t.interleaved=r,ns(e,n)}function ns(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _s=!1;function yg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ue&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ns(e,r)}return s=n.interleaved,s===null?(t.next=t,vg(n)):(t.next=s.next,s.next=t),n.interleaved=t,ns(e,r)}function Au(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ng(e,r)}}function ex(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ld(e,t,r,n){var s=e.updateQueue;_s=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(h=t,p=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=at({},f,h);break e;case 2:_s=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yi|=o,e.lanes=o,e.memoizedState=f}}function tx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var Ec={},Nn=hi(Ec),Ql=hi(Ec),Yl=hi(Ec);function Ai(e){if(e===Ec)throw Error(q(174));return e}function xg(e,t){switch(Ze(Yl,t),Ze(Ql,e),Ze(Nn,Ec),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tm(t,e)}et(Nn),Ze(Nn,t)}function wa(){et(Nn),et(Ql),et(Yl)}function m_(e){Ai(Yl.current);var t=Ai(Nn.current),r=tm(t,e.type);t!==r&&(Ze(Ql,e),Ze(Nn,r))}function wg(e){Ql.current===e&&(et(Nn),et(Ql))}var it=hi(0);function cd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ch=[];function bg(){for(var e=0;e<ch.length;e++)ch[e]._workInProgressVersionPrimary=null;ch.length=0}var Ou=ls.ReactCurrentDispatcher,uh=ls.ReactCurrentBatchConfig,Qi=0,ot=null,bt=null,Nt=null,ud=!1,kl=!1,Zl=0,rP=0;function Lt(){throw Error(q(321))}function _g(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function jg(e,t,r,n,s,i){if(Qi=i,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ou.current=e===null||e.memoizedState===null?oP:aP,e=r(n,s),kl){i=0;do{if(kl=!1,Zl=0,25<=i)throw Error(q(301));i+=1,Nt=bt=null,t.updateQueue=null,Ou.current=lP,e=r(n,s)}while(kl)}if(Ou.current=dd,t=bt!==null&&bt.next!==null,Qi=0,Nt=bt=ot=null,ud=!1,t)throw Error(q(300));return e}function Sg(){var e=Zl!==0;return Zl=0,e}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ot.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function $r(){if(bt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Nt===null?ot.memoizedState:Nt.next;if(t!==null)Nt=t,bt=e;else{if(e===null)throw Error(q(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Nt===null?ot.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Jl(e,t){return typeof t=="function"?t(e):t}function dh(e){var t=$r(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=bt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Qi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ot.lanes|=d,Yi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ln(n,t.memoizedState)||(hr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ot.lanes|=i,Yi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fh(e){var t=$r(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ln(i,t.memoizedState)||(hr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function p_(){}function g_(e,t){var r=ot,n=$r(),s=t(),i=!ln(n.memoizedState,s);if(i&&(n.memoizedState=s,hr=!0),n=n.queue,Cg(x_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Xl(9,y_.bind(null,r,n,s,t),void 0,null),Rt===null)throw Error(q(349));Qi&30||v_(r,t,s)}return s}function v_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function y_(e,t,r,n){t.value=r,t.getSnapshot=n,w_(t)&&b_(e)}function x_(e,t,r){return r(function(){w_(t)&&b_(e)})}function w_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch{return!0}}function b_(e){var t=ns(e,1);t!==null&&an(t,e,1,-1)}function rx(e){var t=yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:e},t.queue=e,e=e.dispatch=iP.bind(null,ot,e),[t.memoizedState,e]}function Xl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function __(){return $r().memoizedState}function Iu(e,t,r,n){var s=yn();ot.flags|=e,s.memoizedState=Xl(1|t,r,void 0,n===void 0?null:n)}function ef(e,t,r,n){var s=$r();n=n===void 0?null:n;var i=void 0;if(bt!==null){var o=bt.memoizedState;if(i=o.destroy,n!==null&&_g(n,o.deps)){s.memoizedState=Xl(t,r,i,n);return}}ot.flags|=e,s.memoizedState=Xl(1|t,r,i,n)}function nx(e,t){return Iu(8390656,8,e,t)}function Cg(e,t){return ef(2048,8,e,t)}function j_(e,t){return ef(4,2,e,t)}function S_(e,t){return ef(4,4,e,t)}function C_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E_(e,t,r){return r=r!=null?r.concat([e]):null,ef(4,4,C_.bind(null,t,e),r)}function Eg(){}function N_(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_g(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function k_(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_g(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function R_(e,t,r){return Qi&21?(ln(r,t)||(r=Ib(),ot.lanes|=r,Yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=r)}function nP(e,t){var r=He;He=r!==0&&4>r?r:4,e(!0);var n=uh.transition;uh.transition={};try{e(!1),t()}finally{He=r,uh.transition=n}}function T_(){return $r().memoizedState}function sP(e,t,r){var n=Gs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},P_(e))A_(t,r);else if(r=f_(e,t,r,n),r!==null){var s=nr();an(r,e,n,s),O_(r,t,n)}}function iP(e,t,r){var n=Gs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(P_(e))A_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ln(l,o)){var c=t.interleaved;c===null?(s.next=s,vg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=f_(e,t,s,n),r!==null&&(s=nr(),an(r,e,n,s),O_(r,t,n))}}function P_(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function A_(e,t){kl=ud=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function O_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ng(e,r)}}var dd={readContext:Lr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},oP={readContext:Lr,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:Lr,useEffect:nx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Iu(4194308,4,C_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Iu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Iu(4,2,e,t)},useMemo:function(e,t){var r=yn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sP.bind(null,ot,e),[n.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:rx,useDebugValue:Eg,useDeferredValue:function(e){return yn().memoizedState=e},useTransition:function(){var e=rx(!1),t=e[0];return e=nP.bind(null,e[1]),yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ot,s=yn();if(rt){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),Rt===null)throw Error(q(349));Qi&30||v_(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,nx(x_.bind(null,n,i,e),[e]),n.flags|=2048,Xl(9,y_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yn(),t=Rt.identifierPrefix;if(rt){var r=Qn,n=Gn;r=(n&~(1<<32-on(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aP={readContext:Lr,useCallback:N_,useContext:Lr,useEffect:Cg,useImperativeHandle:E_,useInsertionEffect:j_,useLayoutEffect:S_,useMemo:k_,useReducer:dh,useRef:__,useState:function(){return dh(Jl)},useDebugValue:Eg,useDeferredValue:function(e){var t=$r();return R_(t,bt.memoizedState,e)},useTransition:function(){var e=dh(Jl)[0],t=$r().memoizedState;return[e,t]},useMutableSource:p_,useSyncExternalStore:g_,useId:T_,unstable_isNewReconciler:!1},lP={readContext:Lr,useCallback:N_,useContext:Lr,useEffect:Cg,useImperativeHandle:E_,useInsertionEffect:j_,useLayoutEffect:S_,useMemo:k_,useReducer:fh,useRef:__,useState:function(){return fh(Jl)},useDebugValue:Eg,useDeferredValue:function(e){var t=$r();return bt===null?t.memoizedState=e:R_(t,bt.memoizedState,e)},useTransition:function(){var e=fh(Jl)[0],t=$r().memoizedState;return[e,t]},useMutableSource:p_,useSyncExternalStore:g_,useId:T_,unstable_isNewReconciler:!1};function Yr(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _m(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:at({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tf={isMounted:function(e){return(e=e._reactInternals)?ho(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=nr(),s=Gs(e),i=Yn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Hs(e,i,s),t!==null&&(an(t,e,s,n),Au(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=nr(),s=Gs(e),i=Yn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Hs(e,i,s),t!==null&&(an(t,e,s,n),Au(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nr(),n=Gs(e),s=Yn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Hs(e,s,n),t!==null&&(an(t,e,n,r),Au(t,e,n))}};function sx(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wl(r,n)||!Wl(s,i):!0}function I_(e,t,r){var n=!1,s=ri,i=t.contextType;return typeof i=="object"&&i!==null?i=Lr(i):(s=pr(t)?Ki:Kt.current,n=t.contextTypes,i=(n=n!=null)?va(e,s):ri),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ix(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&tf.enqueueReplaceState(t,t.state,null)}function jm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lr(i):(i=pr(t)?Ki:Kt.current,s.context=va(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_m(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&tf.enqueueReplaceState(s,s.state,null),ld(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ba(e,t){try{var r="",n=t;do r+=MR(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cP=typeof WeakMap=="function"?WeakMap:Map;function D_(e,t,r){r=Yn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hd||(hd=!0,Im=n),Sm(e,t)},r}function M_(e,t,r){r=Yn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Sm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sm(e,t),typeof n!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ox(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cP;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=jP.bind(null,e,t,r),t.then(e,e))}function ax(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yn(-1,1),t.tag=2,Hs(r,t,1))),r.lanes|=1),e)}var uP=ls.ReactCurrentOwner,hr=!1;function Xt(e,t,r,n){t.child=e===null?d_(t,null,r,n):xa(t,e.child,r,n)}function cx(e,t,r,n,s){r=r.render;var i=t.ref;return Zo(t,s),n=jg(e,t,r,n,i,s),r=Sg(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ss(e,t,s)):(rt&&r&&dg(t),t.flags|=1,Xt(e,t,n,s),t.child)}function ux(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Ig(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,L_(e,t,i,n,s)):(e=$u(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wl,r(o,n)&&e.ref===t.ref)return ss(e,t,s)}return t.flags|=1,e=Qs(i,n),e.ref=t.ref,e.return=t,t.child=e}function L_(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Wl(i,n)&&e.ref===t.ref)if(hr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,ss(e,t,s)}return Cm(e,t,r,n,s)}function $_(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Wo,vr),vr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Wo,vr),vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ze(Wo,vr),vr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ze(Wo,vr),vr|=n;return Xt(e,t,s,r),t.child}function F_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cm(e,t,r,n,s){var i=pr(r)?Ki:Kt.current;return i=va(t,i),Zo(t,s),r=jg(e,t,r,n,i,s),n=Sg(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ss(e,t,s)):(rt&&n&&dg(t),t.flags|=1,Xt(e,t,r,s),t.child)}function dx(e,t,r,n,s){if(pr(r)){var i=!0;nd(t)}else i=!1;if(Zo(t,s),t.stateNode===null)Du(e,t),I_(t,r,n),jm(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Lr(u):(u=pr(r)?Ki:Kt.current,u=va(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ix(t,o,n,u),_s=!1;var h=t.memoizedState;o.state=h,ld(t,n,o,s),c=t.memoizedState,l!==n||h!==c||mr.current||_s?(typeof d=="function"&&(_m(t,r,d,n),c=t.memoizedState),(l=_s||sx(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,h_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Yr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Lr(c):(c=pr(r)?Ki:Kt.current,c=va(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ix(t,o,n,c),_s=!1,h=t.memoizedState,o.state=h,ld(t,n,o,s);var w=t.memoizedState;l!==f||h!==w||mr.current||_s?(typeof p=="function"&&(_m(t,r,p,n),w=t.memoizedState),(u=_s||sx(t,r,u,n,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Em(e,t,r,n,i,s)}function Em(e,t,r,n,s,i){F_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Yy(t,r,!1),ss(e,t,i);n=t.stateNode,uP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xa(t,e.child,null,i),t.child=xa(t,null,l,i)):Xt(e,t,l,i),t.memoizedState=n.state,s&&Yy(t,r,!0),t.child}function U_(e){var t=e.stateNode;t.pendingContext?Qy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qy(e,t.context,!1),xg(e,t.containerInfo)}function fx(e,t,r,n,s){return ya(),hg(s),t.flags|=256,Xt(e,t,r,n),t.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function km(e){return{baseLanes:e,cachePool:null,transitions:null}}function z_(e,t,r){var n=t.pendingProps,s=it.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ze(it,s&1),e===null)return wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sf(o,n,0,null),e=Wi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=km(r),t.memoizedState=Nm,e):Ng(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dP(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qs(l,i):(i=Wi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?km(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Nm,n}return i=e.child,e=i.sibling,n=Qs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ng(e,t){return t=sf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tu(e,t,r,n){return n!==null&&hg(n),xa(t,e.child,null,r),e=Ng(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dP(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=hh(Error(q(422))),tu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=sf({mode:"visible",children:n.children},s,0,null),i=Wi(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xa(t,e.child,null,o),t.child.memoizedState=km(o),t.memoizedState=Nm,i);if(!(t.mode&1))return tu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(q(419)),n=hh(i,n,void 0),tu(e,t,o,n)}if(l=(o&e.childLanes)!==0,hr||l){if(n=Rt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ns(e,s),an(n,e,s,-1))}return Og(),n=hh(Error(q(421))),tu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=SP.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,br=Ws(s.nextSibling),_r=t,rt=!0,tn=null,e!==null&&(Pr[Ar++]=Gn,Pr[Ar++]=Qn,Pr[Ar++]=Gi,Gn=e.id,Qn=e.overflow,Gi=t),t=Ng(t,n.children),t.flags|=4096,t)}function hx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bm(e.return,t,r)}function mh(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function B_(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Xt(e,t,n.children,r),n=it.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hx(e,r,t);else if(e.tag===19)hx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ze(it,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&cd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),mh(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&cd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}mh(t,!0,r,null,i);break;case"together":mh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Du(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ss(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Qs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fP(e,t,r){switch(t.tag){case 3:U_(t),ya();break;case 5:m_(t);break;case 1:pr(t.type)&&nd(t);break;case 4:xg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ze(od,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ze(it,it.current&1),t.flags|=128,null):r&t.child.childLanes?z_(e,t,r):(Ze(it,it.current&1),e=ss(e,t,r),e!==null?e.sibling:null);Ze(it,it.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return B_(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(it,it.current),n)break;return null;case 22:case 23:return t.lanes=0,$_(e,t,r)}return ss(e,t,r)}var V_,Rm,q_,W_;V_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rm=function(){};q_=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ai(Nn.current);var i=null;switch(r){case"input":s=Zh(e,s),n=Zh(e,n),i=[];break;case"select":s=at({},s,{value:void 0}),n=at({},n,{value:void 0}),i=[];break;case"textarea":s=em(e,s),n=em(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=td)}rm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($l.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};W_=function(e,t,r,n){r!==n&&(t.flags|=4)};function nl(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hP(e,t,r){var n=t.pendingProps;switch(fg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return pr(t.type)&&rd(),$t(t),null;case 3:return n=t.stateNode,wa(),et(mr),et(Kt),bg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(Lm(tn),tn=null))),Rm(e,t),$t(t),null;case 5:wg(t);var s=Ai(Yl.current);if(r=t.type,e!==null&&t.stateNode!=null)q_(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return $t(t),null}if(e=Ai(Nn.current),Xc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[jn]=t,n[Gl]=i,e=(t.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(s=0;s<ml.length;s++)Xe(ml[s],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":_y(n,i),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",n);break;case"textarea":Sy(n,i),Xe("invalid",n)}rm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Jc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Jc(n.textContent,l,e),s=["children",""+l]):$l.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xe("scroll",n)}switch(r){case"input":qc(n),jy(n,i,!0);break;case"textarea":qc(n),Cy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=td)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[jn]=t,e[Gl]=n,V_(e,t,!1,!1),t.stateNode=e;e:{switch(o=nm(r,n),r){case"dialog":Xe("cancel",e),Xe("close",e),s=n;break;case"iframe":case"object":case"embed":Xe("load",e),s=n;break;case"video":case"audio":for(s=0;s<ml.length;s++)Xe(ml[s],e);s=n;break;case"source":Xe("error",e),s=n;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),s=n;break;case"details":Xe("toggle",e),s=n;break;case"input":_y(e,n),s=Zh(e,n),Xe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=at({},n,{value:void 0}),Xe("invalid",e);break;case"textarea":Sy(e,n),s=em(e,n),Xe("invalid",e);break;default:s=n}rm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?_b(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fl(e,c):typeof c=="number"&&Fl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($l.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xe("scroll",e):c!=null&&Zp(e,i,c,o))}switch(r){case"input":qc(e),jy(e,n,!1);break;case"textarea":qc(e),Cy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ti(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ko(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ko(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=td)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)W_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=Ai(Yl.current),Ai(Nn.current),Xc(t)){if(n=t.stateNode,r=t.memoizedProps,n[jn]=t,(i=n.nodeValue!==r)&&(e=_r,e!==null))switch(e.tag){case 3:Jc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jn]=t,t.stateNode=n}return $t(t),null;case 13:if(et(it),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&br!==null&&t.mode&1&&!(t.flags&128))c_(),ya(),t.flags|=98560,i=!1;else if(i=Xc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[jn]=t}else ya(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),i=!1}else tn!==null&&(Lm(tn),tn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?St===0&&(St=3):Og())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return wa(),Rm(e,t),e===null&&Hl(t.stateNode.containerInfo),$t(t),null;case 10:return gg(t.type._context),$t(t),null;case 17:return pr(t.type)&&rd(),$t(t),null;case 19:if(et(it),i=t.memoizedState,i===null)return $t(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)nl(i,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cd(e),o!==null){for(t.flags|=128,nl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ze(it,it.current&1|2),t.child}e=e.sibling}i.tail!==null&&ft()>_a&&(t.flags|=128,n=!0,nl(i,!1),t.lanes=4194304)}else{if(!n)if(e=cd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),nl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return $t(t),null}else 2*ft()-i.renderingStartTime>_a&&r!==1073741824&&(t.flags|=128,n=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,r=it.current,Ze(it,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return Ag(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vr&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function mP(e,t){switch(fg(t),t.tag){case 1:return pr(t.type)&&rd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),et(mr),et(Kt),bg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wg(t),null;case 13:if(et(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(it),null;case 4:return wa(),null;case 10:return gg(t.type._context),null;case 22:case 23:return Ag(),null;case 24:return null;default:return null}}var ru=!1,Bt=!1,pP=typeof WeakSet=="function"?WeakSet:Set,oe=null;function qo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ut(e,t,n)}else r.current=null}function Tm(e,t,r){try{r()}catch(n){ut(e,t,n)}}var mx=!1;function gP(e,t){if(hm=Ju,e=Yb(),ug(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mm={focusedElem:e,selectionRange:r},Ju=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,x=w.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Yr(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(_){ut(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return w=mx,mx=!1,w}function Rl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tm(t,r,i)}s=s.next}while(s!==n)}}function rf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function H_(e){var t=e.alternate;t!==null&&(e.alternate=null,H_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jn],delete t[Gl],delete t[vm],delete t[JT],delete t[XT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K_(e){return e.tag===5||e.tag===3||e.tag===4}function px(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Am(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=td));else if(n!==4&&(e=e.child,e!==null))for(Am(e,t,r),e=e.sibling;e!==null;)Am(e,t,r),e=e.sibling}function Om(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Om(e,t,r),e=e.sibling;e!==null;)Om(e,t,r),e=e.sibling}var Pt=null,en=!1;function ms(e,t,r){for(r=r.child;r!==null;)G_(e,t,r),r=r.sibling}function G_(e,t,r){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Gd,r)}catch{}switch(r.tag){case 5:Bt||qo(r,t);case 6:var n=Pt,s=en;Pt=null,ms(e,t,r),Pt=n,en=s,Pt!==null&&(en?(e=Pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(en?(e=Pt,r=r.stateNode,e.nodeType===8?ah(e.parentNode,r):e.nodeType===1&&ah(e,r),Vl(e)):ah(Pt,r.stateNode));break;case 4:n=Pt,s=en,Pt=r.stateNode.containerInfo,en=!0,ms(e,t,r),Pt=n,en=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tm(r,t,o),s=s.next}while(s!==n)}ms(e,t,r);break;case 1:if(!Bt&&(qo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ut(r,t,l)}ms(e,t,r);break;case 21:ms(e,t,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,ms(e,t,r),Bt=n):ms(e,t,r);break;default:ms(e,t,r)}}function gx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pP),t.forEach(function(n){var s=CP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Wr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pt=l.stateNode,en=!1;break e;case 3:Pt=l.stateNode.containerInfo,en=!0;break e;case 4:Pt=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(Pt===null)throw Error(q(160));G_(i,o,s),Pt=null,en=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ut(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Q_(t,e),t=t.sibling}function Q_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wr(t,e),vn(e),n&4){try{Rl(3,e,e.return),rf(3,e)}catch(g){ut(e,e.return,g)}try{Rl(5,e,e.return)}catch(g){ut(e,e.return,g)}}break;case 1:Wr(t,e),vn(e),n&512&&r!==null&&qo(r,r.return);break;case 5:if(Wr(t,e),vn(e),n&512&&r!==null&&qo(r,r.return),e.flags&32){var s=e.stateNode;try{Fl(s,"")}catch(g){ut(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vb(s,i),nm(l,o);var u=nm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?_b(s,f):d==="dangerouslySetInnerHTML"?wb(s,f):d==="children"?Fl(s,f):Zp(s,d,f,u)}switch(l){case"input":Jh(s,i);break;case"textarea":yb(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ko(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ko(s,!!i.multiple,i.defaultValue,!0):Ko(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gl]=i}catch(g){ut(e,e.return,g)}}break;case 6:if(Wr(t,e),vn(e),n&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){ut(e,e.return,g)}}break;case 3:if(Wr(t,e),vn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(t.containerInfo)}catch(g){ut(e,e.return,g)}break;case 4:Wr(t,e),vn(e);break;case 13:Wr(t,e),vn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Tg=ft())),n&4&&gx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Bt=(u=Bt)||d,Wr(t,e),Bt=u):Wr(t,e),vn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Rl(4,h,h.return);break;case 1:qo(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){ut(n,r,g)}}break;case 5:qo(h,h.return);break;case 22:if(h.memoizedState!==null){yx(f);continue}}p!==null?(p.return=h,oe=p):yx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bb("display",o))}catch(g){ut(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ut(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wr(t,e),vn(e),n&4&&gx(e);break;case 21:break;default:Wr(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(K_(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fl(s,""),n.flags&=-33);var i=px(e);Om(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=px(e);Am(e,l,o);break;default:throw Error(q(161))}}catch(c){ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vP(e,t,r){oe=e,Y_(e)}function Y_(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ru;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Bt;l=ru;var u=Bt;if(ru=o,(Bt=c)&&!u)for(oe=s;oe!==null;)o=oe,c=o.child,o.tag===22&&o.memoizedState!==null?xx(s):c!==null?(c.return=o,oe=c):xx(s);for(;i!==null;)oe=i,Y_(i),i=i.sibling;oe=s,ru=l,Bt=u}vx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):vx(e)}}function vx(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||rf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Yr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Bt||t.flags&512&&Pm(t)}catch(h){ut(t,t.return,h)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function yx(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function xx(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rf(4,t)}catch(c){ut(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ut(t,s,c)}}var i=t.return;try{Pm(t)}catch(c){ut(t,i,c)}break;case 5:var o=t.return;try{Pm(t)}catch(c){ut(t,o,c)}}}catch(c){ut(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var yP=Math.ceil,fd=ls.ReactCurrentDispatcher,kg=ls.ReactCurrentOwner,Dr=ls.ReactCurrentBatchConfig,Ue=0,Rt=null,xt=null,Ot=0,vr=0,Wo=hi(0),St=0,ec=null,Yi=0,nf=0,Rg=0,Tl=null,fr=null,Tg=0,_a=1/0,Vn=null,hd=!1,Im=null,Ks=null,nu=!1,Fs=null,md=0,Pl=0,Dm=null,Mu=-1,Lu=0;function nr(){return Ue&6?ft():Mu!==-1?Mu:Mu=ft()}function Gs(e){return e.mode&1?Ue&2&&Ot!==0?Ot&-Ot:tP.transition!==null?(Lu===0&&(Lu=Ib()),Lu):(e=He,e!==0||(e=window.event,e=e===void 0?16:zb(e.type)),e):1}function an(e,t,r,n){if(50<Pl)throw Pl=0,Dm=null,Error(q(185));jc(e,r,n),(!(Ue&2)||e!==Rt)&&(e===Rt&&(!(Ue&2)&&(nf|=r),St===4&&Cs(e,Ot)),gr(e,n),r===1&&Ue===0&&!(t.mode&1)&&(_a=ft()+500,Xd&&mi()))}function gr(e,t){var r=e.callbackNode;tT(e,t);var n=Zu(e,e===Rt?Ot:0);if(n===0)r!==null&&ky(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ky(r),t===1)e.tag===0?eP(wx.bind(null,e)):o_(wx.bind(null,e)),YT(function(){!(Ue&6)&&mi()}),r=null;else{switch(Db(n)){case 1:r=rg;break;case 4:r=Ab;break;case 16:r=Yu;break;case 536870912:r=Ob;break;default:r=Yu}r=sj(r,Z_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Z_(e,t){if(Mu=-1,Lu=0,Ue&6)throw Error(q(327));var r=e.callbackNode;if(Jo()&&e.callbackNode!==r)return null;var n=Zu(e,e===Rt?Ot:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pd(e,n);else{t=n;var s=Ue;Ue|=2;var i=X_();(Rt!==e||Ot!==t)&&(Vn=null,_a=ft()+500,qi(e,t));do try{bP();break}catch(l){J_(e,l)}while(!0);pg(),fd.current=i,Ue=s,xt!==null?t=0:(Rt=null,Ot=0,t=St)}if(t!==0){if(t===2&&(s=lm(e),s!==0&&(n=s,t=Mm(e,s))),t===1)throw r=ec,qi(e,0),Cs(e,n),gr(e,ft()),r;if(t===6)Cs(e,n);else{if(s=e.current.alternate,!(n&30)&&!xP(s)&&(t=pd(e,n),t===2&&(i=lm(e),i!==0&&(n=i,t=Mm(e,i))),t===1))throw r=ec,qi(e,0),Cs(e,n),gr(e,ft()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:Ci(e,fr,Vn);break;case 3:if(Cs(e,n),(n&130023424)===n&&(t=Tg+500-ft(),10<t)){if(Zu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){nr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gm(Ci.bind(null,e,fr,Vn),t);break}Ci(e,fr,Vn);break;case 4:if(Cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-on(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yP(n/1960))-n,10<n){e.timeoutHandle=gm(Ci.bind(null,e,fr,Vn),n);break}Ci(e,fr,Vn);break;case 5:Ci(e,fr,Vn);break;default:throw Error(q(329))}}}return gr(e,ft()),e.callbackNode===r?Z_.bind(null,e):null}function Mm(e,t){var r=Tl;return e.current.memoizedState.isDehydrated&&(qi(e,t).flags|=256),e=pd(e,t),e!==2&&(t=fr,fr=r,t!==null&&Lm(t)),e}function Lm(e){fr===null?fr=e:fr.push.apply(fr,e)}function xP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ln(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t){for(t&=~Rg,t&=~nf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-on(t),n=1<<r;e[r]=-1,t&=~n}}function wx(e){if(Ue&6)throw Error(q(327));Jo();var t=Zu(e,0);if(!(t&1))return gr(e,ft()),null;var r=pd(e,t);if(e.tag!==0&&r===2){var n=lm(e);n!==0&&(t=n,r=Mm(e,n))}if(r===1)throw r=ec,qi(e,0),Cs(e,t),gr(e,ft()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ci(e,fr,Vn),gr(e,ft()),null}function Pg(e,t){var r=Ue;Ue|=1;try{return e(t)}finally{Ue=r,Ue===0&&(_a=ft()+500,Xd&&mi())}}function Zi(e){Fs!==null&&Fs.tag===0&&!(Ue&6)&&Jo();var t=Ue;Ue|=1;var r=Dr.transition,n=He;try{if(Dr.transition=null,He=1,e)return e()}finally{He=n,Dr.transition=r,Ue=t,!(Ue&6)&&mi()}}function Ag(){vr=Wo.current,et(Wo)}function qi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QT(r)),xt!==null)for(r=xt.return;r!==null;){var n=r;switch(fg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rd();break;case 3:wa(),et(mr),et(Kt),bg();break;case 5:wg(n);break;case 4:wa();break;case 13:et(it);break;case 19:et(it);break;case 10:gg(n.type._context);break;case 22:case 23:Ag()}r=r.return}if(Rt=e,xt=e=Qs(e.current,null),Ot=vr=t,St=0,ec=null,Rg=nf=Yi=0,fr=Tl=null,Pi!==null){for(t=0;t<Pi.length;t++)if(r=Pi[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Pi=null}return e}function J_(e,t){do{var r=xt;try{if(pg(),Ou.current=dd,ud){for(var n=ot.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ud=!1}if(Qi=0,Nt=bt=ot=null,kl=!1,Zl=0,kg.current=null,r===null||r.return===null){St=1,ec=t,xt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ax(o);if(p!==null){p.flags&=-257,lx(p,o,l,i,t),p.mode&1&&ox(i,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){ox(i,u,t),Og();break e}c=Error(q(426))}}else if(rt&&l.mode&1){var x=ax(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lx(x,o,l,i,t),hg(ba(c,l));break e}}i=c=ba(c,l),St!==4&&(St=2),Tl===null?Tl=[i]:Tl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=D_(i,c,t);ex(i,v);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ks===null||!Ks.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=M_(i,l,t);ex(i,_);break e}}i=i.return}while(i!==null)}tj(r)}catch(j){t=j,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(!0)}function X_(){var e=fd.current;return fd.current=dd,e===null?dd:e}function Og(){(St===0||St===3||St===2)&&(St=4),Rt===null||!(Yi&268435455)&&!(nf&268435455)||Cs(Rt,Ot)}function pd(e,t){var r=Ue;Ue|=2;var n=X_();(Rt!==e||Ot!==t)&&(Vn=null,qi(e,t));do try{wP();break}catch(s){J_(e,s)}while(!0);if(pg(),Ue=r,fd.current=n,xt!==null)throw Error(q(261));return Rt=null,Ot=0,St}function wP(){for(;xt!==null;)ej(xt)}function bP(){for(;xt!==null&&!HR();)ej(xt)}function ej(e){var t=nj(e.alternate,e,vr);e.memoizedProps=e.pendingProps,t===null?tj(e):xt=t,kg.current=null}function tj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mP(r,t),r!==null){r.flags&=32767,xt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,xt=null;return}}else if(r=hP(r,t,vr),r!==null){xt=r;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);St===0&&(St=5)}function Ci(e,t,r){var n=He,s=Dr.transition;try{Dr.transition=null,He=1,_P(e,t,r,n)}finally{Dr.transition=s,He=n}return null}function _P(e,t,r,n){do Jo();while(Fs!==null);if(Ue&6)throw Error(q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rT(e,i),e===Rt&&(xt=Rt=null,Ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nu||(nu=!0,sj(Yu,function(){return Jo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Dr.transition,Dr.transition=null;var o=He;He=1;var l=Ue;Ue|=4,kg.current=null,gP(e,r),Q_(r,e),BT(mm),Ju=!!hm,mm=hm=null,e.current=r,vP(r),KR(),Ue=l,He=o,Dr.transition=i}else e.current=r;if(nu&&(nu=!1,Fs=e,md=s),i=e.pendingLanes,i===0&&(Ks=null),YR(r.stateNode),gr(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(hd)throw hd=!1,e=Im,Im=null,e;return md&1&&e.tag!==0&&Jo(),i=e.pendingLanes,i&1?e===Dm?Pl++:(Pl=0,Dm=e):Pl=0,mi(),null}function Jo(){if(Fs!==null){var e=Db(md),t=Dr.transition,r=He;try{if(Dr.transition=null,He=16>e?16:e,Fs===null)var n=!1;else{if(e=Fs,Fs=null,md=0,Ue&6)throw Error(q(331));var s=Ue;for(Ue|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Rl(8,d,i)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,p=d.return;if(H_(d),d===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,oe=v;break e}oe=i.return}}var y=e.current;for(oe=y;oe!==null;){o=oe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,oe=b;else e:for(o=y;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rf(9,l)}}catch(j){ut(l,l.return,j)}if(l===o){oe=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,oe=_;break e}oe=l.return}}if(Ue=s,mi(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Gd,e)}catch{}n=!0}return n}finally{He=r,Dr.transition=t}}return!1}function bx(e,t,r){t=ba(r,t),t=D_(e,t,1),e=Hs(e,t,1),t=nr(),e!==null&&(jc(e,1,t),gr(e,t))}function ut(e,t,r){if(e.tag===3)bx(e,e,r);else for(;t!==null;){if(t.tag===3){bx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ks===null||!Ks.has(n))){e=ba(r,e),e=M_(t,e,1),t=Hs(t,e,1),e=nr(),t!==null&&(jc(t,1,e),gr(t,e));break}}t=t.return}}function jP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=nr(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(Ot&r)===r&&(St===4||St===3&&(Ot&130023424)===Ot&&500>ft()-Tg?qi(e,0):Rg|=r),gr(e,t)}function rj(e,t){t===0&&(e.mode&1?(t=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):t=1);var r=nr();e=ns(e,t),e!==null&&(jc(e,t,r),gr(e,r))}function SP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rj(e,r)}function CP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),rj(e,r)}var nj;nj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mr.current)hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hr=!1,fP(e,t,r);hr=!!(e.flags&131072)}else hr=!1,rt&&t.flags&1048576&&a_(t,id,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Du(e,t),e=t.pendingProps;var s=va(t,Kt.current);Zo(t,r),s=jg(null,t,n,e,s,r);var i=Sg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(n)?(i=!0,nd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yg(t),s.updater=tf,t.stateNode=s,s._reactInternals=t,jm(t,n,e,r),t=Em(null,t,n,!0,i,r)):(t.tag=0,rt&&i&&dg(t),Xt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Du(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=NP(n),e=Yr(n,e),s){case 0:t=Cm(null,t,n,e,r);break e;case 1:t=dx(null,t,n,e,r);break e;case 11:t=cx(null,t,n,e,r);break e;case 14:t=ux(null,t,n,Yr(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yr(n,s),Cm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yr(n,s),dx(e,t,n,s,r);case 3:e:{if(U_(t),e===null)throw Error(q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,h_(e,t),ld(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ba(Error(q(423)),t),t=fx(e,t,n,r,s);break e}else if(n!==s){s=ba(Error(q(424)),t),t=fx(e,t,n,r,s);break e}else for(br=Ws(t.stateNode.containerInfo.firstChild),_r=t,rt=!0,tn=null,r=d_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ya(),n===s){t=ss(e,t,r);break e}Xt(e,t,n,r)}t=t.child}return t;case 5:return m_(t),e===null&&wm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,pm(n,s)?o=null:i!==null&&pm(n,i)&&(t.flags|=32),F_(e,t),Xt(e,t,o,r),t.child;case 6:return e===null&&wm(t),null;case 13:return z_(e,t,r);case 4:return xg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xa(t,null,n,r):Xt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yr(n,s),cx(e,t,n,s,r);case 7:return Xt(e,t,t.pendingProps,r),t.child;case 8:return Xt(e,t,t.pendingProps.children,r),t.child;case 12:return Xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ze(od,n._currentValue),n._currentValue=o,i!==null)if(ln(i.value,o)){if(i.children===s.children&&!mr.current){t=ss(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Yn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),bm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),bm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Zo(t,r),s=Lr(s),n=n(s),t.flags|=1,Xt(e,t,n,r),t.child;case 14:return n=t.type,s=Yr(n,t.pendingProps),s=Yr(n.type,s),ux(e,t,n,s,r);case 15:return L_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yr(n,s),Du(e,t),t.tag=1,pr(n)?(e=!0,nd(t)):e=!1,Zo(t,r),I_(t,n,s),jm(t,n,s,r),Em(null,t,n,!0,e,r);case 19:return B_(e,t,r);case 22:return $_(e,t,r)}throw Error(q(156,t.tag))};function sj(e,t){return Pb(e,t)}function EP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,r,n){return new EP(e,t,r,n)}function Ig(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NP(e){if(typeof e=="function")return Ig(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xp)return 11;if(e===eg)return 14}return 2}function Qs(e,t){var r=e.alternate;return r===null?(r=Ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $u(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Ig(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Do:return Wi(r.children,s,i,t);case Jp:o=8,s|=8;break;case Kh:return e=Ir(12,r,t,s|2),e.elementType=Kh,e.lanes=i,e;case Gh:return e=Ir(13,r,t,s),e.elementType=Gh,e.lanes=i,e;case Qh:return e=Ir(19,r,t,s),e.elementType=Qh,e.lanes=i,e;case mb:return sf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fb:o=10;break e;case hb:o=9;break e;case Xp:o=11;break e;case eg:o=14;break e;case bs:o=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Ir(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Wi(e,t,r,n){return e=Ir(7,e,n,t),e.lanes=r,e}function sf(e,t,r,n){return e=Ir(22,e,n,t),e.elementType=mb,e.lanes=r,e.stateNode={isHidden:!1},e}function ph(e,t,r){return e=Ir(6,e,null,t),e.lanes=r,e}function gh(e,t,r){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kP(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dg(e,t,r,n,s,i,o,l,c){return e=new kP(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ir(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yg(i),e}function RP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ij(e){if(!e)return ri;e=e._reactInternals;e:{if(ho(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(pr(r))return i_(e,r,t)}return t}function oj(e,t,r,n,s,i,o,l,c){return e=Dg(r,n,!0,e,s,i,o,l,c),e.context=ij(null),r=e.current,n=nr(),s=Gs(r),i=Yn(n,s),i.callback=t??null,Hs(r,i,s),e.current.lanes=s,jc(e,s,n),gr(e,n),e}function of(e,t,r,n){var s=t.current,i=nr(),o=Gs(s);return r=ij(r),t.context===null?t.context=r:t.pendingContext=r,t=Yn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hs(s,t,o),e!==null&&(an(e,s,o,i),Au(e,s,o)),o}function gd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _x(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mg(e,t){_x(e,t),(e=e.alternate)&&_x(e,t)}function TP(){return null}var aj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lg(e){this._internalRoot=e}af.prototype.render=Lg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));of(e,t,null,null)};af.prototype.unmount=Lg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zi(function(){of(null,e,null,null)}),t[rs]=null}};function af(e){this._internalRoot=e}af.prototype.unstable_scheduleHydration=function(e){if(e){var t=$b();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ss.length&&t!==0&&t<Ss[r].priority;r++);Ss.splice(r,0,e),r===0&&Ub(e)}};function $g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jx(){}function PP(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=gd(o);i.call(u)}}var o=oj(t,n,e,0,null,!1,!1,"",jx);return e._reactRootContainer=o,e[rs]=o.current,Hl(e.nodeType===8?e.parentNode:e),Zi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=gd(c);l.call(u)}}var c=Dg(e,0,!1,null,null,!1,!1,"",jx);return e._reactRootContainer=c,e[rs]=c.current,Hl(e.nodeType===8?e.parentNode:e),Zi(function(){of(t,c,r,n)}),c}function cf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=gd(o);l.call(c)}}of(t,o,e,s)}else o=PP(r,t,e,s,n);return gd(o)}Mb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hl(t.pendingLanes);r!==0&&(ng(t,r|1),gr(t,ft()),!(Ue&6)&&(_a=ft()+500,mi()))}break;case 13:Zi(function(){var n=ns(e,1);if(n!==null){var s=nr();an(n,e,1,s)}}),Mg(e,1)}};sg=function(e){if(e.tag===13){var t=ns(e,134217728);if(t!==null){var r=nr();an(t,e,134217728,r)}Mg(e,134217728)}};Lb=function(e){if(e.tag===13){var t=Gs(e),r=ns(e,t);if(r!==null){var n=nr();an(r,e,t,n)}Mg(e,t)}};$b=function(){return He};Fb=function(e,t){var r=He;try{return He=e,t()}finally{He=r}};im=function(e,t,r){switch(t){case"input":if(Jh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Jd(n);if(!s)throw Error(q(90));gb(n),Jh(n,s)}}}break;case"textarea":yb(e,r);break;case"select":t=r.value,t!=null&&Ko(e,!!r.multiple,t,!1)}};Cb=Pg;Eb=Zi;var AP={usingClientEntryPoint:!1,Events:[Cc,Fo,Jd,jb,Sb,Pg]},sl={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OP={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rb(e),e===null?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||TP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Gd=su.inject(OP),En=su}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AP;Er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(t))throw Error(q(200));return RP(e,t,null,r)};Er.createRoot=function(e,t){if(!$g(e))throw Error(q(299));var r=!1,n="",s=aj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Dg(e,1,!1,null,null,r,!1,n,s),e[rs]=t.current,Hl(e.nodeType===8?e.parentNode:e),new Lg(t)};Er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Rb(t),e=e===null?null:e.stateNode,e};Er.flushSync=function(e){return Zi(e)};Er.hydrate=function(e,t,r){if(!lf(t))throw Error(q(200));return cf(null,e,t,!0,r)};Er.hydrateRoot=function(e,t,r){if(!$g(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=aj;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=oj(t,null,e,1,r??null,s,!1,i,o),e[rs]=t.current,Hl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new af(t)};Er.render=function(e,t,r){if(!lf(t))throw Error(q(200));return cf(null,e,t,!1,r)};Er.unmountComponentAtNode=function(e){if(!lf(e))throw Error(q(40));return e._reactRootContainer?(Zi(function(){cf(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};Er.unstable_batchedUpdates=Pg;Er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!lf(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return cf(e,t,r,!1,n)};Er.version="18.3.1-next-f1338f8080-20240426";function lj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lj)}catch(e){console.error(e)}}lj(),lb.exports=Er;var mo=lb.exports;const cj=Y0(mo);var uj,Sx=mo;uj=Sx.createRoot,Sx.hydrateRoot;const IP=1,DP=1e6;let vh=0;function MP(){return vh=(vh+1)%Number.MAX_SAFE_INTEGER,vh.toString()}const yh=new Map,Cx=e=>{if(yh.has(e))return;const t=setTimeout(()=>{yh.delete(e),Al({type:"REMOVE_TOAST",toastId:e})},DP);yh.set(e,t)},LP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,IP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Cx(r):e.toasts.forEach(n=>{Cx(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Fu=[];let Uu={toasts:[]};function Al(e){Uu=LP(Uu,e),Fu.forEach(t=>{t(Uu)})}function $P({...e}){const t=MP(),r=s=>Al({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Al({type:"DISMISS_TOAST",toastId:t});return Al({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function FP(){const[e,t]=m.useState(Uu);return m.useEffect(()=>(Fu.push(t),()=>{const r=Fu.indexOf(t);r>-1&&Fu.splice(r,1)}),[e]),{...e,toast:$P,dismiss:r=>Al({type:"DISMISS_TOAST",toastId:r})}}function G(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ex(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uf(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Ex(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Ex(e[s],null)}}}}function Se(...e){return m.useCallback(uf(...e),e)}function UP(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Gt(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...w}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,x=m.useMemo(()=>w,Object.values(w));return a.jsx(g.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,w=m.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,zP(s,...t)]}function zP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ji(e){const t=VP(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(WP);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var BP=Ji("Slot");function VP(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=KP(s),l=HP(i,s.props);return s.type!==m.Fragment&&(l.ref=n?uf(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dj=Symbol("radix.slottable");function qP(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=dj,t}function WP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dj}function HP(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function KP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function df(e){const t=e+"CollectionProvider",[r,n]=Gt(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:v}=g,y=B.useRef(null),b=B.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:b,collectionRef:y,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Ji(l),u=B.forwardRef((g,x)=>{const{scope:v,children:y}=g,b=i(l,v),_=Se(x,b.collectionRef);return a.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ji(d),p=B.forwardRef((g,x)=>{const{scope:v,children:y,...b}=g,_=B.useRef(null),j=Se(x,_),C=i(d,v);return B.useEffect(()=>(C.itemMap.set(_,{ref:_,...b}),()=>void C.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:y})});p.displayName=d;function w(g){const x=i(e+"CollectionConsumer",g);return B.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((C,S)=>b.indexOf(C.ref.current)-b.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,n]}var GP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=GP.reduce((e,t)=>{const r=Ji(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Fg(e,t){e&&mo.flushSync(()=>e.dispatchEvent(t))}function dt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function QP(e,t=globalThis==null?void 0:globalThis.document){const r=dt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var YP="DismissableLayer",$m="dismissableLayer.update",ZP="dismissableLayer.pointerDownOutside",JP="dismissableLayer.focusOutside",Nx,fj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$a=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(fj),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=Se(t,S=>f(S)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),y=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,j=eA(S=>{const N=S.target,E=[...u.branches].some(P=>P.contains(N));!_||E||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),C=tA(S=>{const N=S.target;[...u.branches].some(P=>P.contains(N))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return QP(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Nx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),kx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Nx)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),kx())},[d,u]),m.useEffect(()=>{const S=()=>p({});return document.addEventListener($m,S),()=>document.removeEventListener($m,S)},[]),a.jsx(le.div,{...c,ref:w,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,C.onFocusCapture),onBlurCapture:G(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,j.onPointerDownCapture)})});$a.displayName=YP;var XP="DismissableLayerBranch",hj=m.forwardRef((e,t)=>{const r=m.useContext(fj),n=m.useRef(null),s=Se(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(le.div,{...e,ref:s})});hj.displayName=XP;function eA(e,t=globalThis==null?void 0:globalThis.document){const r=dt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){mj(ZP,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function tA(e,t=globalThis==null?void 0:globalThis.document){const r=dt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&mj(JP,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kx(){const e=new CustomEvent($m);document.dispatchEvent(e)}function mj(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Fg(s,i):s.dispatchEvent(i)}var rA=$a,nA=hj,pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},sA="Portal",Nc=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=m.useState(!1);pt(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?cj.createPortal(a.jsx(le.div,{...n,ref:t}),o):null});Nc.displayName=sA;function iA(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Mt=e=>{const{present:t,children:r}=e,n=oA(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Se(n.ref,aA(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};Mt.displayName="Presence";function oA(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=iA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=iu(n.current);i.current=l==="mounted"?u:"none"},[l]),pt(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=iu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=iu(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=iu(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function iu(e){return(e==null?void 0:e.animationName)||"none"}function aA(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lA=Gp[" useInsertionEffect ".trim().toString()]||pt;function is({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=cA({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=uA(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function cA({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),i=m.useRef(t);return lA(()=>{i.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function uA(e){return typeof e=="function"}var pj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dA="VisuallyHidden",ff=m.forwardRef((e,t)=>a.jsx(le.span,{...e,ref:t,style:{...pj,...e.style}}));ff.displayName=dA;var fA=ff,Ug="ToastProvider",[zg,hA,mA]=df("Toast"),[gj,nV]=Gt("Toast",[mA]),[pA,hf]=gj(Ug),vj=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ug}\`. Expected non-empty \`string\`.`),a.jsx(zg.Provider,{scope:t,children:a.jsx(pA,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};vj.displayName=Ug;var yj="ToastViewport",gA=["F8"],Fm="toast.viewportPause",Um="toast.viewportResume",xj=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=gA,label:s="Notifications ({hotkey})",...i}=e,o=hf(yj,r),l=hA(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Se(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const x=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),m.useEffect(()=>{const x=c.current,v=f.current;if(w&&x&&v){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Fm);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Um);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!x.contains(C.relatedTarget)&&b()},j=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",_),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:x})=>{const y=l().map(b=>{const _=b.ref.current,j=[_,...RA(_)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const x=f.current;if(x){const v=y=>{var j,C,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const N=document.activeElement,E=y.shiftKey;if(y.target===x&&E){(j=u.current)==null||j.focus();return}const O=g({tabbingDirection:E?"backwards":"forwards"}),U=O.findIndex($=>$===N);xh(O.slice(U+1))?y.preventDefault():E?(C=u.current)==null||C.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,g]),a.jsxs(nA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(zm,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});xh(x)}}),a.jsx(zg.Slot,{scope:r,children:a.jsx(le.ol,{tabIndex:-1,...i,ref:h})}),w&&a.jsx(zm,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});xh(x)}})]})});xj.displayName=yj;var wj="ToastFocusProxy",zm=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=hf(wj,r);return a.jsx(ff,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});zm.displayName=wj;var kc="Toast",vA="toast.swipeStart",yA="toast.swipeMove",xA="toast.swipeCancel",wA="toast.swipeEnd",bj=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=is({prop:n,defaultProp:s??!0,onChange:i,caller:kc});return a.jsx(Mt,{present:r||l,children:a.jsx(jA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:dt(e.onPause),onResume:dt(e.onResume),onSwipeStart:G(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:G(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});bj.displayName=kc;var[bA,_A]=gj(kc,{onClose(){}}),jA=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=e,g=hf(kc,r),[x,v]=m.useState(null),y=Se(t,$=>v($)),b=m.useRef(null),_=m.useRef(null),j=s||g.duration,C=m.useRef(0),S=m.useRef(j),N=m.useRef(0),{onToastAdd:E,onToastRemove:P}=g,M=dt(()=>{var X;(x==null?void 0:x.contains(document.activeElement))&&((X=g.viewport)==null||X.focus()),o()}),O=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(N.current),C.current=new Date().getTime(),N.current=window.setTimeout(M,$))},[M]);m.useEffect(()=>{const $=g.viewport;if($){const X=()=>{O(S.current),u==null||u()},K=()=>{const se=new Date().getTime()-C.current;S.current=S.current-se,window.clearTimeout(N.current),c==null||c()};return $.addEventListener(Fm,K),$.addEventListener(Um,X),()=>{$.removeEventListener(Fm,K),$.removeEventListener(Um,X)}}},[g.viewport,j,c,u,O]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(j)},[i,j,g.isClosePausedRef,O]),m.useEffect(()=>(E(),()=>P()),[E,P]);const U=m.useMemo(()=>x?kj(x):null,[x]);return g.viewport?a.jsxs(a.Fragment,{children:[U&&a.jsx(SA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),a.jsx(bA,{scope:r,onClose:M,children:mo.createPortal(a.jsx(zg.ItemSlot,{scope:r,children:a.jsx(rA,{asChild:!0,onEscapeKeyDown:G(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:G(e.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:G(e.onPointerMove,$=>{if(!b.current)return;const X=$.clientX-b.current.x,K=$.clientY-b.current.y,se=!!_.current,I=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=I?T(0,X):0,W=I?0:T(0,K),Z=$.pointerType==="touch"?10:2,me={x:D,y:W},pe={originalEvent:$,delta:me};se?(_.current=me,ou(yA,f,pe,{discrete:!1})):Rx(me,g.swipeDirection,Z)?(_.current=me,ou(vA,d,pe,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(X)>Z||Math.abs(K)>Z)&&(b.current=null)}),onPointerUp:G(e.onPointerUp,$=>{const X=_.current,K=$.target;if(K.hasPointerCapture($.pointerId)&&K.releasePointerCapture($.pointerId),_.current=null,b.current=null,X){const se=$.currentTarget,I={originalEvent:$,delta:X};Rx(X,g.swipeDirection,g.swipeThreshold)?ou(wA,p,I,{discrete:!0}):ou(xA,h,I,{discrete:!0}),se.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),SA=e=>{const{__scopeToast:t,children:r,...n}=e,s=hf(kc,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return NA(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Nc,{asChild:!0,children:a.jsx(ff,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},CA="ToastTitle",_j=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(le.div,{...n,ref:t})});_j.displayName=CA;var EA="ToastDescription",jj=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(le.div,{...n,ref:t})});jj.displayName=EA;var Sj="ToastAction",Cj=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(Nj,{altText:r,asChild:!0,children:a.jsx(Bg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Sj}\`. Expected non-empty \`string\`.`),null)});Cj.displayName=Sj;var Ej="ToastClose",Bg=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=_A(Ej,r);return a.jsx(Nj,{asChild:!0,children:a.jsx(le.button,{type:"button",...n,ref:t,onClick:G(e.onClick,s.onClose)})})});Bg.displayName=Ej;var Nj=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function kj(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),kA(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...kj(n))}}),t}function ou(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Fg(s,i):s.dispatchEvent(i)}var Rx=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function NA(e=()=>{}){const t=dt(e);pt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function kA(e){return e.nodeType===e.ELEMENT_NODE}function RA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function xh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var TA=vj,Rj=xj,Tj=bj,Pj=_j,Aj=jj,Oj=Cj,Ij=Bg;function Dj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Dj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mj(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Dj(e))&&(n&&(n+=" "),n+=t);return n}const Tx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Px=Mj,Rc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Px(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Tx(d)||Tx(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(w=>{let[g,x]=w;return Array.isArray(x)?x.includes({...i,...l}[g]):{...i,...l}[g]===x})?[...u,f,h]:u},[]);return Px(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...AA,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Lj("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(OA,{ref:i,iconNode:t,className:Lj(`lucide-${PA(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=xe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=xe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=xe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=xe("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qg="-",eO=e=>{const t=rO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Qg);return l[0]===""&&l.length!==1&&l.shift(),Wj(l,t)||tO(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Wj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Wj(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Qg);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Ix=/^\[(.+)\]$/,tO=e=>{if(Ix.test(e)){const t=Ix.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return sO(Object.entries(e.classGroups),r).forEach(([i,o])=>{Bm(o,n,i,t)}),n},Bm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Dx(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(nO(s)){Bm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Bm(o,Dx(t,i),r,n)})})},Dx=(e,t)=>{let r=e;return t.split(Qg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nO=e=>e.isThemeGetter,sO=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,iO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Hj="!",oO=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(Hj),w=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},aO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},lO=e=>({cache:iO(e.cacheSize),parseClassName:oO(e),...eO(e)}),cO=/\s+/,uO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(cO);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let w=!!p,g=n(w?h.substring(0,p):h);if(!g){if(!w){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}w=!1}const x=aO(d).join(":"),v=f?x+Hj:x,y=v+g;if(i.includes(y))continue;i.push(y);const b=s(g,w);for(let _=0;_<b.length;++_){const j=b[_];i.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function dO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Kj(t))&&(n&&(n+=" "),n+=r);return n}const Kj=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Kj(e[n]))&&(r&&(r+=" "),r+=t);return r};function fO(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=lO(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=uO(c,r);return s(c,d),d}return function(){return i(dO.apply(null,arguments))}}const Je=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Gj=/^\[(?:([a-z-]+):)?(.+)\]$/i,hO=/^\d+\/\d+$/,mO=new Set(["px","full","screen"]),pO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Un=e=>ea(e)||mO.has(e)||hO.test(e),ps=e=>Fa(e,"length",NO),ea=e=>!!e&&!Number.isNaN(Number(e)),wh=e=>Fa(e,"number",ea),il=e=>!!e&&Number.isInteger(Number(e)),wO=e=>e.endsWith("%")&&ea(e.slice(0,-1)),Ce=e=>Gj.test(e),gs=e=>pO.test(e),bO=new Set(["length","size","percentage"]),_O=e=>Fa(e,bO,Qj),jO=e=>Fa(e,"position",Qj),SO=new Set(["image","url"]),CO=e=>Fa(e,SO,RO),EO=e=>Fa(e,"",kO),ol=()=>!0,Fa=(e,t,r)=>{const n=Gj.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},NO=e=>gO.test(e)&&!vO.test(e),Qj=()=>!1,kO=e=>yO.test(e),RO=e=>xO.test(e),TO=()=>{const e=Je("colors"),t=Je("spacing"),r=Je("blur"),n=Je("brightness"),s=Je("borderColor"),i=Je("borderRadius"),o=Je("borderSpacing"),l=Je("borderWidth"),c=Je("contrast"),u=Je("grayscale"),d=Je("hueRotate"),f=Je("invert"),h=Je("gap"),p=Je("gradientColorStops"),w=Je("gradientColorStopPositions"),g=Je("inset"),x=Je("margin"),v=Je("opacity"),y=Je("padding"),b=Je("saturate"),_=Je("scale"),j=Je("sepia"),C=Je("skew"),S=Je("space"),N=Je("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ce,t],O=()=>[Ce,t],U=()=>["",Un,ps],$=()=>["auto",ea,Ce],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Ce],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ea,Ce];return{cacheSize:500,separator:":",theme:{colors:[ol],spacing:[Un,ps],blur:["none","",gs,Ce],brightness:W(),borderColor:[e],borderRadius:["none","","full",gs,Ce],borderSpacing:O(),borderWidth:U(),contrast:W(),grayscale:T(),hueRotate:W(),invert:T(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[wO,ps],inset:M(),margin:M(),opacity:W(),padding:O(),saturate:W(),scale:W(),sepia:T(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Ce]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",il,Ce]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",il,Ce]}],"grid-cols":[{"grid-cols":[ol]}],"col-start-end":[{col:["auto",{span:["full",il,Ce]},Ce]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ol]}],"row-start-end":[{row:["auto",{span:[il,Ce]},Ce]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wh]}],"font-family":[{font:[ol]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",ea,wh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Un,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Un,ps]}],"underline-offset":[{"underline-offset":["auto",Un,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),jO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_O]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Un,Ce]}],"outline-w":[{outline:[Un,ps]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Un,ps]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gs,EO]}],"shadow-color":[{shadow:[ol]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gs,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[il,Ce]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Un,ps,wh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PO=fO(TO);function te(...e){return PO(Mj(e))}const AO=TA,Yj=m.forwardRef(({className:e,...t},r)=>a.jsx(Rj,{ref:r,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Yj.displayName=Rj.displayName;const OO=Rc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zj=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(Tj,{ref:n,className:te(OO({variant:t}),e),...r}));Zj.displayName=Tj.displayName;const IO=m.forwardRef(({className:e,...t},r)=>a.jsx(Oj,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));IO.displayName=Oj.displayName;const Jj=m.forwardRef(({className:e,...t},r)=>a.jsx(Ij,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ys,{className:"h-4 w-4"})}));Jj.displayName=Ij.displayName;const Xj=m.forwardRef(({className:e,...t},r)=>a.jsx(Pj,{ref:r,className:te("text-sm font-semibold",e),...t}));Xj.displayName=Pj.displayName;const eS=m.forwardRef(({className:e,...t},r)=>a.jsx(Aj,{ref:r,className:te("text-sm opacity-90",e),...t}));eS.displayName=Aj.displayName;function DO(){const{toasts:e}=FP();return a.jsxs(AO,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(Zj,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Xj,{children:r}),n&&a.jsx(eS,{children:n})]}),s,a.jsx(Jj,{})]},t)}),a.jsx(Yj,{})]})}var Mx=["light","dark"],MO="(prefers-color-scheme: dark)",LO=m.createContext(void 0),$O={setTheme:e=>{},themes:[]},FO=()=>{var e;return(e=m.useContext(LO))!=null?e:$O};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Mx.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,g=!1,x=!0)=>{let v=o?o[w]:w,y=g?w+"|| ''":`'${v}'`,b="";return s&&x&&!g&&Mx.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),r==="class"?g||v?b+=`c.add(${y})`:b+="null":v&&(b+=`d[s](n,${y})`),b},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${MO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var UO=e=>{switch(e){case"success":return VO;case"info":return WO;case"warning":return qO;case"error":return HO;default:return null}},zO=Array(12).fill(0),BO=({visible:e,className:t})=>B.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},zO.map((r,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),VO=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qO=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WO=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HO=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KO=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GO=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Vm=1,QO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Vm++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],B.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(ZO(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Vm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dr=new QO,YO=(e,t)=>{let r=(t==null?void 0:t.id)||Vm++;return dr.addToast({title:e,...t,id:r}),r},ZO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",JO=YO,XO=()=>dr.toasts,e2=()=>dr.getActiveToasts(),V=Object.assign(JO,{success:dr.success,info:dr.info,warning:dr.warning,error:dr.error,custom:dr.custom,message:dr.message,promise:dr.promise,dismiss:dr.dismiss,loading:dr.loading},{getHistory:XO,getToasts:e2});function t2(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}t2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lu(e){return e.label!==void 0}var r2=3,n2="32px",s2="16px",Lx=4e3,i2=356,o2=14,a2=20,l2=200;function Hr(...e){return e.filter(Boolean).join(" ")}function c2(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var u2=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:w,interacting:g,setHeights:x,visibleToasts:v,heights:y,index:b,toasts:_,expanded:j,removeToast:C,defaultRichColors:S,closeButton:N,style:E,cancelButtonStyle:P,actionButtonStyle:M,className:O="",descriptionClassName:U="",duration:$,position:X,gap:K,loadingIcon:se,expandByDefault:I,classNames:T,icons:D,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:Z}=e,[me,pe]=B.useState(null),[$e,Fe]=B.useState(null),[Q,Te]=B.useState(!1),[Ae,Ne]=B.useState(!1),[Oe,De]=B.useState(!1),[Ct,Yt]=B.useState(!1),[hn,mn]=B.useState(!1),[Mn,yo]=B.useState(0),[Ln,R]=B.useState(0),A=B.useRef(p.duration||$||Lx),L=B.useRef(null),ee=B.useRef(null),J=b===0,Y=b+1<=v,ie=p.type,Ie=p.dismissible!==!1,Ke=p.className||"",ar=p.descriptionClassName||"",$n=B.useMemo(()=>y.findIndex(je=>je.toastId===p.id)||0,[y,p.id]),pn=B.useMemo(()=>{var je;return(je=p.closeButton)!=null?je:N},[p.closeButton,N]),$c=B.useMemo(()=>p.duration||$||Lx,[p.duration,$]),wi=B.useRef(0),gn=B.useRef(0),Fc=B.useRef(0),Fn=B.useRef(null),[Bf,Uc]=X.split("-"),hy=B.useMemo(()=>y.reduce((je,Ge,tt)=>tt>=$n?je:je+Ge.height,0),[y,$n]),my=GO(),oR=p.invert||h,Vf=ie==="loading";gn.current=B.useMemo(()=>$n*K+hy,[$n,hy]),B.useEffect(()=>{A.current=$c},[$c]),B.useEffect(()=>{Te(!0)},[]),B.useEffect(()=>{let je=ee.current;if(je){let Ge=je.getBoundingClientRect().height;return R(Ge),x(tt=>[{toastId:p.id,height:Ge,position:p.position},...tt]),()=>x(tt=>tt.filter(Br=>Br.toastId!==p.id))}},[x,p.id]),B.useLayoutEffect(()=>{if(!Q)return;let je=ee.current,Ge=je.style.height;je.style.height="auto";let tt=je.getBoundingClientRect().height;je.style.height=Ge,R(tt),x(Br=>Br.find(Vr=>Vr.toastId===p.id)?Br.map(Vr=>Vr.toastId===p.id?{...Vr,height:tt}:Vr):[{toastId:p.id,height:tt,position:p.position},...Br])},[Q,p.title,p.description,x,p.id]);let ds=B.useCallback(()=>{Ne(!0),yo(gn.current),x(je=>je.filter(Ge=>Ge.toastId!==p.id)),setTimeout(()=>{C(p)},l2)},[p,C,x,gn]);B.useEffect(()=>{if(p.promise&&ie==="loading"||p.duration===1/0||p.type==="loading")return;let je;return j||g||Z&&my?(()=>{if(Fc.current<wi.current){let Ge=new Date().getTime()-wi.current;A.current=A.current-Ge}Fc.current=new Date().getTime()})():A.current!==1/0&&(wi.current=new Date().getTime(),je=setTimeout(()=>{var Ge;(Ge=p.onAutoClose)==null||Ge.call(p,p),ds()},A.current)),()=>clearTimeout(je)},[j,g,p,ie,Z,my,ds]),B.useEffect(()=>{p.delete&&ds()},[ds,p.delete]);function aR(){var je,Ge,tt;return D!=null&&D.loading?B.createElement("div",{className:Hr(T==null?void 0:T.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":ie==="loading"},D.loading):se?B.createElement("div",{className:Hr(T==null?void 0:T.loader,(Ge=p==null?void 0:p.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":ie==="loading"},se):B.createElement(BO,{className:Hr(T==null?void 0:T.loader,(tt=p==null?void 0:p.classNames)==null?void 0:tt.loader),visible:ie==="loading"})}return B.createElement("li",{tabIndex:0,ref:ee,className:Hr(O,Ke,T==null?void 0:T.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[ie],(r=p==null?void 0:p.classNames)==null?void 0:r[ie]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:S,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":hn,"data-removed":Ae,"data-visible":Y,"data-y-position":Bf,"data-x-position":Uc,"data-index":b,"data-front":J,"data-swiping":Oe,"data-dismissible":Ie,"data-type":ie,"data-invert":oR,"data-swipe-out":Ct,"data-swipe-direction":$e,"data-expanded":!!(j||I&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Ae?Mn:gn.current}px`,"--initial-height":I?"auto":`${Ln}px`,...E,...p.style},onDragEnd:()=>{De(!1),pe(null),Fn.current=null},onPointerDown:je=>{Vf||!Ie||(L.current=new Date,yo(gn.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(De(!0),Fn.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,Ge,tt,Br;if(Ct||!Ie)return;Fn.current=null;let Vr=Number(((je=ee.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fs=Number(((Ge=ee.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bi=new Date().getTime()-((tt=L.current)==null?void 0:tt.getTime()),qr=me==="x"?Vr:fs,hs=Math.abs(qr)/bi;if(Math.abs(qr)>=a2||hs>.11){yo(gn.current),(Br=p.onDismiss)==null||Br.call(p,p),Fe(me==="x"?Vr>0?"right":"left":fs>0?"down":"up"),ds(),Yt(!0),mn(!1);return}De(!1),pe(null)},onPointerMove:je=>{var Ge,tt,Br,Vr;if(!Fn.current||!Ie||((Ge=window.getSelection())==null?void 0:Ge.toString().length)>0)return;let fs=je.clientY-Fn.current.y,bi=je.clientX-Fn.current.x,qr=(tt=e.swipeDirections)!=null?tt:c2(X);!me&&(Math.abs(bi)>1||Math.abs(fs)>1)&&pe(Math.abs(bi)>Math.abs(fs)?"x":"y");let hs={x:0,y:0};me==="y"?(qr.includes("top")||qr.includes("bottom"))&&(qr.includes("top")&&fs<0||qr.includes("bottom")&&fs>0)&&(hs.y=fs):me==="x"&&(qr.includes("left")||qr.includes("right"))&&(qr.includes("left")&&bi<0||qr.includes("right")&&bi>0)&&(hs.x=bi),(Math.abs(hs.x)>0||Math.abs(hs.y)>0)&&mn(!0),(Br=ee.current)==null||Br.style.setProperty("--swipe-amount-x",`${hs.x}px`),(Vr=ee.current)==null||Vr.style.setProperty("--swipe-amount-y",`${hs.y}px`)}},pn&&!p.jsx?B.createElement("button",{"aria-label":W,"data-disabled":Vf,"data-close-button":!0,onClick:Vf||!Ie?()=>{}:()=>{var je;ds(),(je=p.onDismiss)==null||je.call(p,p)},className:Hr(T==null?void 0:T.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=D==null?void 0:D.close)!=null?i:KO):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:B.createElement(B.Fragment,null,ie||p.icon||p.promise?B.createElement("div",{"data-icon":"",className:Hr(T==null?void 0:T.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||aR():null,p.type!=="loading"?p.icon||(D==null?void 0:D[ie])||UO(ie):null):null,B.createElement("div",{"data-content":"",className:Hr(T==null?void 0:T.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:Hr(T==null?void 0:T.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?B.createElement("div",{"data-description":"",className:Hr(U,ar,T==null?void 0:T.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&lu(p.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:je=>{var Ge,tt;lu(p.cancel)&&Ie&&((tt=(Ge=p.cancel).onClick)==null||tt.call(Ge,je),ds())},className:Hr(T==null?void 0:T.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&lu(p.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:je=>{var Ge,tt;lu(p.action)&&((tt=(Ge=p.action).onClick)==null||tt.call(Ge,je),!je.defaultPrevented&&ds())},className:Hr(T==null?void 0:T.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function $x(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function d2(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?s2:n2;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var f2=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:w=r2,toastOptions:g,dir:x=$x(),gap:v=o2,loadingIcon:y,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[C,S]=B.useState([]),N=B.useMemo(()=>Array.from(new Set([n].concat(C.filter(Z=>Z.position).map(Z=>Z.position)))),[C,n]),[E,P]=B.useState([]),[M,O]=B.useState(!1),[U,$]=B.useState(!1),[X,K]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=B.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=B.useRef(null),D=B.useRef(!1),W=B.useCallback(Z=>{S(me=>{var pe;return(pe=me.find($e=>$e.id===Z.id))!=null&&pe.delete||dr.dismiss(Z.id),me.filter(({id:$e})=>$e!==Z.id)})},[]);return B.useEffect(()=>dr.subscribe(Z=>{if(Z.dismiss){S(me=>me.map(pe=>pe.id===Z.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{cj.flushSync(()=>{S(me=>{let pe=me.findIndex($e=>$e.id===Z.id);return pe!==-1?[...me.slice(0,pe),{...me[pe],...Z},...me.slice(pe+1)]:[Z,...me]})})})}),[]),B.useEffect(()=>{if(d!=="system"){K(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:me})=>{K(me?"dark":"light")})}catch{Z.addListener(({matches:pe})=>{try{K(pe?"dark":"light")}catch($e){console.error($e)}})}},[d]),B.useEffect(()=>{C.length<=1&&O(!1)},[C]),B.useEffect(()=>{let Z=me=>{var pe,$e;s.every(Fe=>me[Fe]||me.code===Fe)&&(O(!0),(pe=se.current)==null||pe.focus()),me.code==="Escape"&&(document.activeElement===se.current||($e=se.current)!=null&&$e.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),B.useEffect(()=>{if(se.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,D.current=!1)}},[se.current]),B.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((Z,me)=>{var pe;let[$e,Fe]=Z.split("-");return C.length?B.createElement("ol",{key:Z,dir:x==="auto"?$x():x,tabIndex:-1,ref:se,className:l,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":$e,"data-lifted":M&&C.length>1&&!i,"data-x-position":Fe,style:{"--front-toast-height":`${((pe=E[0])==null?void 0:pe.height)||0}px`,"--width":`${i2}px`,"--gap":`${v}px`,...p,...d2(c,u)},onBlur:Q=>{D.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(D.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||D.current||(D.current=!0,T.current=Q.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},C.filter(Q=>!Q.position&&me===0||Q.position===Z).map((Q,Te)=>{var Ae,Ne;return B.createElement(u2,{key:Q.id,icons:b,index:Te,toast:Q,defaultRichColors:f,duration:(Ae=g==null?void 0:g.duration)!=null?Ae:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Ne=g==null?void 0:g.closeButton)!=null?Ne:o,interacting:U,position:Z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:W,toasts:C.filter(Oe=>Oe.position==Q.position),heights:E.filter(Oe=>Oe.position==Q.position),setHeights:P,expandByDefault:i,gap:v,loadingIcon:y,expanded:M,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const h2=({...e})=>{const{theme:t="system"}=FO();return a.jsx(f2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var m2=Gp[" useId ".trim().toString()]||(()=>{}),p2=0;function Rn(e){const[t,r]=m.useState(m2());return pt(()=>{r(n=>n??String(p2++))},[e]),t?`radix-${t}`:""}const g2=["top","right","bottom","left"],ni=Math.min,yr=Math.max,vd=Math.round,cu=Math.floor,Tn=e=>({x:e,y:e}),v2={left:"right",right:"left",bottom:"top",top:"bottom"},y2={start:"end",end:"start"};function qm(e,t,r){return yr(e,ni(t,r))}function os(e,t){return typeof e=="function"?e(t):e}function as(e){return e.split("-")[0]}function Ua(e){return e.split("-")[1]}function Yg(e){return e==="x"?"y":"x"}function Zg(e){return e==="y"?"height":"width"}const x2=new Set(["top","bottom"]);function Sn(e){return x2.has(as(e))?"y":"x"}function Jg(e){return Yg(Sn(e))}function w2(e,t,r){r===void 0&&(r=!1);const n=Ua(e),s=Jg(e),i=Zg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=yd(o)),[o,yd(o)]}function b2(e){const t=yd(e);return[Wm(e),t,Wm(t)]}function Wm(e){return e.replace(/start|end/g,t=>y2[t])}const Fx=["left","right"],Ux=["right","left"],_2=["top","bottom"],j2=["bottom","top"];function S2(e,t,r){switch(e){case"top":case"bottom":return r?t?Ux:Fx:t?Fx:Ux;case"left":case"right":return t?_2:j2;default:return[]}}function C2(e,t,r,n){const s=Ua(e);let i=S2(as(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Wm)))),i}function yd(e){return e.replace(/left|right|bottom|top/g,t=>v2[t])}function E2(e){return{top:0,right:0,bottom:0,left:0,...e}}function tS(e){return typeof e!="number"?E2(e):{top:e,right:e,bottom:e,left:e}}function xd(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function zx(e,t,r){let{reference:n,floating:s}=e;const i=Sn(t),o=Jg(t),l=Zg(o),c=as(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ua(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const N2=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=zx(u,n,c),h=n,p={},w=0;for(let g=0;g<l.length;g++){const{name:x,fn:v}=l[g],{x:y,y:b,data:_,reset:j}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[x]:{...p[x],..._}},j&&w<=50&&(w++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=zx(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function sc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=os(t,e),w=tS(p),x=l[h?f==="floating"?"reference":"floating":f],v=xd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=xd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-j.top+w.top)/_.y,bottom:(j.bottom-v.bottom+w.bottom)/_.y,left:(v.left-j.left+w.left)/_.x,right:(j.right-v.right+w.right)/_.x}}const k2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=os(e,t)||{};if(u==null)return{};const f=tS(d),h={x:r,y:n},p=Jg(s),w=Zg(p),g=await o.getDimensions(u),x=p==="y",v=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[p]-h[p]-i.floating[w],j=h[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=C?C[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=l.floating[b]||i.floating[w]);const N=_/2-j/2,E=S/2-g[w]/2-1,P=ni(f[v],E),M=ni(f[y],E),O=P,U=S-g[w]-M,$=S/2-g[w]/2+N,X=qm(O,$,U),K=!c.arrow&&Ua(s)!=null&&$!==X&&i.reference[w]/2-($<O?P:M)-g[w]/2<0,se=K?$<O?$-O:$-U:0;return{[p]:h[p]+se,data:{[p]:X,centerOffset:$-X-se,...K&&{alignmentOffset:se}},reset:K}}}),R2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...x}=os(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=as(s),y=Sn(l),b=as(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!g?[yd(l)]:b2(l)),C=w!=="none";!h&&C&&j.push(...C2(l,g,w,_));const S=[l,...j],N=await sc(t,x),E=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&E.push(N[v]),f){const $=w2(s,o,_);E.push(N[$[0]],N[$[1]])}if(P=[...P,{placement:s,overflows:E}],!E.every($=>$<=0)){var M,O;const $=(((M=i.flip)==null?void 0:M.index)||0)+1,X=S[$];if(X&&(!(f==="alignment"?y!==Sn(X):!1)||P.every(I=>I.overflows[0]>0&&Sn(I.placement)===y)))return{data:{index:$,overflows:P},reset:{placement:X}};let K=(O=P.filter(se=>se.overflows[0]<=0).sort((se,I)=>se.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!K)switch(p){case"bestFit":{var U;const se=(U=P.filter(I=>{if(C){const T=Sn(I.placement);return T===y||T==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(T=>T>0).reduce((T,D)=>T+D,0)]).sort((I,T)=>I[1]-T[1])[0])==null?void 0:U[0];se&&(K=se);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function Bx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vx(e){return g2.some(t=>e[t]>=0)}const T2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=os(e,t);switch(n){case"referenceHidden":{const i=await sc(t,{...s,elementContext:"reference"}),o=Bx(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Vx(o)}}}case"escaped":{const i=await sc(t,{...s,altBoundary:!0}),o=Bx(i,r.floating);return{data:{escapedOffsets:o,escaped:Vx(o)}}}default:return{}}}}},rS=new Set(["left","top"]);async function P2(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=as(r),l=Ua(r),c=Sn(r)==="y",u=rS.has(o)?-1:1,d=i&&c?-1:1,f=os(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const A2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await P2(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},O2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=os(e,t),u={x:r,y:n},d=await sc(t,c),f=Sn(as(s)),h=Yg(f);let p=u[h],w=u[f];if(i){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+d[x],b=p-d[v];p=qm(y,p,b)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=w+d[x],b=w-d[v];w=qm(y,w,b)}const g=l.fn({...t,[h]:p,[f]:w});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},I2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=os(e,t),d={x:r,y:n},f=Sn(s),h=Yg(f);let p=d[h],w=d[f];const g=os(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+x.mainAxis,j=i.reference[h]+i.reference[b]-x.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var v,y;const b=h==="y"?"width":"height",_=rS.has(as(s)),j=i.reference[f]-i.floating[b]+(_&&((v=o.offset)==null?void 0:v[f])||0)+(_?0:x.crossAxis),C=i.reference[f]+i.reference[b]+(_?0:((y=o.offset)==null?void 0:y[f])||0)-(_?x.crossAxis:0);w<j?w=j:w>C&&(w=C)}return{[h]:p,[f]:w}}}},D2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=os(e,t),d=await sc(t,u),f=as(s),h=Ua(s),p=Sn(s)==="y",{width:w,height:g}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,b=w-d.left-d.right,_=ni(g-d[x],y),j=ni(w-d[v],b),C=!t.middlewareData.shift;let S=_,N=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),C&&!h){const P=yr(d.left,0),M=yr(d.right,0),O=yr(d.top,0),U=yr(d.bottom,0);p?N=w-2*(P!==0||M!==0?P+M:yr(d.left,d.right)):S=g-2*(O!==0||U!==0?O+U:yr(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:S});const E=await o.getDimensions(l.floating);return w!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function za(e){return nS(e)?(e.nodeName||"").toLowerCase():"#document"}function jr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function On(e){var t;return(t=(nS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nS(e){return pf()?e instanceof Node||e instanceof jr(e).Node:!1}function cn(e){return pf()?e instanceof Element||e instanceof jr(e).Element:!1}function An(e){return pf()?e instanceof HTMLElement||e instanceof jr(e).HTMLElement:!1}function qx(e){return!pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jr(e).ShadowRoot}const M2=new Set(["inline","contents"]);function Tc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=un(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!M2.has(s)}const L2=new Set(["table","td","th"]);function $2(e){return L2.has(za(e))}const F2=[":popover-open",":modal"];function gf(e){return F2.some(t=>{try{return e.matches(t)}catch{return!1}})}const U2=["transform","translate","scale","rotate","perspective"],z2=["transform","translate","scale","rotate","perspective","filter"],B2=["paint","layout","strict","content"];function Xg(e){const t=ev(),r=cn(e)?un(e):e;return U2.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||z2.some(n=>(r.willChange||"").includes(n))||B2.some(n=>(r.contain||"").includes(n))}function V2(e){let t=si(e);for(;An(t)&&!Ca(t);){if(Xg(t))return t;if(gf(t))return null;t=si(t)}return null}function ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const q2=new Set(["html","body","#document"]);function Ca(e){return q2.has(za(e))}function un(e){return jr(e).getComputedStyle(e)}function vf(e){return cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function si(e){if(za(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qx(e)&&e.host||On(e);return qx(t)?t.host:t}function sS(e){const t=si(e);return Ca(t)?e.ownerDocument?e.ownerDocument.body:e.body:An(t)&&Tc(t)?t:sS(t)}function ic(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=sS(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=jr(s);if(i){const l=Hm(o);return t.concat(o,o.visualViewport||[],Tc(s)?s:[],l&&r?ic(l):[])}return t.concat(s,ic(s,[],r))}function Hm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iS(e){const t=un(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=An(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=vd(r)!==i||vd(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function tv(e){return cn(e)?e:e.contextElement}function ta(e){const t=tv(e);if(!An(t))return Tn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=iS(t);let o=(i?vd(r.width):r.width)/n,l=(i?vd(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const W2=Tn(0);function oS(e){const t=jr(e);return!ev()||!t.visualViewport?W2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function H2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==jr(e)?!1:t}function to(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=tv(e);let o=Tn(1);t&&(n?cn(n)&&(o=ta(n)):o=ta(e));const l=H2(i,r,n)?oS(i):Tn(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=jr(i),p=n&&cn(n)?jr(n):n;let w=h,g=Hm(w);for(;g&&n&&p!==w;){const x=ta(g),v=g.getBoundingClientRect(),y=un(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*x.x,_=v.top+(g.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=_,w=jr(g),g=Hm(w)}}return xd({width:d,height:f,x:c,y:u})}function rv(e,t){const r=vf(e).scrollLeft;return t?t.left+r:to(On(e)).left+r}function aS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:rv(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function K2(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=On(n),l=t?gf(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Tn(1);const d=Tn(0),f=An(n);if((f||!f&&!i)&&((za(n)!=="body"||Tc(o))&&(c=vf(n)),An(n))){const p=to(n);u=ta(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?aS(o,c,!0):Tn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function G2(e){return Array.from(e.getClientRects())}function Q2(e){const t=On(e),r=vf(e),n=e.ownerDocument.body,s=yr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=yr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+rv(e);const l=-r.scrollTop;return un(n).direction==="rtl"&&(o+=yr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function Y2(e,t){const r=jr(e),n=On(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=ev();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const Z2=new Set(["absolute","fixed"]);function J2(e,t){const r=to(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=An(e)?ta(e):Tn(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Wx(e,t,r){let n;if(t==="viewport")n=Y2(e,r);else if(t==="document")n=Q2(On(e));else if(cn(t))n=J2(t,r);else{const s=oS(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return xd(n)}function lS(e,t){const r=si(e);return r===t||!cn(r)||Ca(r)?!1:un(r).position==="fixed"||lS(r,t)}function X2(e,t){const r=t.get(e);if(r)return r;let n=ic(e,[],!1).filter(l=>cn(l)&&za(l)!=="body"),s=null;const i=un(e).position==="fixed";let o=i?si(e):e;for(;cn(o)&&!Ca(o);){const l=un(o),c=Xg(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Z2.has(s.position)||Tc(o)&&!c&&lS(e,o))?n=n.filter(d=>d!==o):s=l,o=si(o)}return t.set(e,n),n}function eI(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?gf(t)?[]:X2(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Wx(t,d,s);return u.top=yr(f.top,u.top),u.right=ni(f.right,u.right),u.bottom=ni(f.bottom,u.bottom),u.left=yr(f.left,u.left),u},Wx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tI(e){const{width:t,height:r}=iS(e);return{width:t,height:r}}function rI(e,t,r){const n=An(t),s=On(t),i=r==="fixed",o=to(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Tn(0);function u(){c.x=rv(s)}if(n||!n&&!i)if((za(t)!=="body"||Tc(s))&&(l=vf(t)),n){const p=to(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?aS(s,l):Tn(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function bh(e){return un(e).position==="static"}function Hx(e,t){if(!An(e)||un(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return On(e)===r&&(r=r.ownerDocument.body),r}function cS(e,t){const r=jr(e);if(gf(e))return r;if(!An(e)){let s=si(e);for(;s&&!Ca(s);){if(cn(s)&&!bh(s))return s;s=si(s)}return r}let n=Hx(e,t);for(;n&&$2(n)&&bh(n);)n=Hx(n,t);return n&&Ca(n)&&bh(n)&&!Xg(n)?r:n||V2(e)||r}const nI=async function(e){const t=this.getOffsetParent||cS,r=this.getDimensions,n=await r(e.floating);return{reference:rI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function sI(e){return un(e).direction==="rtl"}const iI={convertOffsetParentRelativeRectToViewportRelativeRect:K2,getDocumentElement:On,getClippingRect:eI,getOffsetParent:cS,getElementRects:nI,getClientRects:G2,getDimensions:tI,getScale:ta,isElement:cn,isRTL:sI};function uS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oI(e,t){let r=null,n;const s=On(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const w=cu(f),g=cu(s.clientWidth-(d+h)),x=cu(s.clientHeight-(f+p)),v=cu(d),b={rootMargin:-w+"px "+-g+"px "+-x+"px "+-v+"px",threshold:yr(0,ni(1,c))||1};let _=!0;function j(C){const S=C[0].intersectionRatio;if(S!==c){if(!_)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!uS(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return o(!0),i}function aI(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=tv(e),d=s||i?[...u?ic(u):[],...ic(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?oI(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let w,g=c?to(e):null;c&&x();function x(){const v=to(e);g&&!uS(g,v)&&r(),g=v,w=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const lI=A2,cI=O2,uI=R2,dI=D2,fI=T2,Kx=k2,hI=I2,mI=(e,t,r)=>{const n=new Map,s={platform:iI,...r},i={...s.platform,_c:n};return N2(e,t,{...s,platform:i})};var pI=typeof document<"u",gI=function(){},zu=pI?m.useLayoutEffect:gI;function wd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wd(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!wd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function dS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gx(e,t){const r=dS(e);return Math.round(t*r)/r}function _h(e){const t=m.useRef(e);return zu(()=>{t.current=e}),t}function vI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);wd(h,n)||p(n);const[w,g]=m.useState(null),[x,v]=m.useState(null),y=m.useCallback(I=>{I!==C.current&&(C.current=I,g(I))},[]),b=m.useCallback(I=>{I!==S.current&&(S.current=I,v(I))},[]),_=i||w,j=o||x,C=m.useRef(null),S=m.useRef(null),N=m.useRef(d),E=c!=null,P=_h(c),M=_h(s),O=_h(u),U=m.useCallback(()=>{if(!C.current||!S.current)return;const I={placement:t,strategy:r,middleware:h};M.current&&(I.platform=M.current),mI(C.current,S.current,I).then(T=>{const D={...T,isPositioned:O.current!==!1};$.current&&!wd(N.current,D)&&(N.current=D,mo.flushSync(()=>{f(D)}))})},[h,t,r,M,O]);zu(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const $=m.useRef(!1);zu(()=>($.current=!0,()=>{$.current=!1}),[]),zu(()=>{if(_&&(C.current=_),j&&(S.current=j),_&&j){if(P.current)return P.current(_,j,U);U()}},[_,j,U,P,E]);const X=m.useMemo(()=>({reference:C,floating:S,setReference:y,setFloating:b}),[y,b]),K=m.useMemo(()=>({reference:_,floating:j}),[_,j]),se=m.useMemo(()=>{const I={position:r,left:0,top:0};if(!K.floating)return I;const T=Gx(K.floating,d.x),D=Gx(K.floating,d.y);return l?{...I,transform:"translate("+T+"px, "+D+"px)",...dS(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:D}},[r,l,K.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:U,refs:X,elements:K,floatingStyles:se}),[d,U,X,K,se])}const yI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Kx({element:n.current,padding:s}).fn(r):{}:n?Kx({element:n,padding:s}).fn(r):{}}}},xI=(e,t)=>({...lI(e),options:[e,t]}),wI=(e,t)=>({...cI(e),options:[e,t]}),bI=(e,t)=>({...hI(e),options:[e,t]}),_I=(e,t)=>({...uI(e),options:[e,t]}),jI=(e,t)=>({...dI(e),options:[e,t]}),SI=(e,t)=>({...fI(e),options:[e,t]}),CI=(e,t)=>({...yI(e),options:[e,t]});var EI="Arrow",fS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(le.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});fS.displayName=EI;var NI=fS;function nv(e){const[t,r]=m.useState(void 0);return pt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var sv="Popper",[hS,Ba]=Gt(sv),[kI,mS]=hS(sv),pS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(kI,{scope:t,anchor:n,onAnchorChange:s,children:r})};pS.displayName=sv;var gS="PopperAnchor",vS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=mS(gS,r),o=m.useRef(null),l=Se(t,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(le.div,{...s,ref:l})});vS.displayName=gS;var iv="PopperContent",[RI,TI]=hS(iv),yS=m.forwardRef((e,t)=>{var Q,Te,Ae,Ne,Oe,De;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=e,x=mS(iv,r),[v,y]=m.useState(null),b=Se(t,Ct=>y(Ct)),[_,j]=m.useState(null),C=nv(_),S=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,E=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],O=M.length>0,U={padding:P,boundary:M.filter(AI),altBoundary:O},{refs:$,floatingStyles:X,placement:K,isPositioned:se,middlewareData:I}=vI({strategy:"fixed",placement:E,whileElementsMounted:(...Ct)=>aI(...Ct,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[xI({mainAxis:s+N,alignmentAxis:o}),c&&wI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bI():void 0,...U}),c&&_I({...U}),jI({...U,apply:({elements:Ct,rects:Yt,availableWidth:hn,availableHeight:mn})=>{const{width:Mn,height:yo}=Yt.reference,Ln=Ct.floating.style;Ln.setProperty("--radix-popper-available-width",`${hn}px`),Ln.setProperty("--radix-popper-available-height",`${mn}px`),Ln.setProperty("--radix-popper-anchor-width",`${Mn}px`),Ln.setProperty("--radix-popper-anchor-height",`${yo}px`)}}),_&&CI({element:_,padding:l}),OI({arrowWidth:S,arrowHeight:N}),h&&SI({strategy:"referenceHidden",...U})]}),[T,D]=bS(K),W=dt(w);pt(()=>{se&&(W==null||W())},[se,W]);const Z=(Q=I.arrow)==null?void 0:Q.x,me=(Te=I.arrow)==null?void 0:Te.y,pe=((Ae=I.arrow)==null?void 0:Ae.centerOffset)!==0,[$e,Fe]=m.useState();return pt(()=>{v&&Fe(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:se?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(Ne=I.transformOrigin)==null?void 0:Ne.x,(Oe=I.transformOrigin)==null?void 0:Oe.y].join(" "),...((De=I.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(RI,{scope:r,placedSide:T,onArrowChange:j,arrowX:Z,arrowY:me,shouldHideArrow:pe,children:a.jsx(le.div,{"data-side":T,"data-align":D,...g,ref:b,style:{...g.style,animation:se?void 0:"none"}})})})});yS.displayName=iv;var xS="PopperArrow",PI={top:"bottom",right:"left",bottom:"top",left:"right"},wS=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=TI(xS,n),o=PI[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(NI,{...s,ref:r,style:{...s.style,display:"block"}})})});wS.displayName=xS;function AI(e){return e!==null}var OI=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=bS(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=o?f:`${h}px`,g=`${-c}px`):u==="top"?(w=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(w=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:w,y:g}}}});function bS(e){const[t,r="center"]=e.split("-");return[t,r]}var _S=pS,ov=vS,av=yS,lv=wS,[yf,sV]=Gt("Tooltip",[Ba]),cv=Ba(),jS="TooltipProvider",II=700,Qx="tooltip.open",[DI,SS]=yf(jS),CS=e=>{const{__scopeTooltip:t,delayDuration:r=II,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(DI,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};CS.displayName=jS;var ES="Tooltip",[iV,xf]=yf(ES),Km="TooltipTrigger",MI=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=xf(Km,r),i=SS(Km,r),o=cv(r),l=m.useRef(null),c=Se(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(ov,{asChild:!0,...o,children:a.jsx(le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:G(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:G(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:G(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:G(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:G(e.onBlur,s.onClose),onClick:G(e.onClick,s.onClose)})})});MI.displayName=Km;var LI="TooltipPortal",[oV,$I]=yf(LI,{forceMount:void 0}),Ea="TooltipContent",NS=m.forwardRef((e,t)=>{const r=$I(Ea,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=xf(Ea,e.__scopeTooltip);return a.jsx(Mt,{present:n||o.open,children:o.disableHoverableContent?a.jsx(kS,{side:s,...i,ref:t}):a.jsx(FI,{side:s,...i,ref:t})})}),FI=m.forwardRef((e,t)=>{const r=xf(Ea,e.__scopeTooltip),n=SS(Ea,e.__scopeTooltip),s=m.useRef(null),i=Se(t,s),[o,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((w,g)=>{const x=w.currentTarget,v={x:w.clientX,y:w.clientY},y=qI(v,x.getBoundingClientRect()),b=WI(v,y),_=HI(g.getBoundingClientRect()),j=GI([...b,..._]);l(j),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const w=x=>p(x,d),g=x=>p(x,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),m.useEffect(()=>{if(o){const w=g=>{const x=g.target,v={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!KI(v,o);y?h():b&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,o,u,h]),a.jsx(kS,{...e,ref:i})}),[UI,zI]=yf(ES,{isInside:!1}),BI=qP("TooltipContent"),kS=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=xf(Ea,r),u=cv(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Qx,d),()=>document.removeEventListener(Qx,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx($a,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(av,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(BI,{children:n}),a.jsx(UI,{scope:r,isInside:!0,children:a.jsx(fA,{id:c.contentId,role:"tooltip",children:s||n})})]})})});NS.displayName=Ea;var RS="TooltipArrow",VI=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=cv(r);return zI(RS,r).isInside?null:a.jsx(lv,{...s,...n,ref:t})});VI.displayName=RS;function qI(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function WI(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function HI(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function KI(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function GI(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),QI(t)}function QI(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var YI=CS,TS=NS;const ZI=YI,JI=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(TS,{ref:n,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));JI.displayName=TS.displayName;var Va=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ro=typeof window>"u"||"Deno"in globalThis;function er(){}function XI(e,t){return typeof e=="function"?e(t):e}function Gm(e){return typeof e=="number"&&e>=0&&e!==1/0}function PS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zs(e,t){return typeof e=="function"?e(t):e}function Rr(e,t){return typeof e=="function"?e(t):e}function Yx(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==uv(o,t.options))return!1}else if(!oc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Zx(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(no(t.options.mutationKey)!==no(i))return!1}else if(!oc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function uv(e,t){return((t==null?void 0:t.queryKeyHashFn)||no)(e)}function no(e){return JSON.stringify(e,(t,r)=>Qm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function oc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>oc(e[r],t[r])):!1}function AS(e,t){if(e===t)return e;const r=Jx(e)&&Jx(t);if(r||Qm(e)&&Qm(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=AS(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function bd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Jx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qm(e){if(!Xx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Xx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xx(e){return Object.prototype.toString.call(e)==="[object Object]"}function eD(e){return new Promise(t=>{setTimeout(t,e)})}function Ym(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?AS(e,t):t}function tD(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rD(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var dv=Symbol();function OS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function IS(e,t){return typeof e=="function"?e(...t):!!e}var Di,ks,sa,F0,nD=(F0=class extends Va{constructor(){super();ge(this,Di);ge(this,ks);ge(this,sa);re(this,sa,t=>{if(!ro&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,ks)||this.setEventListener(k(this,sa))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,ks))==null||t.call(this),re(this,ks,void 0))}setEventListener(t){var r;re(this,sa,t),(r=k(this,ks))==null||r.call(this),re(this,ks,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,Di)!==t&&(re(this,Di,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,Di)=="boolean"?k(this,Di):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Di=new WeakMap,ks=new WeakMap,sa=new WeakMap,F0),fv=new nD,ia,Rs,oa,U0,sD=(U0=class extends Va{constructor(){super();ge(this,ia,!0);ge(this,Rs);ge(this,oa);re(this,oa,t=>{if(!ro&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,Rs)||this.setEventListener(k(this,oa))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Rs))==null||t.call(this),re(this,Rs,void 0))}setEventListener(t){var r;re(this,oa,t),(r=k(this,Rs))==null||r.call(this),re(this,Rs,t(this.setOnline.bind(this)))}setOnline(t){k(this,ia)!==t&&(re(this,ia,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,ia)}},ia=new WeakMap,Rs=new WeakMap,oa=new WeakMap,U0),_d=new sD;function Zm(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function iD(e){return Math.min(1e3*2**e,3e4)}function DS(e){return(e??"online")==="online"?_d.isOnline():!0}var MS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jh(e){return e instanceof MS}function LS(e){let t=!1,r=0,n=!1,s;const i=Zm(),o=g=>{var x;n||(h(new MS(g)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>fv.isFocused()&&(e.networkMode==="always"||_d.isOnline())&&e.canRun(),d=()=>DS(e.networkMode)&&e.canRun(),f=g=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var x;s=v=>{(n||u())&&g(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),w=()=>{if(n)return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var C;if(n)return;const y=e.retry??(ro?0:3),b=e.retryDelay??iD,_=typeof b=="function"?b(r,v):b,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!j){h(v);return}r++,(C=e.onFail)==null||C.call(e,r,v),eD(_).then(()=>u()?void 0:p()).then(()=>{t?h(v):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():p().then(w),i)}}var oD=e=>setTimeout(e,0);function aD(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=oD;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var _t=aD(),Mi,z0,$S=(z0=class{constructor(){ge(this,Mi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gm(this.gcTime)&&re(this,Mi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ro?1/0:5*60*1e3))}clearGcTimeout(){k(this,Mi)&&(clearTimeout(k(this,Mi)),re(this,Mi,void 0))}},Mi=new WeakMap,z0),aa,Li,kr,$i,Ut,yc,Fi,Jr,Bn,B0,lD=(B0=class extends $S{constructor(t){super();ge(this,Jr);ge(this,aa);ge(this,Li);ge(this,kr);ge(this,$i);ge(this,Ut);ge(this,yc);ge(this,Fi);re(this,Fi,!1),re(this,yc,t.defaultOptions),this.setOptions(t.options),this.observers=[],re(this,$i,t.client),re(this,kr,k(this,$i).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,re(this,aa,cD(this.options)),this.state=t.state??k(this,aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,Ut))==null?void 0:t.promise}setOptions(t){this.options={...k(this,yc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,kr).remove(this)}setData(t,r){const n=Ym(this.state.data,t,this.options);return Ee(this,Jr,Bn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ee(this,Jr,Bn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=k(this,Ut))==null?void 0:n.promise;return(s=k(this,Ut))==null||s.cancel(t),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,aa))}isActive(){return this.observers.some(t=>Rr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!PS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Ut))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Ut))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,Ut)&&(k(this,Fi)?k(this,Ut).cancel({revert:!0}):k(this,Ut).cancelRetry()),this.scheduleGc()),k(this,kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ee(this,Jr,Bn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,Ut))return k(this,Ut).continueRetry(),k(this,Ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(re(this,Fi,!0),n.signal)})},i=()=>{const h=OS(this.options,r),w=(()=>{const g={client:k(this,$i),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return re(this,Fi,!1),this.options.persister?this.options.persister(h,w,this):h(w)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:k(this,$i),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),re(this,Li,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ee(this,Jr,Bn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,w,g,x;jh(h)&&h.silent||Ee(this,Jr,Bn).call(this,{type:"error",error:h}),jh(h)||((w=(p=k(this,kr).config).onError)==null||w.call(p,h,this),(x=(g=k(this,kr).config).onSettled)==null||x.call(g,this.state.data,h,this)),this.scheduleGc()};return re(this,Ut,LS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,w,g,x;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(w=(p=k(this,kr).config).onSuccess)==null||w.call(p,h,this),(x=(g=k(this,kr).config).onSettled)==null||x.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Ee(this,Jr,Bn).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ee(this,Jr,Bn).call(this,{type:"pause"})},onContinue:()=>{Ee(this,Jr,Bn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),k(this,Ut).start()}},aa=new WeakMap,Li=new WeakMap,kr=new WeakMap,$i=new WeakMap,Ut=new WeakMap,yc=new WeakMap,Fi=new WeakMap,Jr=new WeakSet,Bn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...FS(n.data,this.options),fetchMeta:t.meta??null};case"success":return re(this,Li,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return jh(s)&&s.revert&&k(this,Li)?{...k(this,Li),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_t.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,kr).notify({query:this,type:"updated",action:t})})},B0);function FS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wn,V0,uD=(V0=class extends Va{constructor(t={}){super();ge(this,wn);this.config=t,re(this,wn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??uv(s,r);let o=this.get(i);return o||(o=new lD({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){k(this,wn).has(t.queryHash)||(k(this,wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,wn).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,wn).get(t)}getAll(){return[...k(this,wn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Yx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Yx(t,n)):r}notify(t){_t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wn=new WeakMap,V0),bn,Zt,Ui,_n,xs,q0,dD=(q0=class extends $S{constructor(t){super();ge(this,_n);ge(this,bn);ge(this,Zt);ge(this,Ui);this.mutationId=t.mutationId,re(this,Zt,t.mutationCache),re(this,bn,[]),this.state=t.state||US(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,bn).includes(t)||(k(this,bn).push(t),this.clearGcTimeout(),k(this,Zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){re(this,bn,k(this,bn).filter(r=>r!==t)),this.scheduleGc(),k(this,Zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,bn).length||(this.state.status==="pending"?this.scheduleGc():k(this,Zt).remove(this))}continue(){var t;return((t=k(this,Ui))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,p,w,g,x,v,y,b,_,j,C,S,N;const r=()=>{Ee(this,_n,xs).call(this,{type:"continue"})};re(this,Ui,LS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{Ee(this,_n,xs).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{Ee(this,_n,xs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Zt).canRun(this)}));const n=this.state.status==="pending",s=!k(this,Ui).canStart();try{if(n)r();else{Ee(this,_n,xs).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=k(this,Zt).config).onMutate)==null?void 0:o.call(i,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&Ee(this,_n,xs).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const E=await k(this,Ui).start();return await((d=(u=k(this,Zt).config).onSuccess)==null?void 0:d.call(u,E,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,E,t,this.state.context)),await((w=(p=k(this,Zt).config).onSettled)==null?void 0:w.call(p,E,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,E,null,t,this.state.context)),Ee(this,_n,xs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((y=(v=k(this,Zt).config).onError)==null?void 0:y.call(v,E,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,E,t,this.state.context)),await((C=(j=k(this,Zt).config).onSettled)==null?void 0:C.call(j,void 0,E,this.state.variables,this.state.context,this)),await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,E,t,this.state.context)),E}finally{Ee(this,_n,xs).call(this,{type:"error",error:E})}}finally{k(this,Zt).runNext(this)}}},bn=new WeakMap,Zt=new WeakMap,Ui=new WeakMap,_n=new WeakSet,xs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_t.batch(()=>{k(this,bn).forEach(n=>{n.onMutationUpdate(t)}),k(this,Zt).notify({mutation:this,type:"updated",action:t})})},q0);function US(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,Xr,xc,W0,fD=(W0=class extends Va{constructor(t={}){super();ge(this,Hn);ge(this,Xr);ge(this,xc);this.config=t,re(this,Hn,new Set),re(this,Xr,new Map),re(this,xc,0)}build(t,r,n){const s=new dD({mutationCache:this,mutationId:++zc(this,xc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){k(this,Hn).add(t);const r=uu(t);if(typeof r=="string"){const n=k(this,Xr).get(r);n?n.push(t):k(this,Xr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(k(this,Hn).delete(t)){const r=uu(t);if(typeof r=="string"){const n=k(this,Xr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&k(this,Xr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=uu(t);if(typeof r=="string"){const n=k(this,Xr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=uu(t);if(typeof r=="string"){const s=(n=k(this,Xr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_t.batch(()=>{k(this,Hn).forEach(t=>{this.notify({type:"removed",mutation:t})}),k(this,Hn).clear(),k(this,Xr).clear()})}getAll(){return Array.from(k(this,Hn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zx(r,n))}findAll(t={}){return this.getAll().filter(r=>Zx(t,r))}notify(t){_t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _t.batch(()=>Promise.all(t.map(r=>r.continue().catch(er))))}},Hn=new WeakMap,Xr=new WeakMap,xc=new WeakMap,W0);function uu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ew(e){return{onFetch:(t,r)=>{var d,f,h,p,w;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=OS(t.options,t.fetchOptions),y=async(b,_,j)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return x(M),M})(),N=await v(S),{maxPages:E}=t.options,P=j?rD:tD;return{pages:P(b.pages,N,E),pageParams:P(b.pageParams,_,E)}};if(s&&i.length){const b=s==="backward",_=b?hD:tw,j={pages:i,pageParams:o},C=_(n,j);l=await y(j,C,b)}else{const b=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:tw(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function tw(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function hD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var lt,Ts,Ps,la,ca,As,ua,da,H0,mD=(H0=class{constructor(e={}){ge(this,lt);ge(this,Ts);ge(this,Ps);ge(this,la);ge(this,ca);ge(this,As);ge(this,ua);ge(this,da);re(this,lt,e.queryCache||new uD),re(this,Ts,e.mutationCache||new fD),re(this,Ps,e.defaultOptions||{}),re(this,la,new Map),re(this,ca,new Map),re(this,As,0)}mount(){zc(this,As)._++,k(this,As)===1&&(re(this,ua,fv.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,lt).onFocus())})),re(this,da,_d.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,lt).onOnline())})))}unmount(){var e,t;zc(this,As)._--,k(this,As)===0&&((e=k(this,ua))==null||e.call(this),re(this,ua,void 0),(t=k(this,da))==null||t.call(this),re(this,da,void 0))}isFetching(e){return k(this,lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,Ts).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,lt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=k(this,lt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Zs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return k(this,lt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=k(this,lt).get(n.queryHash),i=s==null?void 0:s.state.data,o=XI(t,i);if(o!==void 0)return k(this,lt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return _t.batch(()=>k(this,lt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,lt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,lt);_t.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,lt);return _t.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=_t.batch(()=>k(this,lt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(er).catch(er)}invalidateQueries(e,t={}){return _t.batch(()=>(k(this,lt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=_t.batch(()=>k(this,lt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,lt).build(this,t);return r.isStaleByTime(Zs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(er).catch(er)}fetchInfiniteQuery(e){return e.behavior=ew(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(er).catch(er)}ensureInfiniteQueryData(e){return e.behavior=ew(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _d.isOnline()?k(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,lt)}getMutationCache(){return k(this,Ts)}getDefaultOptions(){return k(this,Ps)}setDefaultOptions(e){re(this,Ps,e)}setQueryDefaults(e,t){k(this,la).set(no(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,la).values()],r={};return t.forEach(n=>{oc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){k(this,ca).set(no(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,ca).values()],r={};return t.forEach(n=>{oc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=uv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,lt).clear(),k(this,Ts).clear()}},lt=new WeakMap,Ts=new WeakMap,Ps=new WeakMap,la=new WeakMap,ca=new WeakMap,As=new WeakMap,ua=new WeakMap,da=new WeakMap,H0),lr,Me,wc,Jt,zi,fa,Os,Is,bc,ha,ma,Bi,Vi,Ds,pa,We,pl,Jm,Xm,ep,tp,rp,np,sp,zS,K0,pD=(K0=class extends Va{constructor(t,r){super();ge(this,We);ge(this,lr);ge(this,Me);ge(this,wc);ge(this,Jt);ge(this,zi);ge(this,fa);ge(this,Os);ge(this,Is);ge(this,bc);ge(this,ha);ge(this,ma);ge(this,Bi);ge(this,Vi);ge(this,Ds);ge(this,pa,new Set);this.options=r,re(this,lr,t),re(this,Is,null),re(this,Os,Zm()),this.options.experimental_prefetchInRender||k(this,Os).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Me).addObserver(this),rw(k(this,Me),this.options)?Ee(this,We,pl).call(this):this.updateResult(),Ee(this,We,tp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ip(k(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ip(k(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ee(this,We,rp).call(this),Ee(this,We,np).call(this),k(this,Me).removeObserver(this)}setOptions(t){const r=this.options,n=k(this,Me);if(this.options=k(this,lr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,k(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ee(this,We,sp).call(this),k(this,Me).setOptions(this.options),r._defaulted&&!bd(this.options,r)&&k(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Me),observer:this});const s=this.hasListeners();s&&nw(k(this,Me),n,this.options,r)&&Ee(this,We,pl).call(this),this.updateResult(),s&&(k(this,Me)!==n||Rr(this.options.enabled,k(this,Me))!==Rr(r.enabled,k(this,Me))||Zs(this.options.staleTime,k(this,Me))!==Zs(r.staleTime,k(this,Me)))&&Ee(this,We,Jm).call(this);const i=Ee(this,We,Xm).call(this);s&&(k(this,Me)!==n||Rr(this.options.enabled,k(this,Me))!==Rr(r.enabled,k(this,Me))||i!==k(this,Ds))&&Ee(this,We,ep).call(this,i)}getOptimisticResult(t){const r=k(this,lr).getQueryCache().build(k(this,lr),t),n=this.createResult(r,t);return vD(this,n)&&(re(this,Jt,n),re(this,fa,this.options),re(this,zi,k(this,Me).state)),n}getCurrentResult(){return k(this,Jt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){k(this,pa).add(t)}getCurrentQuery(){return k(this,Me)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,lr).defaultQueryOptions(t),n=k(this,lr).getQueryCache().build(k(this,lr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ee(this,We,pl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,Jt)))}createResult(t,r){var E;const n=k(this,Me),s=this.options,i=k(this,Jt),o=k(this,zi),l=k(this,fa),u=t!==n?t.state:k(this,wc),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),M=!P&&rw(t,r),O=P&&nw(t,n,r,s);(M||O)&&(f={...f,...FS(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:g,status:x}=f;p=f.data;let v=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,v=!0):P=typeof r.placeholderData=="function"?r.placeholderData((E=k(this,ma))==null?void 0:E.state.data,k(this,ma)):r.placeholderData,P!==void 0&&(x="success",p=Ym(i==null?void 0:i.data,P,r),h=!0)}if(r.select&&p!==void 0&&!v)if(i&&p===(o==null?void 0:o.data)&&r.select===k(this,bc))p=k(this,ha);else try{re(this,bc,r.select),p=r.select(p),p=Ym(i==null?void 0:i.data,p,r),re(this,ha,p),re(this,Is,null)}catch(P){re(this,Is,P)}k(this,Is)&&(w=k(this,Is),p=k(this,ha),g=Date.now(),x="error");const y=f.fetchStatus==="fetching",b=x==="pending",_=x==="error",j=b&&y,C=p!==void 0,N={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:_,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:_&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&C,isStale:hv(t,r),refetch:this.refetch,promise:k(this,Os),isEnabled:Rr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=U=>{N.status==="error"?U.reject(N.error):N.data!==void 0&&U.resolve(N.data)},M=()=>{const U=re(this,Os,N.promise=Zm());P(U)},O=k(this,Os);switch(O.status){case"pending":t.queryHash===n.queryHash&&P(O);break;case"fulfilled":(N.status==="error"||N.data!==O.value)&&M();break;case"rejected":(N.status!=="error"||N.error!==O.reason)&&M();break}}return N}updateResult(){const t=k(this,Jt),r=this.createResult(k(this,Me),this.options);if(re(this,zi,k(this,Me).state),re(this,fa,this.options),k(this,zi).data!==void 0&&re(this,ma,k(this,Me)),bd(r,t))return;re(this,Jt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!k(this,pa).size)return!0;const o=new Set(i??k(this,pa));return this.options.throwOnError&&o.add("error"),Object.keys(k(this,Jt)).some(l=>{const c=l;return k(this,Jt)[c]!==t[c]&&o.has(c)})};Ee(this,We,zS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ee(this,We,tp).call(this)}},lr=new WeakMap,Me=new WeakMap,wc=new WeakMap,Jt=new WeakMap,zi=new WeakMap,fa=new WeakMap,Os=new WeakMap,Is=new WeakMap,bc=new WeakMap,ha=new WeakMap,ma=new WeakMap,Bi=new WeakMap,Vi=new WeakMap,Ds=new WeakMap,pa=new WeakMap,We=new WeakSet,pl=function(t){Ee(this,We,sp).call(this);let r=k(this,Me).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(er)),r},Jm=function(){Ee(this,We,rp).call(this);const t=Zs(this.options.staleTime,k(this,Me));if(ro||k(this,Jt).isStale||!Gm(t))return;const n=PS(k(this,Jt).dataUpdatedAt,t)+1;re(this,Bi,setTimeout(()=>{k(this,Jt).isStale||this.updateResult()},n))},Xm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Me)):this.options.refetchInterval)??!1},ep=function(t){Ee(this,We,np).call(this),re(this,Ds,t),!(ro||Rr(this.options.enabled,k(this,Me))===!1||!Gm(k(this,Ds))||k(this,Ds)===0)&&re(this,Vi,setInterval(()=>{(this.options.refetchIntervalInBackground||fv.isFocused())&&Ee(this,We,pl).call(this)},k(this,Ds)))},tp=function(){Ee(this,We,Jm).call(this),Ee(this,We,ep).call(this,Ee(this,We,Xm).call(this))},rp=function(){k(this,Bi)&&(clearTimeout(k(this,Bi)),re(this,Bi,void 0))},np=function(){k(this,Vi)&&(clearInterval(k(this,Vi)),re(this,Vi,void 0))},sp=function(){const t=k(this,lr).getQueryCache().build(k(this,lr),this.options);if(t===k(this,Me))return;const r=k(this,Me);re(this,Me,t),re(this,wc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},zS=function(t){_t.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,Jt))}),k(this,lr).getQueryCache().notify({query:k(this,Me),type:"observerResultsUpdated"})})},K0);function gD(e,t){return Rr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rw(e,t){return gD(e,t)||e.state.data!==void 0&&ip(e,t,t.refetchOnMount)}function ip(e,t,r){if(Rr(t.enabled,e)!==!1&&Zs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&hv(e,t)}return!1}function nw(e,t,r,n){return(e!==t||Rr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&hv(e,r)}function hv(e,t){return Rr(t.enabled,e)!==!1&&e.isStaleByTime(Zs(t.staleTime,e))}function vD(e,t){return!bd(e.getCurrentResult(),t)}var Ms,Ls,cr,Kn,es,Bu,op,G0,yD=(G0=class extends Va{constructor(r,n){super();ge(this,es);ge(this,Ms);ge(this,Ls);ge(this,cr);ge(this,Kn);re(this,Ms,r),this.setOptions(n),this.bindMethods(),Ee(this,es,Bu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=k(this,Ms).defaultMutationOptions(r),bd(this.options,n)||k(this,Ms).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,cr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&no(n.mutationKey)!==no(this.options.mutationKey)?this.reset():((s=k(this,cr))==null?void 0:s.state.status)==="pending"&&k(this,cr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,cr))==null||r.removeObserver(this)}onMutationUpdate(r){Ee(this,es,Bu).call(this),Ee(this,es,op).call(this,r)}getCurrentResult(){return k(this,Ls)}reset(){var r;(r=k(this,cr))==null||r.removeObserver(this),re(this,cr,void 0),Ee(this,es,Bu).call(this),Ee(this,es,op).call(this)}mutate(r,n){var s;return re(this,Kn,n),(s=k(this,cr))==null||s.removeObserver(this),re(this,cr,k(this,Ms).getMutationCache().build(k(this,Ms),this.options)),k(this,cr).addObserver(this),k(this,cr).execute(r)}},Ms=new WeakMap,Ls=new WeakMap,cr=new WeakMap,Kn=new WeakMap,es=new WeakSet,Bu=function(){var n;const r=((n=k(this,cr))==null?void 0:n.state)??US();re(this,Ls,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},op=function(r){_t.batch(()=>{var n,s,i,o,l,c,u,d;if(k(this,Kn)&&this.hasListeners()){const f=k(this,Ls).variables,h=k(this,Ls).context;(r==null?void 0:r.type)==="success"?((s=(n=k(this,Kn)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=k(this,Kn)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=k(this,Kn)).onError)==null||c.call(l,r.error,f,h),(d=(u=k(this,Kn)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(k(this,Ls))})})},G0),BS=m.createContext(void 0),cs=e=>{const t=m.useContext(BS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},xD=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(BS.Provider,{value:e,children:t})),VS=m.createContext(!1),wD=()=>m.useContext(VS);VS.Provider;function bD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _D=m.createContext(bD()),jD=()=>m.useContext(_D),SD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},CD=e=>{m.useEffect(()=>{e.clearReset()},[e])},ED=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||IS(r,[e.error,n])),ND=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},kD=(e,t)=>e.isLoading&&e.isFetching&&!t,RD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,sw=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function TD(e,t,r){var f,h,p,w,g;const n=wD(),s=jD(),i=cs(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",ND(o),SD(o,s),CD(s);const l=!i.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(x=>{const v=d?c.subscribe(_t.batchCalls(x)):er;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),RD(o,u))throw sw(o,c,s);if(ED({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,u),o.experimental_prefetchInRender&&!ro&&kD(u,n)){const x=l?sw(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;x==null||x.catch(er).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Wt(e,t){return TD(e,pD)}function Ht(e,t){const r=cs(),[n]=m.useState(()=>new yD(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(_t.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,l)=>{n.mutate(o,l).catch(er)},[n]);if(s.error&&IS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}var Us;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Us||(Us={}));const iw="popstate";function PD(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return ap("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:jd(s)}return OD(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AD(){return Math.random().toString(36).substr(2,8)}function ow(e,t){return{usr:e.state,key:e.key,idx:t}}function ap(e,t,r,n){return r===void 0&&(r=null),ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qa(t):t,{state:r,key:t&&t.key||n||AD()})}function jd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function OD(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Us.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ac({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Us.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:v})}function h(x,v){l=Us.Push;let y=ap(g.location,x,v);u=d()+1;let b=ow(y,u),_=g.createHref(y);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function p(x,v){l=Us.Replace;let y=ap(g.location,x,v);u=d();let b=ow(y,u),_=g.createHref(y);o.replaceState(b,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function w(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:jd(x);return y=y.replace(/ $/,"%20"),ht(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(iw,f),c=x,()=>{s.removeEventListener(iw,f),c=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return g}var aw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aw||(aw={}));function ID(e,t,r){return r===void 0&&(r="/"),DD(e,t,r,!1)}function DD(e,t,r,n){let s=typeof t=="string"?qa(t):t,i=mv(s.pathname||"/",r);if(i==null)return null;let o=WS(e);MD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=KD(i);l=WD(o[c],u,n)}return l}function WS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Js([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WS(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:VD(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of HS(i.path))s(i,o,c)}),t}function HS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=HS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function MD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const LD=/^:[\w-]+$/,$D=3,FD=2,UD=1,zD=10,BD=-2,lw=e=>e==="*";function VD(e,t){let r=e.split("/"),n=r.length;return r.some(lw)&&(n+=BD),t&&(n+=FD),r.filter(s=>!lw(s)).reduce((s,i)=>s+(LD.test(i)?$D:i===""?UD:zD),n)}function qD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function WD(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=cw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=cw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Js([i,f.pathname]),pathnameBase:ZD(Js([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Js([i,f.pathnameBase]))}return o}function cw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=HD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[f];return p&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function HD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function KD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function GD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?qa(e):e;return{pathname:r?r.startsWith("/")?r:QD(r,t):t,search:JD(n),hash:XD(s)}}function QD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Sh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pv(e,t){let r=YD(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=qa(e):(s=ac({},e),ht(!s.pathname||!s.pathname.includes("?"),Sh("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Sh("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Sh("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=GD(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Js=e=>e.join("/").replace(/\/\/+/g,"/"),ZD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KS=["post","put","patch","delete"];new Set(KS);const tM=["get",...KS];new Set(tM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}const vv=m.createContext(null),rM=m.createContext(null),pi=m.createContext(null),wf=m.createContext(null),us=m.createContext({outlet:null,matches:[],isDataRoute:!1}),GS=m.createContext(null);function nM(e,t){let{relative:r}=t===void 0?{}:t;Wa()||ht(!1);let{basename:n,navigator:s}=m.useContext(pi),{hash:i,pathname:o,search:l}=YS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Js([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Wa(){return m.useContext(wf)!=null}function po(){return Wa()||ht(!1),m.useContext(wf).location}function QS(e){m.useContext(pi).static||m.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=m.useContext(us);return e?gM():sM()}function sM(){Wa()||ht(!1);let e=m.useContext(vv),{basename:t,future:r,navigator:n}=m.useContext(pi),{matches:s}=m.useContext(us),{pathname:i}=po(),o=JSON.stringify(pv(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return QS(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=gv(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function yv(){let{matches:e}=m.useContext(us),t=e[e.length-1];return t?t.params:{}}function YS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(pi),{matches:s}=m.useContext(us),{pathname:i}=po(),o=JSON.stringify(pv(s,n.v7_relativeSplatPath));return m.useMemo(()=>gv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function iM(e,t){return oM(e,t)}function oM(e,t,r,n){Wa()||ht(!1);let{navigator:s}=m.useContext(pi),{matches:i}=m.useContext(us),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=po(),d;if(t){var f;let x=typeof t=="string"?qa(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||ht(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=ID(e,{pathname:p}),g=dM(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Js([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Js([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&g?m.createElement(wf.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Us.Pop}},g):g}function aM(){let e=pM(),t=eM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const lM=m.createElement(aM,null);class cM extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(us.Provider,{value:this.props.routeContext},m.createElement(GS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uM(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(vv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(us.Provider,{value:t},n)}function dM(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,w=!1,g=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||lM,c&&(u<0&&h===0?(w=!0,x=null):u===h&&(w=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),y=()=>{let b;return p?b=g:w?b=x:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(uM,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(cM,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var ZS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZS||{}),Sd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sd||{});function fM(e){let t=m.useContext(vv);return t||ht(!1),t}function hM(e){let t=m.useContext(rM);return t||ht(!1),t}function mM(e){let t=m.useContext(us);return t||ht(!1),t}function JS(e){let t=mM(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function pM(){var e;let t=m.useContext(GS),r=hM(Sd.UseRouteError),n=JS(Sd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function gM(){let{router:e}=fM(ZS.UseNavigateStable),t=JS(Sd.UseNavigateStable),r=m.useRef(!1);return QS(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,lc({fromRouteId:t},i)))},[e,t])}function vM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uw(e){let{to:t,replace:r,state:n,relative:s}=e;Wa()||ht(!1);let{future:i,static:o}=m.useContext(pi),{matches:l}=m.useContext(us),{pathname:c}=po(),u=Qt(),d=gv(t,pv(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Ft(e){ht(!1)}function yM(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Us.Pop,navigator:i,static:o=!1,future:l}=e;Wa()&&ht(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:lc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=qa(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:w="default"}=n,g=m.useMemo(()=>{let x=mv(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:w},navigationType:s}},[c,d,f,h,p,w,s]);return g==null?null:m.createElement(pi.Provider,{value:u},m.createElement(wf.Provider,{children:r,value:g}))}function xM(e){let{children:t,location:r}=e;return iM(lp(t),r)}new Promise(()=>{});function lp(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,lp(n.props.children,i));return}n.type!==Ft&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}function wM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function bM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _M(e,t){return e.button===0&&(!t||t==="_self")&&!bM(e)}function up(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function jM(e,t){let r=up(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const SM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CM="6";try{window.__reactRouterVersion=CM}catch{}const EM="startTransition",dw=Gp[EM];function NM(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=PD({window:s,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&dw?dw(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>vM(n),[n]),m.createElement(yM,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const kM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=wM(t,SM),{basename:p}=m.useContext(pi),w,g=!1;if(typeof u=="string"&&RM.test(u)&&(w=u,kM))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=mv(_.pathname,p);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let x=nM(u,{relative:s}),v=TM(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||v(b)}return m.createElement("a",cp({},h,{href:w||x,onClick:g||i?n:y,ref:r,target:c}))});var fw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var hw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hw||(hw={}));function TM(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Qt(),u=po(),d=YS(e,{relative:o});return m.useCallback(f=>{if(_M(f,r)){f.preventDefault();let h=n!==void 0?n:jd(u)===jd(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function PM(e){let t=m.useRef(up(e)),r=m.useRef(!1),n=po(),s=m.useMemo(()=>jM(n.search,r.current?null:t.current),[n.search]),i=Qt(),o=m.useCallback((l,c)=>{const u=up(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var dp=function(e,t){return dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},dp(e,t)};function XS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Or=function(){return Or=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Or.apply(this,arguments)};function gi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function e1(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function t1(e,t){return function(r,n){t(r,n,e)}}function r1(e,t,r,n,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var w={};for(var g in n)w[g]=g==="access"?{}:n[g];for(var g in n.access)w.access[g]=n.access[g];w.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var x=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],w);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=o(x.get))&&(d.get=f),(f=o(x.set))&&(d.set=f),(f=o(x.init))&&s.unshift(f)}else(f=o(x))&&(l==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function n1(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function s1(e){return typeof e=="symbol"?e:"".concat(e)}function i1(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function o1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function de(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function a1(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var bf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function l1(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bf(t,e,r)}function Cd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function c1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xv(arguments[t]));return e}function u1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n}function wv(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Na(e){return this instanceof Na?(this.v=e,this):new Na(e)}function d1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(w){return Promise.resolve(w).then(p,f)}}function l(p,w){n[p]&&(s[p]=function(g){return new Promise(function(x,v){i.push([p,g,x,v])>1||c(p,g)})},w&&(s[p]=w(s[p])))}function c(p,w){try{u(n[p](w))}catch(g){h(i[0][3],g)}}function u(p){p.value instanceof Na?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,w){p(w),i.shift(),i.length&&c(i[0][0],i[0][1])}}function f1(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:Na(e[s](o)),done:!1}:i?i(o):o}:i}}function h1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Cd=="function"?Cd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function m1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var AM=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},fp=function(e){return fp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},fp(e)};function p1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=fp(e),n=0;n<r.length;n++)r[n]!=="default"&&bf(t,e,r[n]);return AM(t,e),t}function g1(e){return e&&e.__esModule?e:{default:e}}function v1(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function y1(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function x1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function w1(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var OM=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function b1(e){function t(i){e.error=e.hasError?new OM(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function _1(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const IM={__extends:XS,__assign:Or,__rest:gi,__decorate:e1,__param:t1,__esDecorate:r1,__runInitializers:n1,__propKey:s1,__setFunctionName:i1,__metadata:o1,__awaiter:de,__generator:a1,__createBinding:bf,__exportStar:l1,__values:Cd,__read:xv,__spread:c1,__spreadArrays:u1,__spreadArray:wv,__await:Na,__asyncGenerator:d1,__asyncDelegator:f1,__asyncValues:h1,__makeTemplateObject:m1,__importStar:p1,__importDefault:g1,__classPrivateFieldGet:v1,__classPrivateFieldSet:y1,__classPrivateFieldIn:x1,__addDisposableResource:w1,__disposeResources:b1,__rewriteRelativeImportExtension:_1},DM=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:w1,get __assign(){return Or},__asyncDelegator:f1,__asyncGenerator:d1,__asyncValues:h1,__await:Na,__awaiter:de,__classPrivateFieldGet:v1,__classPrivateFieldIn:x1,__classPrivateFieldSet:y1,__createBinding:bf,__decorate:e1,__disposeResources:b1,__esDecorate:r1,__exportStar:l1,__extends:XS,__generator:a1,__importDefault:g1,__importStar:p1,__makeTemplateObject:m1,__metadata:o1,__param:t1,__propKey:s1,__read:xv,__rest:gi,__rewriteRelativeImportExtension:_1,__runInitializers:n1,__setFunctionName:i1,__spread:c1,__spreadArray:wv,__spreadArrays:u1,__values:Cd,default:IM},Symbol.toStringTag,{value:"Module"})),MM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class bv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class LM extends bv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mw extends bv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pw extends bv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hp||(hp={}));class $M{constructor(t,{headers:r={},customFetch:n,region:s=hp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=MM(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return de(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const w=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let x=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const v=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:x}).catch(j=>{throw new LM(j)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new mw(v);if(!v.ok)throw new pw(v);let b=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield v.json():b==="application/octet-stream"||b==="application/pdf"?_=yield v.blob():b==="text/event-stream"?_=v:b==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof pw||l instanceof mw?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var rr={};const Ha=lR(DM);var du={},fu={},hu={},mu={},pu={},gu={},gw;function j1(){if(gw)return gu;gw=1,Object.defineProperty(gu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gu.default=e,gu}var vw;function S1(){if(vw)return pu;vw=1,Object.defineProperty(pu,"__esModule",{value:!0});const t=Ha.__importDefault(j1());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let p=null,w=null,g=null,x=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?w=j:w=JSON.parse(j))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&_&&_.length>1&&(g=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(p={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,g=null,x=406,v="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(w=[],p=null,x=200,v="OK")}catch{c.status===404&&b===""?(x=204,v="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,x=200,v="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:w,count:g,status:x,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return pu.default=r,pu}var yw;function C1(){if(yw)return mu;yw=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=Ha.__importDefault(S1());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return mu.default=r,mu}var xw;function _v(){if(xw)return hu;xw=1,Object.defineProperty(hu,"__esModule",{value:!0});const t=Ha.__importDefault(C1()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return hu.default=n,hu}var ww;function E1(){if(ww)return fu;ww=1,Object.defineProperty(fu,"__esModule",{value:!0});const t=Ha.__importDefault(_v());class r{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return fu.default=r,fu}var bw;function FM(){if(bw)return du;bw=1,Object.defineProperty(du,"__esModule",{value:!0});const e=Ha,t=e.__importDefault(E1()),r=e.__importDefault(_v());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{h.searchParams.append(g,x)})):(f="POST",p=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:w,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return du.default=n,du}Object.defineProperty(rr,"__esModule",{value:!0});var N1=rr.PostgrestError=L1=rr.PostgrestBuilder=D1=rr.PostgrestTransformBuilder=O1=rr.PostgrestFilterBuilder=P1=rr.PostgrestQueryBuilder=R1=rr.PostgrestClient=void 0;const Ka=Ha,k1=Ka.__importDefault(FM());var R1=rr.PostgrestClient=k1.default;const T1=Ka.__importDefault(E1());var P1=rr.PostgrestQueryBuilder=T1.default;const A1=Ka.__importDefault(_v());var O1=rr.PostgrestFilterBuilder=A1.default;const I1=Ka.__importDefault(C1());var D1=rr.PostgrestTransformBuilder=I1.default;const M1=Ka.__importDefault(S1());var L1=rr.PostgrestBuilder=M1.default;const $1=Ka.__importDefault(j1());N1=rr.PostgrestError=$1.default;var F1=rr.default={PostgrestClient:k1.default,PostgrestQueryBuilder:T1.default,PostgrestFilterBuilder:A1.default,PostgrestTransformBuilder:I1.default,PostgrestBuilder:M1.default,PostgrestError:$1.default};const UM=Q0({__proto__:null,get PostgrestBuilder(){return L1},get PostgrestClient(){return R1},get PostgrestError(){return N1},get PostgrestFilterBuilder(){return O1},get PostgrestQueryBuilder(){return P1},get PostgrestTransformBuilder(){return D1},default:F1},[rr]),{PostgrestClient:zM,PostgrestQueryBuilder:lV,PostgrestFilterBuilder:cV,PostgrestTransformBuilder:uV,PostgrestBuilder:dV,PostgrestError:fV}=F1||UM;class BM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VM="2.81.1",qM=`realtime-js/${VM}`,U1="1.0.0",WM="2.0.0",_w=U1,mp=1e4,HM=1e3,KM=100;var Ni;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ni||(Ni={}));var wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(wt||(wt={}));var Tr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tr||(Tr={}));var pp;(function(e){e.websocket="websocket"})(pp||(pp={}));var ki;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ki||(ki={}));class GM{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:s,topic:i,payload:o}=t,l=this.META_LENGTH+r.length+n.length+i.length+s.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,r.length),u.setUint8(d++,n.length),u.setUint8(d++,i.length),u.setUint8(d++,s.length),Array.from(r,h=>u.setUint8(d++,h.charCodeAt(0))),Array.from(n,h=>u.setUint8(d++,h.charCodeAt(0))),Array.from(i,h=>u.setUint8(d++,h.charCodeAt(0))),Array.from(s,h=>u.setUint8(d++,h.charCodeAt(0)));var f=new Uint8Array(c.byteLength+o.byteLength);return f.set(new Uint8Array(c),0),f.set(new Uint8Array(o),c.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+l.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(d),h=0;f.setUint8(h++,this.KINDS.userBroadcastPush),f.setUint8(h++,s.length),f.setUint8(h++,i.length),f.setUint8(h++,o.length),f.setUint8(h++,l.length),f.setUint8(h++,this.BINARY_ENCODING),Array.from(s,w=>f.setUint8(h++,w.charCodeAt(0))),Array.from(i,w=>f.setUint8(h++,w.charCodeAt(0))),Array.from(o,w=>f.setUint8(h++,w.charCodeAt(0))),Array.from(l,w=>f.setUint8(h++,w.charCodeAt(0)));var p=new Uint8Array(d.byteLength+c.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(c),d.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:s,ref:i,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+l.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(h),w=0;p.setUint8(w++,this.KINDS.userBroadcastPush),p.setUint8(w++,s.length),p.setUint8(w++,i.length),p.setUint8(w++,o.length),p.setUint8(w++,l.length),p.setUint8(w++,this.JSON_ENCODING),Array.from(s,x=>p.setUint8(w++,x.charCodeAt(0))),Array.from(i,x=>p.setUint8(w++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(w++,x.charCodeAt(0))),Array.from(l,x=>p.setUint8(w++,x.charCodeAt(0)));var g=new Uint8Array(h.byteLength+d.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(d),h.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,s);case this.KINDS.reply:return this._decodeReply(t,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodePush(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+s));l=l+s;const u=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:f}}_decodeReply(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=n.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(n.decode(t.slice(c,t.byteLength))),w={status:h,response:p};return{join_ref:u,ref:d,topic:f,event:Tr.reply,payload:w}}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,w={type:this.BROADCAST,event:d,payload:p};return o>0&&(w.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class z1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const jw=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=QM(o,e,t,s),i),{}):{}},QM=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?B1(i,o):gp(o)},B1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return XM(t,r)}switch(e){case Ye.bool:return YM(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return ZM(t);case Ye.json:case Ye.jsonb:return JM(t);case Ye.timestamp:return eL(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return gp(t);default:return gp(t)}},gp=e=>e,YM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},JM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>B1(t,l))}return e},eL=e=>typeof e=="string"?e.replace(" ","T"):e,V1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ch{constructor(t,r,n={},s=mp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sw||(Sw={}));class Ol{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ol.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ol.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),w=d.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);w.length>0&&(l[u]=w),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Cw||(Cw={}));var Il;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Il||(Il={}));var qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class jv{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ch(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new z1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ol(this),this.broadcastEndpointURL=V1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Il.PRESENCE]&&this.bindings[Il.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(qn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){t==null||t(qn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(w=g==null?void 0:g.length)!==null&&w!==void 0?w:0,v=[];for(let y=0;y<x;y++){const b=g[y],{filter:{event:_,schema:j,table:C,filter:S}}=b,N=p&&p[y];if(N&&N.event===_&&N.schema===j&&N.table===C&&N.filter===S)v.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=wt.errored,t==null||t(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(qn.SUBSCRIBED);return}}).receive("error",p=>{this.state=wt.errored,t==null||t(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===wt.joined&&t===Il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ch(this,Tr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ch(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>KM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Tr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,g,x;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,g,x,v,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,j=(w=p.filter)===null||w===void 0?void 0:w.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:g,table:x,commit_timestamp:v,type:y,errors:b}=w;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(h,n)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jv.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tr.close,{},t)}_onError(t){this._on(Tr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jw(t.columns,t.old_record)),r}}const Eh=()=>{},vu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tL=[1e3,2e3,5e3,1e4],rL=1e4,nL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sL{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mp,this.transport=null,this.heartbeatIntervalMs=vu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eh,this.ref=0,this.reconnectTimer=null,this.vsn=_w,this.logger=Eh,this.conn=null,this.sendBuffer=[],this.serializer=new GM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${pp.websocket}`,this.httpEndpoint=V1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ni.connecting:return ki.Connecting;case Ni.open:return ki.Open;case Ni.closing:return ki.Closing;default:return ki.Closed}}isConnected(){return this.connectionState()===ki.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new jv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ni.open||this.conn.readyState===Ni.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:qM};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Tr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new z1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:mp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:vu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Eh,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:_w,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>tL[w-1]||rL,this.vsn){case U1:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,g)=>g(JSON.stringify(w)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(w,g)=>g(JSON.parse(w));break;case WM:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Sv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iL extends Sv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vp extends Sv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Cv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oL=()=>Response,yp=e=>{if(Array.isArray(e))return e.map(r=>yp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=yp(n)}),t},aL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lL=(e,t,r)=>de(void 0,void 0,void 0,function*(){const n=yield oL();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new iL(Nh(s),i,o))}).catch(s=>{t(new vp(Nh(s),s))}):t(new vp(Nh(e),e))}),cL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(aL(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Pc(e,t,r,n,s,i){return de(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,cL(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>lL(c,l,n))})})}function cc(e,t,r,n){return de(this,void 0,void 0,function*(){return Pc(e,"GET",t,r,n)})}function Zr(e,t,r,n,s){return de(this,void 0,void 0,function*(){return Pc(e,"POST",t,n,s,r)})}function xp(e,t,r,n,s){return de(this,void 0,void 0,function*(){return Pc(e,"PUT",t,n,s,r)})}function uL(e,t,r,n){return de(this,void 0,void 0,function*(){return Pc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ev(e,t,r,n,s){return de(this,void 0,void 0,function*(){return Pc(e,"DELETE",t,n,s,r)})}class dL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return de(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var q1;class fL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[q1]="BlobDownloadBuilder",this.promise=null}asStream(){return new dL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return de(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}q1=Symbol.toStringTag;const hL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ew={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mL{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Cv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return de(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ew),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?xp:Zr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}upload(t,r,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return de(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ew.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield xp(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(st(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return de(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Zr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Sv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}update(t,r,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return de(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}copy(t,r,n){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield Zr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return de(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Zr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return de(this,void 0,void 0,function*(){try{const s=yield Zr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>cc(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new fL(c,this.shouldThrowOnError)}info(t){return de(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield cc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}exists(t){return de(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n)&&n instanceof vp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return de(this,void 0,void 0,function*(){try{return{data:yield Ev(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}list(t,r,n){return de(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hL),r),{prefix:t||""});return{data:yield Zr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}listV2(t,r){return de(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Zr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const W1="2.81.1",H1={"X-Client-Info":`storage-js/${W1}`};class pL{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},H1),r),this.fetch=Cv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return de(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield cc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}getBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}createBucket(t){return de(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Zr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return de(this,void 0,void 0,function*(){try{return{data:yield xp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}emptyBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Ev(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class gL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},H1),r),this.fetch=Cv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}listBuckets(t){return de(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield cc(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Ev(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}}const Nv={"X-Client-Info":`storage-js/${W1}`,"Content-Type":"application/json"};class K1 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class kh extends K1{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vL extends K1{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Nw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Nw||(Nw={}));const kv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xL=(e,t,r)=>de(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new kh(kw(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new kh(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new kh(l,s,o))}}else t(new vL(kw(e),e))}),wL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(yL(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function bL(e,t,r,n,s,i){return de(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,wL(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>xL(c,l,n))})})}function wr(e,t,r,n,s){return de(this,void 0,void 0,function*(){return bL(e,"POST",t,n,s,r)})}class _L{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nv),r),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return de(this,void 0,void 0,function*(){try{return{data:(yield wr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return de(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xr(n))return{data:null,error:n};throw n}})}listIndexes(t){return de(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return de(this,void 0,void 0,function*(){try{return{data:(yield wr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xr(n))return{data:null,error:n};throw n}})}}class jL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nv),r),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return de(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield wr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}getVectors(t){return de(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}listVectors(t){return de(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield wr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}queryVectors(t){return de(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return de(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield wr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}}class SL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nv),r),this.fetch=kv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return de(this,void 0,void 0,function*(){try{return{data:(yield wr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}getBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}listBuckets(){return de(this,arguments,void 0,function*(t={}){try{return{data:yield wr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:(yield wr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xr(r))return{data:null,error:r};throw r}})}}class CL extends SL{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new EL(this.url,this.headers,t,this.fetch)}}class EL extends _L{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return de(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return de(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return de(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return de(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new NL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class NL extends jL{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return de(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return de(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return de(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return de(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return de(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kL extends pL{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new mL(this.url,this.headers,t,this.fetch)}get vectors(){return new CL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gL(this.url+"/iceberg",this.headers,this.fetch)}}const RL="2.81.1";let gl="";typeof Deno<"u"?gl="deno":typeof document<"u"?gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gl="react-native":gl="node";const TL={"X-Client-Info":`supabase-js-${gl}/${RL}`},PL={headers:TL},AL={schema:"public"},OL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IL={},DL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ML=()=>Headers,LL=(e,t,r)=>{const n=DL(r),s=ML();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function $L(e){return e.endsWith("/")?e:e+"/"}function FL(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function UL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($L(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const G1="2.81.1",Ro=30*1e3,wp=3,Rh=wp*Ro,zL="http://localhost:9999",BL="supabase.auth.token",VL={"X-Client-Info":`gotrue-js/${G1}`},bp="X-Supabase-Api-Version",Q1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WL=10*60*1e3;class uc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HL extends uc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function KL(e){return he(e)&&e.name==="AuthApiError"}class Ri extends uc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vi extends uc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kr extends vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GL(e){return he(e)&&e.name==="AuthSessionMissingError"}class wo extends vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yu extends vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xu extends vi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QL(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class Rw extends vi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _p extends vi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Th(e){return he(e)&&e.name==="AuthRetryableFetchError"}class Tw extends vi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jp extends vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pw=` 	
\r=`.split(""),YL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pw.length;t+=1)e[Pw[t].charCodeAt(0)]=-2;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=t;return e})();function Aw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}}function Y1(e,t,r){const n=YL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ow(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{XL(o,n,r)};for(let o=0;o<e.length;o+=1)Y1(e.charCodeAt(o),s,i);return t.join("")}function ZL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ZL(n,t)}}function XL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ra(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Y1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function e$(e){const t=[];return JL(e,r=>t.push(r)),new Uint8Array(t)}function Oi(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Aw(s,r,n)),Aw(null,r,n),t.join("")}function t$(e){return Math.round(Date.now()/1e3)+e}function r$(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",_i={tested:!1,writable:!1},Z1=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_i.tested)return _i.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_i.tested=!0,_i.writable=!0}catch{_i.tested=!0,_i.writable=!1}return _i.writable};function n$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const J1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",To=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ji=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vs=async(e,t)=>{await e.removeItem(t)};class _f{constructor(){this.promise=new _f.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_f.promiseConstructor=Promise;function Ph(e){const t=e.split(".");if(t.length!==3)throw new jp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qL.test(t[n]))throw new jp("JWT not in base64url format");return{header:JSON.parse(Ow(t[0])),payload:JSON.parse(Ow(t[1])),signature:ra(t[2]),raw:{header:t[0],payload:t[1]}}}async function i$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function o$(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function a$(e){return("0"+e.toString(16)).substr(-2)}function l$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,a$).join("")}async function c$(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function u$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await c$(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bo(e,t,r=!1){const n=l$();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await To(e,`${t}-code-verifier`,s);const i=await u$(n);return[i,n===i?"plain":"s256"]}const d$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f$(e){const t=e.headers.get(bp);if(!t||!t.match(d$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function h$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function m$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const p$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _o(e){if(!p$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ah(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function g$(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Iw(e){return JSON.parse(JSON.stringify(e))}const Ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v$=[502,503,504];async function Dw(e){var t;if(!s$(e))throw new _p(Ei(e),0);if(v$.includes(e.status))throw new _p(Ei(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ri(Ei(i),i)}let n;const s=f$(e);if(s&&s.getTime()>=Q1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tw(Ei(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Tw(Ei(r),e.status,r.weak_password.reasons);throw new HL(Ei(r),e.status||500,n)}const y$=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function we(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[bp]||(i[bp]=Q1["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await x$(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function x$(e,t,r,n,s,i){const o=y$(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new _p(Ei(c),0)}if(l.ok||await Dw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Dw(c)}}function Gr(e){var t;let r=null;_$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=t$(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mw(e){const t=Gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Es(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function w$(e){return{data:e,error:null}}function b$(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=gi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Lw(e){return e}function _$(e){return e.access_token&&e.refresh_token&&e.expires_in}const Oh=["global","local","others"];class j${constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=J1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Oh[0]){if(Oh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oh.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Es})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=gi(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:b$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Es})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lw});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){_o(t);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Es})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_o(t);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Es})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_o(t);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Es})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_o(t.userId);try{const{data:r,error:n}=await we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_o(t.userId),_o(t.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lw});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(he(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}}function $w(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const jo={debug:!!(globalThis&&Z1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class S$ extends X1{}async function C$(e,t,r){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new S$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function E$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function N$(e){return parseInt(e,16)}function k$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function R$(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=eC(e.address),w=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${p}

${g}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}v+=y}return`${x}
${v}`}class vt extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Nd extends vt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function T$({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(tC(o)){if(i.rp.id!==o)return new vt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function P$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tC(n)){if(r.rpId!==n)return new vt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class A${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const O$=new A$;function I$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=gi(e,["challenge","user","excludeCredentials"]),i=ra(t).buffer,o=Object.assign(Object.assign({},r),{id:ra(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ra(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function D$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=gi(e,["challenge","allowCredentials"]),s=ra(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ra(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function M$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Oi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Oi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function L$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Oi(new Uint8Array(s.authenticatorData)),clientDataJSON:Oi(new Uint8Array(s.clientDataJSON)),signature:Oi(new Uint8Array(s.signature)),userHandle:s.userHandle?Oi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Fw(){var e,t;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nd("Browser returned unexpected credential type",t)}:{data:null,error:new Nd("Empty credential response",t)}}catch(t){return{data:null,error:T$({error:t,options:e})}}}async function F$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nd("Browser returned unexpected credential type",t)}:{data:null,error:new Nd("Empty credential response",t)}}catch(t){return{data:null,error:P$({error:t,options:e})}}}const U$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},z$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=kd(l,o):n[i]=kd(o)}else n[i]=o}return n}function B$(e,t){return kd(U$,e,t||{})}function V$(e,t){return kd(z$,e,t||{})}class q${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??O$.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=B$(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await $$({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=V$(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await F$(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return he(o)?{data:null,error:o}:{data:null,error:new Ri("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new uc("rpId is required for WebAuthn authentication")};try{if(!Fw())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return he(o)?{data:null,error:o}:{data:null,error:new Ri("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new uc("rpId is required for WebAuthn registration")};try{if(!Fw())return{data:null,error:new Ri("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return he(o)?{data:null,error:o}:{data:null,error:new Ri("Unexpected error in register",o)}}}}E$();const W$={url:zL,storageKey:BL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Uw(e,t,r){return await r()}const So={};class dc{get jwks(){var t,r;return(r=(t=So[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){So[this.storageKey]=Object.assign(Object.assign({},So[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=So[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){So[this.storageKey]=Object.assign(Object.assign({},So[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},W$),t);if(this.storageKey=i.storageKey,this.instanceID=(r=dc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,dc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Tt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new j$({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=J1(i.fetch),this.lock=i.lock||Uw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=C$:this.lock=Uw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Z1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$w(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$w(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${G1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Tt()&&(r=n$(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Tt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),QL(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?this._returnResult({error:r}):this._returnResult({error:new Ri("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gr}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await bo(this.storage,this.storageKey)),i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:Gr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gr})}else throw new yu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mw})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mw})}else throw new yu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new wo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:g,wallet:x,statement:v,options:y}=t;let b;if(Tt())if(typeof x=="object")b=x;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")b=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=eC(j[0]);let S=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const E=await b.request({method:"eth_chainId"});S=N$(E)}const N={domain:_.host,address:C,statement:v,uri:_.href,version:"1",chainId:S,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=R$(N),w=await b.request({method:"personal_sign",params:[k$(p),C]})}try{const{data:g,error:x}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Gr});if(x)throw x;if(!g||!g.session||!g.user){const v=new wo;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(he(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,p;let w,g;if("message"in t)w=t.message,g=t.signature;else{const{chain:x,wallet:v,statement:y,options:b}=t;let _;if(Tt())if(typeof v=="object")_=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let S;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")S=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)S=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),g=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:x,error:v}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Oi(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gr});if(v)throw v;if(!x||!x.session||!x.user){const y=new wo;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(he(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await ji(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gr});if(await vs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new wo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await bo(this.storage,this.storageKey));const{error:f}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new yu("You must provide either an email or phone number.")}catch(l){if(he(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await bo(this.storage,this.storageKey));const u=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:w$});return!((i=u.data)===null||i===void 0)&&i.url&&Tt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(he(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kr;const{error:s}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(he(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await we(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await we(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new yu("You must provide either an email or phone number and a type")}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ji(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ah()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=g$(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Es}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kr}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Es})})}catch(r){if(he(r))return GL(r)&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Kr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await bo(this.storage,this.storageKey));const{data:u,error:d}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Es});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(he(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ph(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(he(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kr;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Tt())throw new xu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Rw("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new xu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(he(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(KL(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=r$(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await bo(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Tt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(he(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gr}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new wo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(he(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await o$(async s=>(s>0&&await i$(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Th(i)&&Date.now()+o-n<Ro})}catch(n){if(this._debug(r,"error",n),he(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Tt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ji(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await To(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ah()}else if(s&&!s.user&&!s.user){const o=await ji(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await vs(this.storage,this.storageKey+"-user"),await To(this.storage,this.storageKey,s)):s.user=Ah()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Rh}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Th(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _f;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),he(i)){const o={data:null,error:i};return Th(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await To(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Iw(s);await To(this.storage,this.storageKey,i)}else{const s=Iw(r);await To(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await vs(this.storage,this.storageKey),await vs(this.storage,this.storageKey+"-code-verifier"),await vs(this.storage,this.storageKey+"-user"),this.userStorage&&await vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ro}ms, refresh threshold is ${wp} ticks`),s<=wp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof X1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await bo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await we(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?M$(t.webauthn.credential_response):L$(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:I$(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:D$(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ph(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Kr})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Kr});const o=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Tt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Kr});const o=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Tt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+WL>s)return n;const{data:i,error:o}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ph(n);r!=null&&r.allowExpired||h$(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=m$(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,e$(`${l}.${c}`)))throw new jp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}}dc.nextInstanceID={};const H$=dc;class K$ extends H${constructor(t){super(t)}}class G${constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=UL(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:AL,realtime:IL,auth:Object.assign(Object.assign({},OL),{storageKey:c}),global:PL},d=FL(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=LL(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new zM(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new kL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $M(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K$({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q$=(e,t,r)=>new G$(e,t,r);function Y$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Y$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Z$="https://gttestmmbvkekzqipedn.supabase.co",J$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0dGVzdG1tYnZrZWt6cWlwZWRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NjY4MTEsImV4cCI6MjA3OTI0MjgxMX0.jOzsVa0XOCarxkSobZKp6uTYxOAwskx1hKtvvVcfPvE",F=Q$(Z$,J$,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),rC=m.createContext(void 0),X$=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(null),[i,o]=m.useState(null),[l,c]=m.useState(!0),u=Qt();m.useEffect(()=>{const{data:{subscription:g}}=F.auth.onAuthStateChange((x,v)=>{s(v),r((v==null?void 0:v.user)??null),v!=null&&v.user?setTimeout(()=>{d(v.user.id)},0):(o(null),c(!1))});return F.auth.getSession().then(({data:{session:x}})=>{s(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?d(x.user.id):c(!1)}),()=>g.unsubscribe()},[]);const d=async g=>{try{const{data:x,error:v}=await F.from("user_roles").select("role").eq("user_id",g).single();if(v)throw v;o(x.role)}catch(x){console.error("Error fetching user role:",x)}finally{c(!1)}},f=async(g,x,v,y)=>{try{const b=`${window.location.origin}/`,{data:_,error:j}=await F.auth.signUp({email:g,password:x,options:{emailRedirectTo:b,data:{full_name:v,role:y}}});return j?{error:j}:(V.success("Account created successfully!"),{error:null})}catch(b){return{error:b}}},h=async(g,x)=>{try{const{error:v}=await F.auth.signInWithPassword({email:g,password:x});return v?{error:v}:(V.success("Signed in successfully!"),{error:null})}catch(v){return{error:v}}},p=async()=>{try{const{error:g}=await F.auth.signOut();if(g)throw g;r(null),s(null),o(null),V.success("Signed out successfully!"),u("/")}catch(g){console.error("Error signing out:",g),V.error("Error signing out")}},w=async g=>{try{const{error:x}=await F.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/reset-password`});return x?{error:x}:(V.success("Password reset email sent!"),{error:null})}catch(x){return{error:x}}};return a.jsx(rC.Provider,{value:{user:t,session:n,userRole:i,loading:l,signUp:f,signIn:h,signOut:p,resetPassword:w},children:e})},nt=()=>{const e=m.useContext(rC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},ys=({children:e,allowedRoles:t})=>{const{user:r,userRole:n,loading:s}=nt();return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r?t&&n&&!t.includes(n)?a.jsx(uw,{to:"/",replace:!0}):a.jsx(a.Fragment,{children:e}):a.jsx(uw,{to:"/auth/login",replace:!0})},nC=Rc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-soft",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground hover:opacity-90 shadow-medium font-semibold",accent:"bg-accent text-accent-foreground hover:bg-accent/90 shadow-soft font-semibold"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?BP:"button";return a.jsx(o,{className:te(nC({variant:t,size:r,className:e})),ref:i,...s})});z.displayName="Button";const ke=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ke.displayName="Input";var e4=m.createContext(void 0);function Ga(e){const t=m.useContext(e4);return e||t||"ltr"}var Ih=0;function Rv(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zw()),document.body.insertAdjacentElement("beforeend",e[1]??zw()),Ih++,()=>{Ih===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ih--}},[])}function zw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dh="focusScope.autoFocusOnMount",Mh="focusScope.autoFocusOnUnmount",Bw={bubbles:!1,cancelable:!0},t4="FocusScope",jf=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),u=dt(s),d=dt(i),f=m.useRef(null),h=Se(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:ws(f.current,{select:!0})},x=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ws(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&ws(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){qw.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(Dh,Bw);l.addEventListener(Dh,u),l.dispatchEvent(v),v.defaultPrevented||(r4(a4(sC(l)),{select:!0}),document.activeElement===g&&ws(l))}return()=>{l.removeEventListener(Dh,u),setTimeout(()=>{const v=new CustomEvent(Mh,Bw);l.addEventListener(Mh,d),l.dispatchEvent(v),v.defaultPrevented||ws(g??document.body,{select:!0}),l.removeEventListener(Mh,d),qw.remove(p)},0)}}},[l,u,d,p]);const w=m.useCallback(g=>{if(!r&&!n||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const y=g.currentTarget,[b,_]=n4(y);b&&_?!g.shiftKey&&v===_?(g.preventDefault(),r&&ws(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),r&&ws(_,{select:!0})):v===y&&g.preventDefault()}},[r,n,p.paused]);return a.jsx(le.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});jf.displayName=t4;function r4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ws(n,{select:t}),document.activeElement!==r)return}function n4(e){const t=sC(e),r=Vw(t,e),n=Vw(t.reverse(),e);return[r,n]}function sC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vw(e,t){for(const r of e)if(!s4(r,{upTo:t}))return r}function s4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function i4(e){return e instanceof HTMLInputElement&&"select"in e}function ws(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&i4(e)&&t&&e.select()}}var qw=o4();function o4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ww(e,t),e.unshift(t)},remove(t){var r;e=Ww(e,t),(r=e[0])==null||r.resume()}}}function Ww(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function a4(e){return e.filter(t=>t.tagName!=="A")}var Lh="rovingFocusGroup.onEntryFocus",l4={bubbles:!1,cancelable:!0},Ac="RovingFocusGroup",[Sp,iC,c4]=df(Ac),[u4,Qa]=Gt(Ac,[c4]),[d4,f4]=u4(Ac),oC=m.forwardRef((e,t)=>a.jsx(Sp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Sp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(h4,{...e,ref:t})})}));oC.displayName=Ac;var h4=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Se(t,h),w=Ga(i),[g,x]=is({prop:o,defaultProp:l??null,onChange:c,caller:Ac}),[v,y]=m.useState(!1),b=dt(u),_=iC(r),j=m.useRef(!1),[C,S]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Lh,b),()=>N.removeEventListener(Lh,b)},[b]),a.jsx(d4,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(N=>x(N),[x]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>S(N=>N-1),[]),children:a.jsx(le.div,{tabIndex:v||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{j.current=!0}),onFocus:G(e.onFocus,N=>{const E=!j.current;if(N.target===N.currentTarget&&E&&!v){const P=new CustomEvent(Lh,l4);if(N.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=_().filter(K=>K.focusable),O=M.find(K=>K.active),U=M.find(K=>K.id===g),X=[O,U,...M].filter(Boolean).map(K=>K.ref.current);cC(X,d)}}j.current=!1}),onBlur:G(e.onBlur,()=>y(!1))})})}),aC="RovingFocusGroupItem",lC=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Rn(),u=i||c,d=f4(aC,r),f=d.currentTabStopId===u,h=iC(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),a.jsx(Sp.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:G(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:G(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:G(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=g4(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const _=b.indexOf(x.currentTarget);b=d.loop?v4(b,_+1):b.slice(_+1)}setTimeout(()=>cC(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});lC.displayName=aC;var m4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g4(e,t,r){const n=p4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return m4[n]}function cC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function v4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Tv=oC,Pv=lC,y4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Co=new WeakMap,wu=new WeakMap,bu={},$h=0,uC=function(e){return e&&(e.host||uC(e.parentNode))},x4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=uC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},w4=function(e,t,r,n){var s=x4(t,Array.isArray(e)?e:[e]);bu[r]||(bu[r]=new WeakMap);var i=bu[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),w=p!==null&&p!=="false",g=(Co.get(h)||0)+1,x=(i.get(h)||0)+1;Co.set(h,g),i.set(h,x),o.push(h),g===1&&w&&wu.set(h,!0),x===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),$h++,function(){o.forEach(function(f){var h=Co.get(f)-1,p=i.get(f)-1;Co.set(f,h),i.set(f,p),h||(wu.has(f)||f.removeAttribute(n),wu.delete(f)),p||f.removeAttribute(r)}),$h--,$h||(Co=new WeakMap,Co=new WeakMap,wu=new WeakMap,bu={})}},Av=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=y4(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),w4(n,s,r,"aria-hidden")):function(){return null}},Vu="right-scroll-bar-position",qu="width-before-scroll-bar",b4="with-scroll-bars-hidden",_4="--removed-body-scroll-bar-size";function Fh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function j4(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var S4=typeof window<"u"?m.useLayoutEffect:m.useEffect,Hw=new WeakMap;function C4(e,t){var r=j4(null,function(n){return e.forEach(function(s){return Fh(s,n)})});return S4(function(){var n=Hw.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Fh(l,null)}),i.forEach(function(l){s.has(l)||Fh(l,o)})}Hw.set(r,e)},[e]),r}function E4(e){return e}function N4(e,t){t===void 0&&(t=E4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function k4(e){e===void 0&&(e={});var t=N4(null);return t.options=Or({async:!0,ssr:!1},e),t}var dC=function(e){var t=e.sideCar,r=gi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Or({},r))};dC.isSideCarExport=!0;function R4(e,t){return e.useMedium(t),dC}var fC=k4(),Uh=function(){},Sf=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Uh,onWheelCapture:Uh,onTouchMoveCapture:Uh}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,w=e.noIsolation,g=e.inert,x=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,_=gi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,C=C4([r,t]),S=Or(Or({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:fC,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:b}),o?m.cloneElement(m.Children.only(l),Or(Or({},S),{ref:C})):m.createElement(y,Or({},S,{className:c,ref:C}),l))});Sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sf.classNames={fullWidth:qu,zeroRight:Vu};var T4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=T4();return t&&e.setAttribute("nonce",t),e}function A4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function O4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var I4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=P4())&&(A4(t,r),O4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},D4=function(){var e=I4();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},hC=function(){var e=D4(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},M4={left:0,top:0,right:0,gap:0},zh=function(e){return parseInt(e||"",10)||0},L4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[zh(r),zh(n),zh(s)]},$4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M4;var t=L4(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},F4=hC(),na="data-scroll-locked",U4=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(b4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Vu," .").concat(Vu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(na,`] {
    `).concat(_4,": ").concat(l,`px;
  }
`)},Kw=function(){var e=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(e)?e:0},z4=function(){m.useEffect(function(){return document.body.setAttribute(na,(Kw()+1).toString()),function(){var e=Kw()-1;e<=0?document.body.removeAttribute(na):document.body.setAttribute(na,e.toString())}},[])},B4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;z4();var i=m.useMemo(function(){return $4(s)},[s]);return m.createElement(F4,{styles:U4(i,!t,s,r?"":"!important")})},Cp=!1;if(typeof window<"u")try{var _u=Object.defineProperty({},"passive",{get:function(){return Cp=!0,!0}});window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{Cp=!1}var Eo=Cp?{passive:!1}:!1,V4=function(e){return e.tagName==="TEXTAREA"},mC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!V4(e)&&r[t]==="visible")},q4=function(e){return mC(e,"overflowY")},W4=function(e){return mC(e,"overflowX")},Gw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=pC(e,n);if(s){var i=gC(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},H4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},K4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},pC=function(e,t){return e==="v"?q4(t):W4(t)},gC=function(e,t){return e==="v"?H4(t):K4(t)},G4=function(e,t){return e==="h"&&t==="rtl"?-1:1},Q4=function(e,t,r,n,s){var i=G4(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=gC(e,l),w=p[0],g=p[1],x=p[2],v=g-x-i*w;(w||v)&&pC(e,l)&&(f+=v,h+=w);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},ju=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qw=function(e){return[e.deltaX,e.deltaY]},Yw=function(e){return e&&"current"in e?e.current:e},Y4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Z4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},J4=0,No=[];function X4(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(J4++)[0],i=m.useState(hC)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=wv([e.lockRef.current],(e.shards||[]).map(Yw),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=ju(g),y=r.current,b="deltaX"in g?g.deltaX:y[0]-v[0],_="deltaY"in g?g.deltaY:y[1]-v[1],j,C=g.target,S=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&S==="h"&&C.type==="range")return!1;var N=Gw(S,C);if(!N)return!0;if(N?j=S:(j=S==="v"?"h":"v",N=Gw(S,C)),!N)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=j),!j)return!0;var E=n.current||j;return Q4(E,x,g,E==="h"?b:_,!0)},[]),c=m.useCallback(function(g){var x=g;if(!(!No.length||No[No.length-1]!==i)){var v="deltaY"in x?Qw(x):ju(x),y=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&Y4(j.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(Yw).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=b.length>0?l(x,b[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(g,x,v,y){var b={name:g,delta:x,target:v,should:y,shadowParent:eF(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=m.useCallback(function(g){r.current=ju(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,Qw(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,ju(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return No.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Eo),document.addEventListener("touchmove",c,Eo),document.addEventListener("touchstart",d,Eo),function(){No=No.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Eo),document.removeEventListener("touchmove",c,Eo),document.removeEventListener("touchstart",d,Eo)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:Z4(s)}):null,p?m.createElement(B4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tF=R4(fC,X4);var Cf=m.forwardRef(function(e,t){return m.createElement(Sf,Or({},e,{ref:t,sideCar:tF}))});Cf.classNames=Sf.classNames;var Ep=["Enter"," "],rF=["ArrowDown","PageUp","Home"],vC=["ArrowUp","PageDown","End"],nF=[...rF,...vC],sF={ltr:[...Ep,"ArrowRight"],rtl:[...Ep,"ArrowLeft"]},iF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Oc="Menu",[fc,oF,aF]=df(Oc),[go,yC]=Gt(Oc,[aF,Ba,Qa]),Ef=Ba(),xC=Qa(),[lF,vo]=go(Oc),[cF,Ic]=go(Oc),wC=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Ef(t),[c,u]=m.useState(null),d=m.useRef(!1),f=dt(i),h=Ga(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(_S,{...l,children:a.jsx(lF,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(cF,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};wC.displayName=Oc;var uF="MenuAnchor",Ov=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ef(r);return a.jsx(ov,{...s,...n,ref:t})});Ov.displayName=uF;var Iv="MenuPortal",[dF,bC]=go(Iv,{forceMount:void 0}),_C=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=vo(Iv,t);return a.jsx(dF,{scope:t,forceMount:r,children:a.jsx(Mt,{present:r||i.open,children:a.jsx(Nc,{asChild:!0,container:s,children:n})})})};_C.displayName=Iv;var Mr="MenuContent",[fF,Dv]=go(Mr),jC=m.forwardRef((e,t)=>{const r=bC(Mr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=vo(Mr,e.__scopeMenu),o=Ic(Mr,e.__scopeMenu);return a.jsx(fc.Provider,{scope:e.__scopeMenu,children:a.jsx(Mt,{present:n||i.open,children:a.jsx(fc.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(hF,{...s,ref:t}):a.jsx(mF,{...s,ref:t})})})})}),hF=m.forwardRef((e,t)=>{const r=vo(Mr,e.__scopeMenu),n=m.useRef(null),s=Se(t,n);return m.useEffect(()=>{const i=n.current;if(i)return Av(i)},[]),a.jsx(Mv,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),mF=m.forwardRef((e,t)=>{const r=vo(Mr,e.__scopeMenu);return a.jsx(Mv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),pF=Ji("MenuContent.ScrollLock"),Mv=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:w,...g}=e,x=vo(Mr,r),v=Ic(Mr,r),y=Ef(r),b=xC(r),_=oF(r),[j,C]=m.useState(null),S=m.useRef(null),N=Se(t,S,x.onContentChange),E=m.useRef(0),P=m.useRef(""),M=m.useRef(0),O=m.useRef(null),U=m.useRef("right"),$=m.useRef(0),X=w?Cf:m.Fragment,K=w?{as:pF,allowPinchZoom:!0}:void 0,se=T=>{var Q,Te;const D=P.current+T,W=_().filter(Ae=>!Ae.disabled),Z=document.activeElement,me=(Q=W.find(Ae=>Ae.ref.current===Z))==null?void 0:Q.textValue,pe=W.map(Ae=>Ae.textValue),$e=NF(pe,D,me),Fe=(Te=W.find(Ae=>Ae.textValue===$e))==null?void 0:Te.ref.current;(function Ae(Ne){P.current=Ne,window.clearTimeout(E.current),Ne!==""&&(E.current=window.setTimeout(()=>Ae(""),1e3))})(D),Fe&&setTimeout(()=>Fe.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),Rv();const I=m.useCallback(T=>{var W,Z;return U.current===((W=O.current)==null?void 0:W.side)&&RF(T,(Z=O.current)==null?void 0:Z.area)},[]);return a.jsx(fF,{scope:r,searchRef:P,onItemEnter:m.useCallback(T=>{I(T)&&T.preventDefault()},[I]),onItemLeave:m.useCallback(T=>{var D;I(T)||((D=S.current)==null||D.focus(),C(null))},[I]),onTriggerLeave:m.useCallback(T=>{I(T)&&T.preventDefault()},[I]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(T=>{O.current=T},[]),children:a.jsx(X,{...K,children:a.jsx(jf,{asChild:!0,trapped:s,onMountAutoFocus:G(i,T=>{var D;T.preventDefault(),(D=S.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx($a,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(Tv,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:C,onEntryFocus:G(c,T=>{v.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(av,{role:"menu","aria-orientation":"vertical","data-state":FC(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:G(g.onKeyDown,T=>{const W=T.target.closest("[data-radix-menu-content]")===T.currentTarget,Z=T.ctrlKey||T.altKey||T.metaKey,me=T.key.length===1;W&&(T.key==="Tab"&&T.preventDefault(),!Z&&me&&se(T.key));const pe=S.current;if(T.target!==pe||!nF.includes(T.key))return;T.preventDefault();const Fe=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);vC.includes(T.key)&&Fe.reverse(),CF(Fe)}),onBlur:G(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:G(e.onPointerMove,hc(T=>{const D=T.target,W=$.current!==T.clientX;if(T.currentTarget.contains(D)&&W){const Z=T.clientX>$.current?"right":"left";U.current=Z,$.current=T.clientX}}))})})})})})})});jC.displayName=Mr;var gF="MenuGroup",Lv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(le.div,{role:"group",...n,ref:t})});Lv.displayName=gF;var vF="MenuLabel",SC=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(le.div,{...n,ref:t})});SC.displayName=vF;var Rd="MenuItem",Zw="menu.itemSelect",Nf=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=Ic(Rd,e.__scopeMenu),l=Dv(Rd,e.__scopeMenu),c=Se(t,i),u=m.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(Zw,{bubbles:!0,cancelable:!0});f.addEventListener(Zw,p=>n==null?void 0:n(p),{once:!0}),Fg(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(CC,{...s,ref:c,disabled:r,onClick:G(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:G(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:G(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Ep.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Nf.displayName=Rd;var CC=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=Dv(Rd,r),l=xC(r),c=m.useRef(null),u=Se(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),a.jsx(fc.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(Pv,{asChild:!0,...l,focusable:!n,children:a.jsx(le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:G(e.onPointerMove,hc(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:G(e.onPointerLeave,hc(w=>o.onItemLeave(w))),onFocus:G(e.onFocus,()=>f(!0)),onBlur:G(e.onBlur,()=>f(!1))})})})}),yF="MenuCheckboxItem",EC=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(PC,{scope:e.__scopeMenu,checked:r,children:a.jsx(Nf,{role:"menuitemcheckbox","aria-checked":Td(r)?"mixed":r,...s,ref:t,"data-state":Fv(r),onSelect:G(s.onSelect,()=>n==null?void 0:n(Td(r)?!0:!r),{checkForDefaultPrevented:!1})})})});EC.displayName=yF;var NC="MenuRadioGroup",[xF,wF]=go(NC,{value:void 0,onValueChange:()=>{}}),kC=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=dt(n);return a.jsx(xF,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(Lv,{...s,ref:t})})});kC.displayName=NC;var RC="MenuRadioItem",TC=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=wF(RC,e.__scopeMenu),i=r===s.value;return a.jsx(PC,{scope:e.__scopeMenu,checked:i,children:a.jsx(Nf,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Fv(i),onSelect:G(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});TC.displayName=RC;var $v="MenuItemIndicator",[PC,bF]=go($v,{checked:!1}),AC=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=bF($v,r);return a.jsx(Mt,{present:n||Td(i.checked)||i.checked===!0,children:a.jsx(le.span,{...s,ref:t,"data-state":Fv(i.checked)})})});AC.displayName=$v;var _F="MenuSeparator",OC=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});OC.displayName=_F;var jF="MenuArrow",IC=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ef(r);return a.jsx(lv,{...s,...n,ref:t})});IC.displayName=jF;var SF="MenuSub",[hV,DC]=go(SF),vl="MenuSubTrigger",MC=m.forwardRef((e,t)=>{const r=vo(vl,e.__scopeMenu),n=Ic(vl,e.__scopeMenu),s=DC(vl,e.__scopeMenu),i=Dv(vl,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Ov,{asChild:!0,...u,children:a.jsx(CC,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":FC(r.open),...e,ref:uf(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:G(e.onPointerMove,hc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:G(e.onPointerLeave,hc(f=>{var p,w;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(w=r.content)==null?void 0:w.dataset.side,x=g==="right",v=x?-5:5,y=h[x?"left":"right"],b=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:G(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||sF[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});MC.displayName=vl;var LC="MenuSubContent",$C=m.forwardRef((e,t)=>{const r=bC(Mr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=vo(Mr,e.__scopeMenu),o=Ic(Mr,e.__scopeMenu),l=DC(LC,e.__scopeMenu),c=m.useRef(null),u=Se(t,c);return a.jsx(fc.Provider,{scope:e.__scopeMenu,children:a.jsx(Mt,{present:n||i.open,children:a.jsx(fc.Slot,{scope:e.__scopeMenu,children:a.jsx(Mv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:G(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:G(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:G(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=iF[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});$C.displayName=LC;function FC(e){return e?"open":"closed"}function Td(e){return e==="indeterminate"}function Fv(e){return Td(e)?"indeterminate":e?"checked":"unchecked"}function CF(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function EF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function NF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=EF(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function kF(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function RF(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return kF(r,t)}function hc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var TF=wC,PF=Ov,AF=_C,OF=jC,IF=Lv,DF=SC,MF=Nf,LF=EC,$F=kC,FF=TC,UF=AC,zF=OC,BF=IC,VF=MC,qF=$C,kf="DropdownMenu",[WF,mV]=Gt(kf,[yC]),or=yC(),[HF,UC]=WF(kf),zC=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=or(t),u=m.useRef(null),[d,f]=is({prop:s,defaultProp:i??!1,onChange:o,caller:kf});return a.jsx(HF,{scope:t,triggerId:Rn(),triggerRef:u,contentId:Rn(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(TF,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};zC.displayName=kf;var BC="DropdownMenuTrigger",VC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=UC(BC,r),o=or(r);return a.jsx(PF,{asChild:!0,...o,children:a.jsx(le.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:uf(t,i.triggerRef),onPointerDown:G(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:G(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});VC.displayName=BC;var KF="DropdownMenuPortal",qC=e=>{const{__scopeDropdownMenu:t,...r}=e,n=or(t);return a.jsx(AF,{...n,...r})};qC.displayName=KF;var WC="DropdownMenuContent",HC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=UC(WC,r),i=or(r),o=m.useRef(!1);return a.jsx(OF,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:G(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:G(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HC.displayName=WC;var GF="DropdownMenuGroup",QF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(IF,{...s,...n,ref:t})});QF.displayName=GF;var YF="DropdownMenuLabel",KC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(DF,{...s,...n,ref:t})});KC.displayName=YF;var ZF="DropdownMenuItem",GC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(MF,{...s,...n,ref:t})});GC.displayName=ZF;var JF="DropdownMenuCheckboxItem",QC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(LF,{...s,...n,ref:t})});QC.displayName=JF;var XF="DropdownMenuRadioGroup",eU=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx($F,{...s,...n,ref:t})});eU.displayName=XF;var tU="DropdownMenuRadioItem",YC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(FF,{...s,...n,ref:t})});YC.displayName=tU;var rU="DropdownMenuItemIndicator",ZC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(UF,{...s,...n,ref:t})});ZC.displayName=rU;var nU="DropdownMenuSeparator",JC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(zF,{...s,...n,ref:t})});JC.displayName=nU;var sU="DropdownMenuArrow",iU=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(BF,{...s,...n,ref:t})});iU.displayName=sU;var oU="DropdownMenuSubTrigger",XC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(VF,{...s,...n,ref:t})});XC.displayName=oU;var aU="DropdownMenuSubContent",eE=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=or(r);return a.jsx(qF,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eE.displayName=aU;var lU=zC,cU=VC,uU=qC,tE=HC,rE=KC,nE=GC,sE=QC,iE=YC,oE=ZC,aE=JC,lE=XC,cE=eE;const uE=lU,dE=cU,dU=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(lE,{ref:s,className:te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Fj,{className:"ml-auto h-4 w-4"})]}));dU.displayName=lE.displayName;const fU=m.forwardRef(({className:e,...t},r)=>a.jsx(cE,{ref:r,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));fU.displayName=cE.displayName;const Uv=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(uU,{children:a.jsx(tE,{ref:n,sideOffset:t,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Uv.displayName=tE.displayName;const Dl=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(nE,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Dl.displayName=nE.displayName;const hU=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(sE,{ref:s,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(oE,{children:a.jsx(mf,{className:"h-4 w-4"})})}),t]}));hU.displayName=sE.displayName;const mU=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(iE,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(oE,{children:a.jsx(zj,{className:"h-2 w-2 fill-current"})})}),t]}));mU.displayName=iE.displayName;const fE=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(rE,{ref:n,className:te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));fE.displayName=rE.displayName;const Np=m.forwardRef(({className:e,...t},r)=>a.jsx(aE,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));Np.displayName=aE.displayName;const pU=()=>{const{user:e}=nt(),t=cs(),{data:r=[],isLoading:n}=Wt({queryKey:["notifications",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:c,error:u}=await F.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(u)throw u;return c},enabled:!!(e!=null&&e.id)}),s=r.filter(c=>!c.is_read).length;m.useEffect(()=>{if(!(e!=null&&e.id))return;const c=F.channel(`notifications-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},()=>{t.invalidateQueries({queryKey:["notifications"]})}).subscribe();return()=>{F.removeChannel(c)}},[e==null?void 0:e.id,t]);const i=Ht({mutationFn:async c=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:u}=await F.from("notifications").update({is_read:!0}).eq("id",c).eq("user_id",e.id);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]})}}),o=Ht({mutationFn:async()=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:c}=await F.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if(c)throw c},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),V.success("All notifications marked as read")}}),l=Ht({mutationFn:async c=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:u}=await F.from("notifications").delete().eq("id",c).eq("user_id",e.id);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]}),V.success("Notification deleted")}});return{notifications:r,unreadCount:s,isLoading:n,markAsRead:i.mutate,markAllAsRead:o.mutate,deleteNotification:l.mutate}},gU=Rc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kt({className:e,variant:t,...r}){return a.jsx("div",{className:te(gU({variant:t}),e),...r})}function At(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function vU(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Su=43200,Jw=1440;let yU={};function xU(){return yU}function Xw(e){const t=At(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Wu(e,t){const r=At(e),n=At(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function wU(e){return vU(e,Date.now())}function bU(e,t){const r=At(e),n=At(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function _U(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function jU(e,t){return+At(e)-+At(t)}function SU(e){const t=At(e);return t.setHours(23,59,59,999),t}function CU(e){const t=At(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function EU(e){const t=At(e);return+SU(t)==+CU(t)}function NU(e,t){const r=At(e),n=At(t),s=Wu(r,n),i=Math.abs(bU(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Wu(r,n)===-s;EU(At(e))&&i===1&&Wu(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function kU(e,t,r){const n=jU(e,t)/1e3;return _U(r==null?void 0:r.roundingMethod)(n)}const RU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TU=(e,t,r)=>{let n;const s=RU[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Bh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const PU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IU={date:Bh({formats:PU,defaultWidth:"full"}),time:Bh({formats:AU,defaultWidth:"full"}),dateTime:Bh({formats:OU,defaultWidth:"full"})},DU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MU=(e,t,r,n)=>DU[e];function al(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const LU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$U={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qU={ordinalNumber:VU,era:al({values:LU,defaultWidth:"wide"}),quarter:al({values:$U,defaultWidth:"wide",argumentCallback:e=>e-1}),month:al({values:FU,defaultWidth:"wide"}),day:al({values:UU,defaultWidth:"wide"}),dayPeriod:al({values:zU,defaultWidth:"wide",formattingValues:BU,defaultFormattingWidth:"wide"})};function ll(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?HU(l,f=>f.test(o)):WU(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function WU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function HU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function KU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const GU=/^(\d+)(th|st|nd|rd)?/i,QU=/\d+/i,YU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZU={any:[/^b/i,/^(a|c)/i]},JU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XU={any:[/1/i,/2/i,/3/i,/4/i]},e5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},r5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},n5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},s5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o5={ordinalNumber:KU({matchPattern:GU,parsePattern:QU,valueCallback:e=>parseInt(e,10)}),era:ll({matchPatterns:YU,defaultMatchWidth:"wide",parsePatterns:ZU,defaultParseWidth:"any"}),quarter:ll({matchPatterns:JU,defaultMatchWidth:"wide",parsePatterns:XU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ll({matchPatterns:e5,defaultMatchWidth:"wide",parsePatterns:t5,defaultParseWidth:"any"}),day:ll({matchPatterns:r5,defaultMatchWidth:"wide",parsePatterns:n5,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:s5,defaultMatchWidth:"any",parsePatterns:i5,defaultParseWidth:"any"})},a5={code:"en-US",formatDistance:TU,formatLong:IU,formatRelative:MU,localize:qU,match:o5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function l5(e,t,r){const n=xU(),s=(r==null?void 0:r.locale)??n.locale??a5,i=2520,o=Wu(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=At(t),u=At(e)):(c=At(e),u=At(t));const d=kU(u,c),f=(Xw(u)-Xw(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Jw){const w=Math.round(h/60);return s.formatDistance("aboutXHours",w,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<Su){const w=Math.round(h/Jw);return s.formatDistance("xDays",w,l)}else if(h<Su*2)return p=Math.round(h/Su),s.formatDistance("aboutXMonths",p,l)}if(p=NU(u,c),p<12){const w=Math.round(h/Su);return s.formatDistance("xMonths",w,l)}else{const w=p%12,g=Math.trunc(p/12);return w<3?s.formatDistance("aboutXYears",g,l):w<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function kp(e,t){return l5(e,wU(e),t)}function Rp(e,[t,r]){return Math.min(r,Math.max(t,e))}function c5(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var zv="ScrollArea",[hE,pV]=Gt(zv),[u5,Ur]=hE(zv),mE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,w]=m.useState(null),[g,x]=m.useState(null),[v,y]=m.useState(0),[b,_]=m.useState(0),[j,C]=m.useState(!1),[S,N]=m.useState(!1),E=Se(t,M=>c(M)),P=Ga(s);return a.jsx(u5,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:j,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:S,onScrollbarYEnabledChange:N,onCornerWidthChange:y,onCornerHeightChange:_,children:a.jsx(le.div,{dir:P,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});mE.displayName=zv;var pE="ScrollAreaViewport",gE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Ur(pE,r),l=m.useRef(null),c=Se(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(le.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});gE.displayName=pE;var In="ScrollAreaScrollbar",Bv=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ur(In,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(d5,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(f5,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(vE,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(Vv,{...n,ref:t}):null});Bv.displayName=In;var d5=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ur(In,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Mt,{present:r||i,children:a.jsx(vE,{"data-state":i?"visible":"hidden",...n,ref:t})})}),f5=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ur(In,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Tf(()=>c("SCROLL_END"),100),[l,c]=c5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Mt,{present:r||l!=="hidden",children:a.jsx(Vv,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:G(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:G(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vE=m.forwardRef((e,t)=>{const r=Ur(In,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=Tf(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return ka(r.viewport,c),ka(r.content,c),a.jsx(Mt,{present:n||i,children:a.jsx(Vv,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Vv=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ur(In,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_E(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return y5(h,o.current,l,p)}return r==="horizontal"?a.jsx(h5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=e0(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(m5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=e0(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),h5=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ur(In,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Se(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(xE,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),SE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ad(o.paddingLeft),paddingEnd:Ad(o.paddingRight)}})}})}),m5=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Ur(In,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Se(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(xE,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),SE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ad(o.paddingTop),paddingEnd:Ad(o.paddingBottom)}})}})}),[p5,yE]=hE(In),xE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Ur(In,r),[w,g]=m.useState(null),x=Se(t,E=>g(E)),v=m.useRef(null),y=m.useRef(""),b=p.viewport,_=n.content-n.viewport,j=dt(d),C=dt(c),S=Tf(f,10);function N(E){if(v.current){const P=E.clientX-v.current.left,M=E.clientY-v.current.top;u({x:P,y:M})}}return m.useEffect(()=>{const E=P=>{const M=P.target;(w==null?void 0:w.contains(M))&&j(P,_)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,w,_,j]),m.useEffect(C,[n,C]),ka(w,S),ka(p.content,S),a.jsx(p5,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:dt(i),onThumbPointerUp:dt(o),onThumbPositionChange:C,onThumbPointerDown:dt(l),children:a.jsx(le.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:G(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),v.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(E))}),onPointerMove:G(e.onPointerMove,N),onPointerUp:G(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),Pd="ScrollAreaThumb",wE=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yE(Pd,e.__scopeScrollArea);return a.jsx(Mt,{present:r||s.hasThumb,children:a.jsx(g5,{ref:t,...n})})}),g5=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Ur(Pd,r),o=yE(Pd,r),{onThumbPositionChange:l}=o,c=Se(t,f=>o.onThumbChange(f)),u=m.useRef(void 0),d=Tf(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=x5(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(le.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:G(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:w,y:g})}),onPointerUp:G(e.onPointerUp,o.onThumbPointerUp)})});wE.displayName=Pd;var qv="ScrollAreaCorner",bE=m.forwardRef((e,t)=>{const r=Ur(qv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(v5,{...e,ref:t}):null});bE.displayName=qv;var v5=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ur(qv,r),[i,o]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return ka(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),ka(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(le.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ad(e){return e?parseInt(e,10):0}function _E(e,t){const r=e/t;return isNaN(r)?0:r}function Rf(e){const t=_E(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function y5(e,t,r,n="ltr"){const s=Rf(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return jE([c,u],f)(e)}function e0(e,t,r="ltr"){const n=Rf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Rp(e,c);return jE([0,o],[0,l])(u)}function jE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function SE(e,t){return e>0&&e<t}var x5=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Tf(e,t){const r=dt(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ka(e,t){const r=dt(t);pt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var CE=mE,w5=gE,b5=bE;const Od=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(CE,{ref:n,className:te("relative overflow-hidden",e),...r,children:[a.jsx(w5,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(EE,{}),a.jsx(b5,{})]}));Od.displayName=CE.displayName;const EE=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(Bv,{ref:n,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(wE,{className:"relative flex-1 rounded-full bg-border"})}));EE.displayName=Bv.displayName;const _5=()=>{const{notifications:e,unreadCount:t,markAsRead:r,markAllAsRead:n}=pU(),s=Qt(),i=o=>{r(o.id),o.link&&s(o.link)};return a.jsxs(uE,{children:[a.jsx(dE,{asChild:!0,children:a.jsxs(z,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(DA,{className:"h-5 w-5"}),t>0&&a.jsx(kt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:t>9?"9+":t})]})}),a.jsxs(Uv,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[a.jsx("h3",{className:"font-semibold",children:"Notifications"}),t>0&&a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(),children:"Mark all read"})]}),a.jsx(Od,{className:"h-96",children:e.length===0?a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):e.map(o=>a.jsx(Dl,{className:`flex flex-col items-start p-3 cursor-pointer ${o.is_read?"":"bg-accent/50"}`,onClick:()=>i(o),children:a.jsxs("div",{className:"flex items-start justify-between w-full",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:o.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:kp(new Date(o.created_at),{addSuffix:!0})})]}),!o.is_read&&a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-2 mt-1"})]})},o.id))})]})]})},dn=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(""),{user:s,userRole:i,signOut:o}=nt(),l=Qt(),c=()=>i==="admin"?"/dashboard/admin":i==="instructor"?"/dashboard/instructor":i==="student"?"/dashboard/student":"/";return m.useEffect(()=>{s!=null&&s.id?F.from("profiles").select("full_name").eq("id",s.id).single().then(({data:u})=>{u!=null&&u.full_name&&n(u.full_name)}):n("")},[s==null?void 0:s.id]),a.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsxs(Le,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-primary",children:a.jsx(kn,{className:"h-6 w-6 text-primary-foreground"})}),a.jsx("span",{className:"text-xl font-bold",children:"LearnHub"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[a.jsx(Le,{to:"/courses",className:"text-sm font-medium hover:text-primary transition-colors",children:"Courses"}),s&&a.jsx(Le,{to:c(),className:"text-sm font-medium hover:text-primary transition-colors",children:"Dashboard"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[s?a.jsxs(a.Fragment,{children:[a.jsx(_5,{}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>l("/messages"),className:"hidden md:flex",children:a.jsx(rc,{className:"h-5 w-5"})}),a.jsxs(uE,{children:[a.jsx(dE,{asChild:!0,children:a.jsxs(z,{variant:"ghost",className:"gap-2",children:[a.jsx(Gg,{className:"h-5 w-5"}),r&&a.jsx("span",{className:"hidden md:inline",children:r})]})}),a.jsxs(Uv,{align:"end",children:[a.jsx(fE,{children:r||"My Account"}),a.jsx(Np,{}),a.jsx(Dl,{onClick:()=>l(c()),children:"Dashboard"}),a.jsxs(Dl,{onClick:()=>l("/messages"),children:[a.jsx(rc,{className:"h-4 w-4 mr-2"}),"Messages"]}),a.jsx(Np,{}),a.jsxs(Dl,{onClick:o,children:[a.jsx(GA,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Le,{to:"/auth/login",children:a.jsx(z,{variant:"ghost",className:"hidden md:flex",children:"Login"})}),a.jsx(Le,{to:"/auth/register",children:a.jsx(z,{variant:"hero",children:"Get Started"})})]}),a.jsx(z,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>t(!e),children:a.jsx(QA,{className:"h-5 w-5"})})]})]}),e&&a.jsx("div",{className:"md:hidden border-t bg-background p-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(Le,{to:"/courses",className:"text-sm font-medium hover:text-primary transition-colors",onClick:()=>t(!1),children:"Courses"}),s&&a.jsxs(a.Fragment,{children:[a.jsx(Le,{to:c(),className:"text-sm font-medium hover:text-primary transition-colors",onClick:()=>t(!1),children:"Dashboard"}),a.jsx(Le,{to:"/messages",className:"text-sm font-medium hover:text-primary transition-colors",onClick:()=>t(!1),children:"Messages"})]}),s?a.jsx(z,{onClick:()=>{o(),t(!1)},className:"w-full",children:"Sign Out"}):a.jsxs(a.Fragment,{children:[a.jsx(Le,{to:"/auth/login",className:"w-full",onClick:()=>t(!1),children:a.jsx(z,{variant:"ghost",className:"w-full",children:"Login"})}),a.jsx(Le,{to:"/auth/register",className:"w-full",onClick:()=>t(!1),children:a.jsx(z,{variant:"hero",className:"w-full",children:"Get Started"})})]})]})})]})},Dn=()=>a.jsx("footer",{className:"bg-secondary/20 border-t border-border mt-auto",children:a.jsx("div",{className:"container mx-auto px-4 py-4 text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," LearnHub. All rights reserved."]})})}),ve=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ve.displayName="Card";const Ve=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("flex flex-col space-y-1.5 p-6",e),...t}));Ve.displayName="CardHeader";const qe=m.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const rn=m.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:te("text-sm text-muted-foreground",e),...t}));rn.displayName="CardDescription";const ye=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("p-6 pt-0",e),...t}));ye.displayName="CardContent";const NE=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("flex items-center p-6 pt-0",e),...t}));NE.displayName="CardFooter";const Wv=()=>{const{user:e}=nt(),t=cs(),{data:r=[],isLoading:n}=Wt({queryKey:["wishlist",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:c,error:u}=await F.from("wishlists").select("course_id").eq("student_id",e.id);if(u)throw u;return c.map(d=>d.course_id)},enabled:!!(e!=null&&e.id)}),s=Ht({mutationFn:async c=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:u}=await F.from("wishlists").insert({student_id:e.id,course_id:c});if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["wishlist"]}),V.success("Added to wishlist")},onError:()=>{V.error("Failed to add to wishlist")}}),i=Ht({mutationFn:async c=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:u}=await F.from("wishlists").delete().eq("student_id",e.id).eq("course_id",c);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["wishlist"]}),V.success("Removed from wishlist")},onError:()=>{V.error("Failed to remove from wishlist")}}),o=c=>r.includes(c);return{wishlistItems:r,isLoading:n,isInWishlist:o,toggleWishlist:c=>{if(!(e!=null&&e.id)){V.error("Please sign in to add to wishlist");return}o(c)?i.mutate(c):s.mutate(c)},addToWishlist:s.mutate,removeFromWishlist:i.mutate}},Id=({id:e,title:t,instructor:r,duration:n,students:s,rating:i,price:o,image:l,category:c,level:u})=>{const{isInWishlist:d,toggleWishlist:f}=Wv(),h=d(e);return a.jsxs(ve,{className:"group overflow-hidden transition-all hover:shadow-medium",children:[a.jsxs("div",{className:"relative overflow-hidden aspect-video bg-muted",children:[a.jsx("img",{src:l,alt:t,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),a.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[a.jsx(kt,{variant:"secondary",children:c}),a.jsx(kt,{variant:"outline",children:u})]}),a.jsx("button",{onClick:p=>{p.preventDefault(),f(e)},className:"absolute top-4 right-4 p-2 rounded-full bg-background/80 backdrop-blur-sm hover:bg-background transition-all","aria-label":h?"Remove from wishlist":"Add to wishlist",children:a.jsx(qg,{className:`h-5 w-5 transition-all ${h?"fill-destructive text-destructive":"text-muted-foreground"}`})})]}),a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsx("h3",{className:"font-semibold text-lg line-clamp-2 group-hover:text-primary transition-colors",children:t}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",r]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Xi,{className:"h-4 w-4"}),a.jsx("span",{children:n})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nc,{className:"h-4 w-4"}),a.jsx("span",{children:s.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ho,{className:"h-4 w-4 fill-accent text-accent"}),a.jsx("span",{className:"font-medium text-foreground",children:i})]})]})]}),a.jsxs(NE,{className:"p-4 pt-0 flex items-center justify-between",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:o}),a.jsx(Le,{to:`/courses/${e}`,children:a.jsx(z,{variant:"hero",children:"View Course"})})]})]})},j5=(e,t,r,n=1,s=9)=>Wt({queryKey:["courses",e,t,r,n],queryFn:async()=>{let i=F.from("courses").select(`
          *,
          instructor_profile:profiles!courses_instructor_id_fkey(full_name),
          category:categories!courses_category_id_fkey(name),
          enrollments(id),
          reviews(rating)
        `,{count:"exact"}).eq("status","approved").order("created_at",{ascending:!1});e&&e.trim()&&(i=i.or(`title.ilike.%${e}%,description.ilike.%${e}%`)),t&&t!=="all"&&(i=i.eq("category_id",t)),r&&r!=="all"&&["beginner","intermediate","advanced"].includes(r)&&(i=i.eq("level",r));const o=(n-1)*s,l=o+s-1;i=i.range(o,l);const{data:c,error:u,count:d}=await i;if(u)throw u;return{courses:c||[],totalCount:d||0,totalPages:Math.ceil((d||0)/s)}}}),S5=(e=6)=>Wt({queryKey:["featured-courses",e],queryFn:async()=>{const{data:t,error:r}=await F.from("courses").select(`
          *,
          instructor_profile:profiles!courses_instructor_id_fkey(full_name),
          category:categories!courses_category_id_fkey(name),
          enrollments(id),
          reviews(rating)
        `).eq("status","approved").order("created_at",{ascending:!1}).limit(e);if(r)throw r;return t||[]}}),C5=e=>Wt({queryKey:["recommended-courses",e],queryFn:async()=>{if(!e)return[];const{data:t}=await F.from("enrollments").select("course_id").eq("student_id",e),r=(t==null?void 0:t.map(l=>l.course_id))||[];if(r.length===0){const{data:l,error:c}=await F.from("courses").select(`
            *,
            instructor_profile:profiles!courses_instructor_id_fkey(full_name),
            category:categories!courses_category_id_fkey(name),
            enrollments(id),
            reviews(rating)
          `).eq("status","approved").order("created_at",{ascending:!1}).limit(6);if(c)throw c;return l||[]}const{data:n}=await F.from("courses").select("category_id").in("id",r),s=[...new Set((n==null?void 0:n.map(l=>l.category_id).filter(Boolean))||[])],{data:i,error:o}=await F.from("courses").select(`
          *,
          instructor_profile:profiles!courses_instructor_id_fkey(full_name),
          category:categories!courses_category_id_fkey(name),
          enrollments(id),
          reviews(rating)
        `).eq("status","approved").in("category_id",s).not("id","in",`(${r.join(",")})`).order("created_at",{ascending:!1}).limit(6);if(o)throw o;return i||[]},enabled:!!e}),kE=()=>Wt({queryKey:["categories"],queryFn:async()=>{const{data:e,error:t}=await F.from("categories").select("*").order("name");if(t)throw t;return e||[]}}),E5=()=>Wt({queryKey:["categories-with-counts"],queryFn:async()=>{const{data:e,error:t}=await F.from("categories").select("*").order("name");if(t)throw t;const r=e||[];return await Promise.all(r.map(async s=>{const{count:i}=await F.from("courses").select("*",{count:"exact",head:!0}).eq("category_id",s.id).eq("status","approved");return{...s,courseCount:i||0}}))}}),N5=()=>{const[e,t]=m.useState(""),r=Qt(),{data:n=[]}=S5(6),{data:s=[]}=E5(),i=o=>{o.preventDefault(),e.trim()?r(`/courses?search=${encodeURIComponent(e)}`):r("/courses")};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsxs("section",{className:"relative py-20 md:py-32 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-hero opacity-90"}),a.jsx("div",{className:"container relative z-10",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center text-primary-foreground",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 animate-in fade-in slide-in-from-bottom-4 duration-1000",children:"Learn Without Limits"}),a.jsx("p",{className:"text-lg md:text-xl mb-8 opacity-90 animate-in fade-in slide-in-from-bottom-4 duration-1000 delay-150",children:"Master new skills with expert instructors. Start your learning journey today with thousands of courses."}),a.jsxs("form",{onSubmit:i,className:"flex flex-col sm:flex-row gap-4 max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-1000 delay-300",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Hg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(ke,{placeholder:"Search for courses...",value:e,onChange:o=>t(o.target.value),className:"pl-10 h-12 bg-background"})]}),a.jsx(z,{type:"submit",variant:"accent",size:"lg",className:"h-12 px-8",children:"Explore Courses"})]})]})})]}),a.jsx("section",{className:"py-16 bg-muted/50",children:a.jsxs("div",{className:"container",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Popular Categories"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.slice(0,4).map(o=>{const l=o.courseCount||0;return a.jsx(Le,{to:`/courses?category=${o.id}`,className:"group",children:a.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-soft hover:shadow-medium transition-all",children:[a.jsx("h3",{className:"font-semibold text-xl mb-2 group-hover:text-primary transition-colors",children:o.name}),a.jsxs("p",{className:"text-muted-foreground",children:[l," courses"]})]})},o.id)})})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"flex items-center justify-between mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Featured Courses"}),a.jsx(Le,{to:"/courses",children:a.jsx(z,{variant:"ghost",children:"View All "})})]}),n.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(o=>{var l,c,u;return a.jsx(Id,{id:o.id,title:o.title,instructor:((l=o.instructor_profile)==null?void 0:l.full_name)||"Unknown Instructor",duration:`${o.duration_hours||0}h`,students:((c=o.enrollments)==null?void 0:c.length)||0,rating:o.reviews&&o.reviews.length>0?parseFloat((o.reviews.reduce((d,f)=>d+f.rating,0)/o.reviews.length).toFixed(1)):5,price:o.price>0?`$${o.price}`:"Free",image:o.thumbnail_url||"/placeholder.svg",category:((u=o.category)==null?void 0:u.name)||"Uncategorized",level:o.level},o.id)})}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No courses available yet. Check back soon!"})})]})}),a.jsx("section",{className:"py-16",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"bg-gradient-primary rounded-2xl p-8 md:p-12 text-center text-primary-foreground shadow-strong",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Learning?"}),a.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Join thousands of students already learning on LearnHub. Start your journey today!"}),a.jsx(Le,{to:"/auth/register",children:a.jsx(z,{variant:"accent",size:"lg",className:"px-8",children:"Get Started Now"})})]})})}),a.jsx(Dn,{})]})};function Hv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var k5=[" ","Enter","ArrowUp","ArrowDown"],R5=[" ","Enter"],so="Select",[Pf,Af,T5]=df(so),[Ya,gV]=Gt(so,[T5,Ba]),Of=Ba(),[P5,yi]=Ya(so),[A5,O5]=Ya(so),RE=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:w}=e,g=Of(t),[x,v]=m.useState(null),[y,b]=m.useState(null),[_,j]=m.useState(!1),C=Ga(u),[S,N]=is({prop:n,defaultProp:s??!1,onChange:i,caller:so}),[E,P]=is({prop:o,defaultProp:l,onChange:c,caller:so}),M=m.useRef(null),O=x?w||!!x.closest("form"):!0,[U,$]=m.useState(new Set),X=Array.from(U).map(K=>K.props.value).join(";");return a.jsx(_S,{...g,children:a.jsxs(P5,{required:p,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Rn(),value:E,onValueChange:P,open:S,onOpenChange:N,dir:C,triggerPointerDownPosRef:M,disabled:h,children:[a.jsx(Pf.Provider,{scope:t,children:a.jsx(A5,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(K=>{$(se=>new Set(se).add(K))},[]),onNativeOptionRemove:m.useCallback(K=>{$(se=>{const I=new Set(se);return I.delete(K),I})},[]),children:r})}),O?a.jsxs(XE,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:K=>P(K.target.value),disabled:h,form:w,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},X):null]})})};RE.displayName=so;var TE="SelectTrigger",PE=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Of(r),o=yi(TE,r),l=o.disabled||n,c=Se(t,o.onTriggerChange),u=Af(r),d=m.useRef("touch"),[f,h,p]=tN(g=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===o.value),y=rN(x,g,v);y!==void 0&&o.onValueChange(y.value)}),w=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(ov,{asChild:!0,...i,children:a.jsx(le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eN(o.value)?"":void 0,...s,ref:c,onClick:G(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:G(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:G(s.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&k5.includes(g.key)&&(w(),g.preventDefault())})})})});PE.displayName=TE;var AE="SelectValue",OE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=yi(AE,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Se(t,c.onValueNodeChange);return pt(()=>{u(d)},[u,d]),a.jsx(le.span,{...l,ref:f,style:{pointerEvents:"none"},children:eN(c.value)?a.jsx(a.Fragment,{children:o}):i})});OE.displayName=AE;var I5="SelectIcon",IE=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(le.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});IE.displayName=I5;var D5="SelectPortal",DE=e=>a.jsx(Nc,{asChild:!0,...e});DE.displayName=D5;var io="SelectContent",ME=m.forwardRef((e,t)=>{const r=yi(io,e.__scopeSelect),[n,s]=m.useState();if(pt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?mo.createPortal(a.jsx(LE,{scope:e.__scopeSelect,children:a.jsx(Pf.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx($E,{...e,ref:t})});ME.displayName=io;var Qr=10,[LE,xi]=Ya(io),M5="SelectContentImpl",L5=Ji("SelectContent.RemoveScroll"),$E=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:x,...v}=e,y=yi(io,r),[b,_]=m.useState(null),[j,C]=m.useState(null),S=Se(t,Q=>_(Q)),[N,E]=m.useState(null),[P,M]=m.useState(null),O=Af(r),[U,$]=m.useState(!1),X=m.useRef(!1);m.useEffect(()=>{if(b)return Av(b)},[b]),Rv();const K=m.useCallback(Q=>{const[Te,...Ae]=O().map(De=>De.ref.current),[Ne]=Ae.slice(-1),Oe=document.activeElement;for(const De of Q)if(De===Oe||(De==null||De.scrollIntoView({block:"nearest"}),De===Te&&j&&(j.scrollTop=0),De===Ne&&j&&(j.scrollTop=j.scrollHeight),De==null||De.focus(),document.activeElement!==Oe))return},[O,j]),se=m.useCallback(()=>K([N,b]),[K,N,b]);m.useEffect(()=>{U&&se()},[U,se]);const{onOpenChange:I,triggerPointerDownPosRef:T}=y;m.useEffect(()=>{if(b){let Q={x:0,y:0};const Te=Ne=>{var Oe,De;Q={x:Math.abs(Math.round(Ne.pageX)-(((Oe=T.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((De=T.current)==null?void 0:De.y)??0))}},Ae=Ne=>{Q.x<=10&&Q.y<=10?Ne.preventDefault():b.contains(Ne.target)||I(!1),document.removeEventListener("pointermove",Te),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[b,I,T]),m.useEffect(()=>{const Q=()=>I(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[I]);const[D,W]=tN(Q=>{const Te=O().filter(Oe=>!Oe.disabled),Ae=Te.find(Oe=>Oe.ref.current===document.activeElement),Ne=rN(Te,Q,Ae);Ne&&setTimeout(()=>Ne.ref.current.focus())}),Z=m.useCallback((Q,Te,Ae)=>{const Ne=!X.current&&!Ae;(y.value!==void 0&&y.value===Te||Ne)&&(E(Q),Ne&&(X.current=!0))},[y.value]),me=m.useCallback(()=>b==null?void 0:b.focus(),[b]),pe=m.useCallback((Q,Te,Ae)=>{const Ne=!X.current&&!Ae;(y.value!==void 0&&y.value===Te||Ne)&&M(Q)},[y.value]),$e=n==="popper"?Tp:FE,Fe=$e===Tp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:x}:{};return a.jsx(LE,{scope:r,content:b,viewport:j,onViewportChange:C,itemRefCallback:Z,selectedItem:N,onItemLeave:me,itemTextRefCallback:pe,focusSelectedItem:se,selectedItemText:P,position:n,isPositioned:U,searchRef:D,children:a.jsx(Cf,{as:L5,allowPinchZoom:!0,children:a.jsx(jf,{asChild:!0,trapped:y.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:G(s,Q=>{var Te;(Te=y.trigger)==null||Te.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx($a,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx($e,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Q=>Q.preventDefault(),...v,...Fe,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:G(v.onKeyDown,Q=>{const Te=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Te&&Q.key.length===1&&W(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Ne=O().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Oe=Q.target,De=Ne.indexOf(Oe);Ne=Ne.slice(De+1)}setTimeout(()=>K(Ne)),Q.preventDefault()}})})})})})})});$E.displayName=M5;var $5="SelectItemAlignedPosition",FE=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=yi(io,r),o=xi(io,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Se(t,S=>d(S)),h=Af(r),p=m.useRef(!1),w=m.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&x&&v){const S=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(i.dir!=="rtl"){const Oe=P.left-N.left,De=E.left-Oe,Ct=S.left-De,Yt=S.width+Ct,hn=Math.max(Yt,N.width),mn=window.innerWidth-Qr,Mn=Rp(De,[Qr,Math.max(Qr,mn-hn)]);l.style.minWidth=Yt+"px",l.style.left=Mn+"px"}else{const Oe=N.right-P.right,De=window.innerWidth-E.right-Oe,Ct=window.innerWidth-S.right-De,Yt=S.width+Ct,hn=Math.max(Yt,N.width),mn=window.innerWidth-Qr,Mn=Rp(De,[Qr,Math.max(Qr,mn-hn)]);l.style.minWidth=Yt+"px",l.style.right=Mn+"px"}const M=h(),O=window.innerHeight-Qr*2,U=g.scrollHeight,$=window.getComputedStyle(u),X=parseInt($.borderTopWidth,10),K=parseInt($.paddingTop,10),se=parseInt($.borderBottomWidth,10),I=parseInt($.paddingBottom,10),T=X+K+U+I+se,D=Math.min(x.offsetHeight*5,T),W=window.getComputedStyle(g),Z=parseInt(W.paddingTop,10),me=parseInt(W.paddingBottom,10),pe=S.top+S.height/2-Qr,$e=O-pe,Fe=x.offsetHeight/2,Q=x.offsetTop+Fe,Te=X+K+Q,Ae=T-Te;if(Te<=pe){const Oe=M.length>0&&x===M[M.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-g.offsetTop-g.offsetHeight,Ct=Math.max($e,Fe+(Oe?me:0)+De+se),Yt=Te+Ct;l.style.height=Yt+"px"}else{const Oe=M.length>0&&x===M[0].ref.current;l.style.top="0px";const Ct=Math.max(pe,X+g.offsetTop+(Oe?Z:0)+Fe)+Ae;l.style.height=Ct+"px",g.scrollTop=Te-pe+g.offsetTop}l.style.margin=`${Qr}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,x,v,i.dir,n]);pt(()=>b(),[b]);const[_,j]=m.useState();pt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const C=m.useCallback(S=>{S&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return a.jsx(U5,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});FE.displayName=$5;var F5="SelectPopperPosition",Tp=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Qr,...i}=e,o=Of(r);return a.jsx(av,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tp.displayName=F5;var[U5,Kv]=Ya(io,{}),Pp="SelectViewport",UE=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=xi(Pp,r),o=Kv(Pp,r),l=Se(t,i.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Pf.Slot,{scope:r,children:a.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:G(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-Qr*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(g,x);if(v<w){const y=v+p,b=Math.min(w,y),_=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});UE.displayName=Pp;var zE="SelectGroup",[z5,B5]=Ya(zE),V5=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Rn();return a.jsx(z5,{scope:r,id:s,children:a.jsx(le.div,{role:"group","aria-labelledby":s,...n,ref:t})})});V5.displayName=zE;var BE="SelectLabel",VE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=B5(BE,r);return a.jsx(le.div,{id:s.id,...n,ref:t})});VE.displayName=BE;var Dd="SelectItem",[q5,qE]=Ya(Dd),WE=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=yi(Dd,r),c=xi(Dd,r),u=l.value===n,[d,f]=m.useState(i??""),[h,p]=m.useState(!1),w=Se(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,s)}),g=Rn(),x=m.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(q5,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Pf.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(le.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:G(o.onFocus,()=>p(!0)),onBlur:G(o.onBlur,()=>p(!1)),onClick:G(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:G(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:G(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:G(o.onPointerMove,y=>{var b;x.current=y.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:G(o.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(R5.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});WE.displayName=Dd;var yl="SelectItemText",HE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=yi(yl,r),l=xi(yl,r),c=qE(yl,r),u=O5(yl,r),[d,f]=m.useState(null),h=Se(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return pt(()=>(g(w),()=>x(w)),[g,x,w]),a.jsxs(a.Fragment,{children:[a.jsx(le.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mo.createPortal(i.children,o.valueNode):null]})});HE.displayName=yl;var KE="SelectItemIndicator",GE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return qE(KE,r).isSelected?a.jsx(le.span,{"aria-hidden":!0,...n,ref:t}):null});GE.displayName=KE;var Ap="SelectScrollUpButton",QE=m.forwardRef((e,t)=>{const r=xi(Ap,e.__scopeSelect),n=Kv(Ap,e.__scopeSelect),[s,i]=m.useState(!1),o=Se(t,n.onScrollButtonChange);return pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(ZE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});QE.displayName=Ap;var Op="SelectScrollDownButton",YE=m.forwardRef((e,t)=>{const r=xi(Op,e.__scopeSelect),n=Kv(Op,e.__scopeSelect),[s,i]=m.useState(!1),o=Se(t,n.onScrollButtonChange);return pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(ZE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YE.displayName=Op;var ZE=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=xi("SelectScrollButton",r),o=m.useRef(null),l=Af(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),pt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(le.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:G(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:G(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:G(s.onPointerLeave,()=>{c()})})}),W5="SelectSeparator",JE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(le.div,{"aria-hidden":!0,...n,ref:t})});JE.displayName=W5;var Ip="SelectArrow",H5=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Of(r),i=yi(Ip,r),o=xi(Ip,r);return i.open&&o.position==="popper"?a.jsx(lv,{...s,...n,ref:t}):null});H5.displayName=Ip;var K5="SelectBubbleInput",XE=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),i=Se(n,s),o=Hv(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(le.select,{...r,style:{...pj,...r.style},ref:i,defaultValue:t})});XE.displayName=K5;function eN(e){return e===""||e===void 0}function tN(e){const t=dt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function rN(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=G5(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function G5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Q5=RE,nN=PE,Y5=OE,Z5=IE,J5=DE,sN=ME,X5=UE,iN=VE,oN=WE,e3=HE,t3=GE,aN=QE,lN=YE,cN=JE;const oo=Q5,ao=Y5,ii=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(nN,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Z5,{asChild:!0,children:a.jsx($j,{className:"h-4 w-4 opacity-50"})})]}));ii.displayName=nN.displayName;const uN=m.forwardRef(({className:e,...t},r)=>a.jsx(aN,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx($A,{className:"h-4 w-4"})}));uN.displayName=aN.displayName;const dN=m.forwardRef(({className:e,...t},r)=>a.jsx(lN,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx($j,{className:"h-4 w-4"})}));dN.displayName=lN.displayName;const oi=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(J5,{children:a.jsxs(sN,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(uN,{}),a.jsx(X5,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(dN,{})]})}));oi.displayName=sN.displayName;const r3=m.forwardRef(({className:e,...t},r)=>a.jsx(iN,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));r3.displayName=iN.displayName;const jt=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(oN,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(t3,{children:a.jsx(mf,{className:"h-4 w-4"})})}),a.jsx(e3,{children:t})]}));jt.displayName=oN.displayName;const n3=m.forwardRef(({className:e,...t},r)=>a.jsx(cN,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));n3.displayName=cN.displayName;const fN=({className:e,...t})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:te("mx-auto flex w-full justify-center",e),...t});fN.displayName="Pagination";const hN=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,className:te("flex flex-row items-center gap-1",e),...t}));hN.displayName="PaginationContent";const xl=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:te("",e),...t}));xl.displayName="PaginationItem";const If=({className:e,isActive:t,size:r="icon",...n})=>a.jsx("a",{"aria-current":t?"page":void 0,className:te(nC({variant:t?"outline":"ghost",size:r}),e),...n});If.displayName="PaginationLink";const mN=({className:e,...t})=>a.jsxs(If,{"aria-label":"Go to previous page",size:"default",className:te("gap-1 pl-2.5",e),...t,children:[a.jsx(LA,{className:"h-4 w-4"}),a.jsx("span",{children:"Previous"})]});mN.displayName="PaginationPrevious";const pN=({className:e,...t})=>a.jsxs(If,{"aria-label":"Go to next page",size:"default",className:te("gap-1 pr-2.5",e),...t,children:[a.jsx("span",{children:"Next"}),a.jsx(Fj,{className:"h-4 w-4"})]});pN.displayName="PaginationNext";const s3=()=>{const[e,t]=PM(),[r,n]=m.useState(e.get("search")||""),[s,i]=m.useState(r),[o,l]=m.useState(e.get("category")||"all"),[c,u]=m.useState(e.get("level")||"all"),[d,f]=m.useState(1),{data:h}=kE(),{data:p,isLoading:w}=j5(s,o,c,d,9);m.useEffect(()=>{const v=setTimeout(()=>{i(r),f(1)},500);return()=>clearTimeout(v)},[r]),m.useEffect(()=>{const v=new URLSearchParams;s&&v.set("search",s),o!=="all"&&v.set("category",o),c!=="all"&&v.set("level",c),t(v)},[s,o,c,t]);const g=(p==null?void 0:p.courses)||[],x=(p==null?void 0:p.totalPages)||1;return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsxs("div",{className:"flex-1",children:[a.jsx("section",{className:"bg-gradient-primary py-12 text-primary-foreground",children:a.jsxs("div",{className:"container",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Explore Courses"}),a.jsx("p",{className:"text-lg opacity-90",children:"Discover thousands of courses from expert instructors"})]})}),a.jsx("section",{className:"border-b bg-background sticky top-16 z-40",children:a.jsx("div",{className:"container py-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Hg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(ke,{placeholder:"Search courses...",value:r,onChange:v=>n(v.target.value),className:"pl-10"})]}),a.jsxs(oo,{value:o,onValueChange:v=>{l(v),f(1)},children:[a.jsx(ii,{className:"w-full md:w-48",children:a.jsx(ao,{placeholder:"Category"})}),a.jsxs(oi,{className:"max-h-80",children:[a.jsx(jt,{value:"all",children:"All Categories"}),h==null?void 0:h.map(v=>a.jsx(jt,{value:v.id,children:v.name},v.id))]})]}),a.jsxs(oo,{value:c,onValueChange:v=>{u(v),f(1)},children:[a.jsx(ii,{className:"w-full md:w-48",children:a.jsx(ao,{placeholder:"Level"})}),a.jsxs(oi,{children:[a.jsx(jt,{value:"all",children:"All Levels"}),a.jsx(jt,{value:"beginner",children:"Beginner"}),a.jsx(jt,{value:"intermediate",children:"Intermediate"}),a.jsx(jt,{value:"advanced",children:"Advanced"})]})]})]})})}),a.jsx("section",{className:"py-12",children:a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-muted-foreground",children:["Showing ",g.length," of ",(p==null?void 0:p.totalCount)||0," courses"]})}),w?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Wg,{className:"h-8 w-8 animate-spin text-primary"})}):g.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"No courses found"}),a.jsx(z,{variant:"outline",onClick:()=>{n(""),i(""),l("all"),u("all")},children:"Clear Filters"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(v=>{var y,b,_;return a.jsx(Id,{id:v.id,title:v.title,instructor:((y=v.instructor_profile)==null?void 0:y.full_name)||"Unknown Instructor",duration:`${v.duration_hours||0}h`,students:((b=v.enrollments)==null?void 0:b.length)||0,rating:v.reviews&&v.reviews.length>0?parseFloat((v.reviews.reduce((j,C)=>j+C.rating,0)/v.reviews.length).toFixed(1)):0,price:v.price>0?`$${v.price}`:"Free",image:v.thumbnail_url||"/placeholder.svg",category:((_=v.category)==null?void 0:_.name)||"Uncategorized",level:v.level},v.id)})}),x>1&&a.jsx("div",{className:"mt-8",children:a.jsx(fN,{children:a.jsxs(hN,{children:[a.jsx(xl,{children:a.jsx(mN,{onClick:()=>f(v=>Math.max(1,v-1)),className:d===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:x},(v,y)=>y+1).map(v=>v===1||v===x||v>=d-1&&v<=d+1?a.jsx(xl,{children:a.jsx(If,{onClick:()=>f(v),isActive:d===v,className:"cursor-pointer",children:v})},v):v===d-2||v===d+2?a.jsx(xl,{children:a.jsx("span",{className:"px-4 py-2",children:"..."})},v):null),a.jsx(xl,{children:a.jsx(pN,{onClick:()=>f(v=>Math.min(x,v+1)),className:d===x?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})})]}),a.jsx(Dn,{})]})};var i3="Separator",t0="horizontal",o3=["horizontal","vertical"],gN=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=t0,...s}=e,i=a3(n)?n:t0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(le.div,{"data-orientation":i,...l,...s,ref:t})});gN.displayName=i3;function a3(e){return o3.includes(e)}var vN=gN;const yN=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(vN,{ref:s,decorative:r,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));yN.displayName=vN.displayName;var xN={exports:{}},wN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=m;function l3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c3=typeof Object.is=="function"?Object.is:l3,u3=Ra.useState,d3=Ra.useEffect,f3=Ra.useLayoutEffect,h3=Ra.useDebugValue;function m3(e,t){var r=t(),n=u3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return f3(function(){s.value=r,s.getSnapshot=t,Vh(s)&&i({inst:s})},[e,r,t]),d3(function(){return Vh(s)&&i({inst:s}),e(function(){Vh(s)&&i({inst:s})})},[e]),h3(r),r}function Vh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!c3(e,r)}catch{return!0}}function p3(e,t){return t()}var g3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p3:m3;wN.useSyncExternalStore=Ra.useSyncExternalStore!==void 0?Ra.useSyncExternalStore:g3;xN.exports=wN;var v3=xN.exports;function y3(){return v3.useSyncExternalStore(x3,()=>!0,()=>!1)}function x3(){return()=>{}}var Gv="Avatar",[w3,vV]=Gt(Gv),[b3,bN]=w3(Gv),_N=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return a.jsx(b3,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(le.span,{...n,ref:t})})});_N.displayName=Gv;var jN="AvatarImage",SN=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=bN(jN,r),l=_3(n,i),c=dt(u=>{s(u),o.onImageLoadingStatusChange(u)});return pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(le.img,{...i,ref:t,src:n}):null});SN.displayName=jN;var CN="AvatarFallback",EN=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=bN(CN,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(le.span,{...s,ref:t}):null});EN.displayName=CN;function r0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _3(e,{referrerPolicy:t,crossOrigin:r}){const n=y3(),s=m.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=m.useState(()=>r0(i,e));return pt(()=>{l(r0(i,e))},[i,e]),pt(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var NN=_N,kN=SN,RN=EN;const Zn=m.forwardRef(({className:e,...t},r)=>a.jsx(NN,{ref:r,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Zn.displayName=NN.displayName;const Jn=m.forwardRef(({className:e,...t},r)=>a.jsx(kN,{ref:r,className:te("aspect-square h-full w-full",e),...t}));Jn.displayName=kN.displayName;const Xn=m.forwardRef(({className:e,...t},r)=>a.jsx(RN,{ref:r,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Xn.displayName=RN.displayName;const It=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));It.displayName="Textarea";const j3=e=>{const{user:t}=nt(),r=cs(),n=Ht({mutationFn:async({rating:o,comment:l})=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:c}=await F.from("reviews").insert({course_id:e,student_id:t.id,rating:o,comment:l});if(c)throw c},onSuccess:()=>{r.invalidateQueries({queryKey:["course-details",e]}),V.success("Review submitted successfully")},onError:o=>{V.error(o.message||"Failed to submit review")}}),s=Ht({mutationFn:async({reviewId:o,rating:l,comment:c})=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:u}=await F.from("reviews").update({rating:l,comment:c,updated_at:new Date().toISOString()}).eq("id",o).eq("student_id",t.id);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["course-details",e]}),V.success("Review updated successfully")},onError:o=>{V.error(o.message||"Failed to update review")}}),i=Ht({mutationFn:async o=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:l}=await F.from("reviews").delete().eq("id",o).eq("student_id",t.id);if(l)throw l},onSuccess:()=>{r.invalidateQueries({queryKey:["course-details",e]}),V.success("Review deleted successfully")},onError:o=>{V.error(o.message||"Failed to delete review")}});return{addReview:n.mutate,updateReview:s.mutate,deleteReview:i.mutate}},S3=({courseId:e,reviews:t,averageRating:r,totalReviews:n,isEnrolled:s})=>{const{user:i}=nt(),{addReview:o,updateReview:l,deleteReview:c}=j3(e),[u,d]=m.useState(5),[f,h]=m.useState(""),[p,w]=m.useState(null),g=t.find(y=>y.student_id===(i==null?void 0:i.id)),x=y=>{if(y.preventDefault(),!i){V.error("Please sign in to leave a review");return}if(!s){V.error("You must be enrolled to leave a review");return}p?(l({reviewId:p,rating:u,comment:f}),w(null)):o({rating:u,comment:f}),h(""),d(5)},v=y=>{w(y.id),d(y.rating),h(y.comment)};return a.jsx(ve,{children:a.jsxs(ye,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Reviews"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ho,{className:"h-6 w-6 fill-accent text-accent"}),a.jsx("span",{className:"text-2xl font-bold",children:r||0}),a.jsxs("span",{className:"text-muted-foreground",children:["(",n," reviews)"]})]})]}),s&&!g&&!p&&a.jsxs("form",{onSubmit:x,className:"mb-6 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Leave a Review"}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"text-sm",children:"Rating:"}),[1,2,3,4,5].map(y=>a.jsx(Ho,{className:`h-6 w-6 cursor-pointer transition-colors ${y<=u?"fill-accent text-accent":"text-muted-foreground"}`,onClick:()=>d(y)},y))]}),a.jsx(It,{value:f,onChange:y=>h(y.target.value),placeholder:"Share your experience with this course...",className:"mb-4",required:!0}),a.jsx(z,{type:"submit",children:"Submit Review"})]}),p&&a.jsxs("form",{onSubmit:x,className:"mb-6 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Edit Your Review"}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"text-sm",children:"Rating:"}),[1,2,3,4,5].map(y=>a.jsx(Ho,{className:`h-6 w-6 cursor-pointer transition-colors ${y<=u?"fill-accent text-accent":"text-muted-foreground"}`,onClick:()=>d(y)},y))]}),a.jsx(It,{value:f,onChange:y=>h(y.target.value),placeholder:"Share your experience with this course...",className:"mb-4",required:!0}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{type:"submit",children:"Update Review"}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>{w(null),h(""),d(5)},children:"Cancel"})]})]}),a.jsx("div",{className:"space-y-4",children:t.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No reviews yet. Be the first to review this course!"}):t.map(y=>{var b;return a.jsx("div",{className:"border-b pb-4 last:border-0",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs(Zn,{children:[a.jsx(Jn,{src:y.student.avatar_url||""}),a.jsx(Xn,{children:((b=y.student.full_name)==null?void 0:b.charAt(0))||"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:y.student.full_name}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((_,j)=>a.jsx(Ho,{className:`h-4 w-4 ${j<y.rating?"fill-accent text-accent":"text-muted-foreground"}`},j))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(y.created_at).toLocaleDateString()}),y.student_id===(i==null?void 0:i.id)&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(y),children:"Edit"}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>c(y.id),children:"Delete"})]})]})]}),a.jsx("p",{className:"text-muted-foreground",children:y.comment})]})]})},y.id)})})]})})},TN=e=>{const{user:t,userRole:r}=nt(),n=cs(),{data:s=[],isLoading:i}=Wt({queryKey:["conversations",t==null?void 0:t.id,e],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:c,error:u}=await F.from("conversation_participants").select("conversation_id, is_read").eq("user_id",t.id);if(u)throw u;const d=c.map(b=>b.conversation_id);if(d.length===0)return[];let f=F.from("conversations").select("*, course_id").in("id",d).order("updated_at",{ascending:!1});if(e&&r==="instructor"){const{data:b}=await F.from("courses").select("id").eq("instructor_id",t.id),_=(b==null?void 0:b.map(j=>j.id))||[];if(_.length>0)f=f.in("course_id",_);else return[]}const{data:h,error:p}=await f;if(p)throw p;const{data:w}=await F.from("conversation_participants").select("conversation_id, user_id").in("conversation_id",d),g=(w==null?void 0:w.filter(b=>b.user_id!==t.id).map(b=>b.user_id))||[],x=[...new Set(g)],{data:v}=await F.from("profiles").select("id, full_name, avatar_url").in("id",x),{data:y}=await F.from("messages").select("conversation_id, content, created_at").in("conversation_id",d).order("created_at",{ascending:!1});return h.map(b=>{var N;const _=w==null?void 0:w.find(E=>E.conversation_id===b.id&&E.user_id!==t.id),j=v==null?void 0:v.find(E=>E.id===(_==null?void 0:_.user_id)),C=y==null?void 0:y.find(E=>E.conversation_id===b.id),S=(N=c.find(E=>E.conversation_id===b.id))==null?void 0:N.is_read;return{...b,other_user:j||{full_name:"Unknown User",avatar_url:null},last_message:(C==null?void 0:C.content)||"",last_message_at:C==null?void 0:C.created_at,is_read:S}})},enabled:!!(t!=null&&t.id)}),o=Ht({mutationFn:async({recipientId:c,subject:u,courseId:d})=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");if(d){const{data:w}=await F.from("conversation_participants").select("conversation_id").eq("user_id",t.id),g=(w==null?void 0:w.map(x=>x.conversation_id))||[];if(g.length>0){const{data:x}=await F.from("conversations").select("id").eq("course_id",d).in("id",g).maybeSingle();if(x){const{data:v}=await F.from("conversation_participants").select("conversation_id").eq("conversation_id",x.id).eq("user_id",c).maybeSingle();if(v)return x.id}}}const{data:f,error:h}=await F.from("conversations").insert({subject:u,course_id:d||null}).select().single();if(h)throw h;const{error:p}=await F.from("conversation_participants").insert([{conversation_id:f.id,user_id:t.id,is_read:!0},{conversation_id:f.id,user_id:c,is_read:!1}]);if(p)throw p;return f.id},onSuccess:()=>{n.invalidateQueries({queryKey:["conversations"]}),V.success("Conversation created")},onError:c=>{V.error(c.message||"Failed to create conversation")}}),l=Ht({mutationFn:async c=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:u}=await F.from("conversation_participants").update({is_read:!0,last_read_at:new Date().toISOString()}).eq("conversation_id",c).eq("user_id",t.id);if(u)throw u},onSuccess:()=>{n.invalidateQueries({queryKey:["conversations"]})}});return{conversations:s,isLoading:i,createConversation:o.mutate,markAsRead:l.mutate}};var Df="Dialog",[PN,yV]=Gt(Df),[C3,fn]=PN(Df),AN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=is({prop:n,defaultProp:s??!1,onChange:i,caller:Df});return a.jsx(C3,{scope:t,triggerRef:l,contentRef:c,contentId:Rn(),titleId:Rn(),descriptionId:Rn(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};AN.displayName=Df;var ON="DialogTrigger",IN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=fn(ON,r),i=Se(t,s.triggerRef);return a.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zv(s.open),...n,ref:i,onClick:G(e.onClick,s.onOpenToggle)})});IN.displayName=ON;var Qv="DialogPortal",[E3,DN]=PN(Qv,{forceMount:void 0}),MN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=fn(Qv,t);return a.jsx(E3,{scope:t,forceMount:r,children:m.Children.map(n,o=>a.jsx(Mt,{present:r||i.open,children:a.jsx(Nc,{asChild:!0,container:s,children:o})}))})};MN.displayName=Qv;var Md="DialogOverlay",LN=m.forwardRef((e,t)=>{const r=DN(Md,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=fn(Md,e.__scopeDialog);return i.modal?a.jsx(Mt,{present:n||i.open,children:a.jsx(k3,{...s,ref:t})}):null});LN.displayName=Md;var N3=Ji("DialogOverlay.RemoveScroll"),k3=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=fn(Md,r);return a.jsx(Cf,{as:N3,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(le.div,{"data-state":Zv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lo="DialogContent",$N=m.forwardRef((e,t)=>{const r=DN(lo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=fn(lo,e.__scopeDialog);return a.jsx(Mt,{present:n||i.open,children:i.modal?a.jsx(R3,{...s,ref:t}):a.jsx(T3,{...s,ref:t})})});$N.displayName=lo;var R3=m.forwardRef((e,t)=>{const r=fn(lo,e.__scopeDialog),n=m.useRef(null),s=Se(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return Av(i)},[]),a.jsx(FN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault())})}),T3=m.forwardRef((e,t)=>{const r=fn(lo,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(FN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),FN=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=fn(lo,r),c=m.useRef(null),u=Se(t,c);return Rv(),a.jsxs(a.Fragment,{children:[a.jsx(jf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx($a,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zv(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(P3,{titleId:l.titleId}),a.jsx(O3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Yv="DialogTitle",UN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=fn(Yv,r);return a.jsx(le.h2,{id:s.titleId,...n,ref:t})});UN.displayName=Yv;var zN="DialogDescription",BN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=fn(zN,r);return a.jsx(le.p,{id:s.descriptionId,...n,ref:t})});BN.displayName=zN;var VN="DialogClose",qN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=fn(VN,r);return a.jsx(le.button,{type:"button",...n,ref:t,onClick:G(e.onClick,()=>s.onOpenChange(!1))})});qN.displayName=VN;function Zv(e){return e?"open":"closed"}var WN="DialogTitleWarning",[xV,HN]=UP(WN,{contentName:lo,titleName:Yv,docsSlug:"dialog"}),P3=({titleId:e})=>{const t=HN(WN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},A3="DialogDescriptionWarning",O3=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HN(A3).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},I3=AN,D3=IN,M3=MN,KN=LN,GN=$N,QN=UN,YN=BN,L3=qN;const co=I3,mc=D3,$3=M3,ZN=m.forwardRef(({className:e,...t},r)=>a.jsx(KN,{ref:r,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ZN.displayName=KN.displayName;const ai=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs($3,{children:[a.jsx(ZN,{}),a.jsxs(GN,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(L3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ys,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ai.displayName=GN.displayName;const li=({className:e,...t})=>a.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});li.displayName="DialogHeader";const Jv=({className:e,...t})=>a.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jv.displayName="DialogFooter";const ci=m.forwardRef(({className:e,...t},r)=>a.jsx(QN,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));ci.displayName=QN.displayName;const Dc=m.forwardRef(({className:e,...t},r)=>a.jsx(YN,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));Dc.displayName=YN.displayName;var F3="Label",JN=m.forwardRef((e,t)=>a.jsx(le.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));JN.displayName=F3;var XN=JN;const U3=Rc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=m.forwardRef(({className:e,...t},r)=>a.jsx(XN,{ref:r,className:te(U3(),e),...t}));fe.displayName=XN.displayName;const z3=({instructorId:e,courseId:t,courseName:r,variant:n="outline"})=>{const{user:s}=nt(),i=Qt(),{createConversation:o}=TN(),[l,c]=m.useState(!1),[u,d]=m.useState(`Question about ${r}`),f=()=>{if(!s){V.error("Please login to contact the instructor"),i("/login");return}if(s.id===e){V.error("You cannot message yourself");return}o({recipientId:e,subject:u,courseId:t},{onSuccess:()=>{c(!1),i("/messages")}})};return a.jsxs(co,{open:l,onOpenChange:c,children:[a.jsx(mc,{asChild:!0,children:a.jsxs(z,{variant:n,children:[a.jsx(rc,{className:"mr-2 h-4 w-4"}),"Contact Instructor"]})}),a.jsxs(ai,{children:[a.jsxs(li,{children:[a.jsx(ci,{children:"Contact Instructor"}),a.jsx(Dc,{children:"Start a conversation with the instructor about this course."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"subject",children:"Subject"}),a.jsx(ke,{id:"subject",value:u,onChange:h=>d(h.target.value),placeholder:"What would you like to discuss?"})]}),a.jsx(z,{onClick:f,className:"w-full",children:"Start Conversation"})]})]})]})},B3=({open:e,onOpenChange:t,courseTitle:r,price:n,onPaymentSuccess:s})=>{const[i,o]=m.useState(!1),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,w]=m.useState(""),g=async()=>{if(!l||!u||!f||!p){V.error("Please fill in all payment details");return}if(l.replace(/\s/g,"").length!==16){V.error("Invalid card number");return}o(!0),setTimeout(()=>{o(!1),V.success("Payment successful! Enrolling you in the course..."),s(),t(!1),c(""),d(""),h(""),w("")},2e3)},x=y=>{const _=y.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),j=_&&_[0]||"",C=[];for(let S=0,N=j.length;S<N;S+=4)C.push(j.substring(S,S+4));return C.length?C.join(" "):y},v=y=>{const b=y.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return b.length>=2?b.slice(0,2)+"/"+b.slice(2,4):b};return a.jsx(co,{open:e,onOpenChange:t,children:a.jsxs(ai,{className:"sm:max-w-[500px]",children:[a.jsxs(li,{children:[a.jsxs(ci,{className:"flex items-center gap-2",children:[a.jsx(KA,{className:"h-5 w-5 text-primary"}),"Secure Checkout"]}),a.jsxs(Dc,{children:["Complete your payment to enroll in ",a.jsx("strong",{children:r})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(ve,{className:"bg-muted/50",children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:r}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Full course access"})]}),a.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",n]})]})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"cardName",children:"Cardholder Name"}),a.jsx(ke,{id:"cardName",placeholder:"John Doe",value:p,onChange:y=>w(y.target.value),disabled:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"cardNumber",children:"Card Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(ke,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:l,onChange:y=>c(x(y.target.value)),maxLength:19,disabled:i}),a.jsx(FA,{className:"absolute right-3 top-3 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"expiry",children:"Expiry Date"}),a.jsx(ke,{id:"expiry",placeholder:"MM/YY",value:u,onChange:y=>d(v(y.target.value)),maxLength:5,disabled:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"cvv",children:"CVV"}),a.jsx(ke,{id:"cvv",type:"password",placeholder:"123",value:f,onChange:y=>h(y.target.value.replace(/\D/g,"").slice(0,3)),maxLength:3,disabled:i})]})]})]}),a.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:[a.jsx(Hi,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),a.jsx("p",{children:"Your payment information is secure and encrypted. This is a demo payment system."})]})]}),a.jsxs(Jv,{children:[a.jsx(z,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(z,{onClick:g,disabled:i,className:"min-w-[120px]",children:i?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"animate-spin",children:""}),"Processing..."]}):`Pay $${n}`})]})]})})},V3=e=>Wt({queryKey:["course-details",e],queryFn:async()=>{var u,d;if(!e)throw new Error("Course ID is required");const{data:t,error:r}=await F.from("courses").select(`
          *,
          category:categories(*),
          lessons(id, title, order_index, duration_minutes, lesson_type),
          reviews(id, rating, comment, created_at, student_id)
        `).eq("id",e).maybeSingle();if(r)throw console.error("Course fetch error:",r),r;if(!t)throw new Error("Course not found");const{count:n}=await F.from("enrollments").select("*",{count:"exact",head:!0}).eq("course_id",e),{data:s}=await F.from("profiles").select("id, full_name, avatar_url, bio").eq("id",t.instructor_id).maybeSingle(),i=((u=t.reviews)==null?void 0:u.map(f=>f.student_id))||[];let o=[];if(i.length>0){const{data:f}=await F.from("profiles").select("id, full_name, avatar_url").in("id",i);o=f||[]}const l=((d=t.reviews)==null?void 0:d.map(f=>({...f,student:o.find(h=>h.id===f.student_id)||{full_name:"Unknown",avatar_url:null}})))||[],c=l&&l.length>0?l.reduce((f,h)=>f+h.rating,0)/l.length:0;return{...t,instructor_profile:s,reviews:l,averageRating:parseFloat(c.toFixed(1)),totalReviews:(l==null?void 0:l.length)||0,totalStudents:n||0}},enabled:!!e,retry:!1}),q3=()=>{var w,g,x,v,y,b,_,j,C,S,N;const{id:e}=yv(),t=Qt(),{user:r}=nt(),{data:n,isLoading:s,error:i}=V3(e),{isInWishlist:o,toggleWishlist:l}=Wv(),[c,u]=B.useState(!1),[d,f]=B.useState(!1);B.useEffect(()=>{i&&console.error("Course details error:",i)},[i]),B.useEffect(()=>{(async()=>{if(!r||!e){u(!1);return}const{data:P}=await F.from("enrollments").select("id").eq("student_id",r.id).eq("course_id",e).maybeSingle();u(!!P)})()},[r,e]);const h=async()=>{if(!r){V.error("Please sign up to enroll in this course"),t("/auth/register");return}if(!e)return;const{data:E}=await F.from("enrollments").select("id").eq("student_id",r.id).eq("course_id",e).maybeSingle();if(E){t(`/courses/${e}/learn`);return}if(n&&n.price>0){f(!0);return}await p()},p=async()=>{if(!e||!r)return;const{error:E}=await F.from("enrollments").insert({student_id:r.id,course_id:e});if(E){console.error("Enrollment error:",E),V.error("Failed to enroll in course");return}V.success("Successfully enrolled!"),t(`/courses/${e}/learn`)};return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Wg,{className:"h-8 w-8 animate-spin text-primary"})}):i||!n?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[a.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:i?"Error loading course":"Course not found"}),i&&a.jsx("p",{className:"text-sm text-destructive",children:i.message}),a.jsx(Le,{to:"/courses",children:a.jsx(z,{children:"Browse Courses"})})]}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsxs("div",{className:"flex-1",children:[a.jsx("section",{className:"bg-gradient-primary text-primary-foreground",children:a.jsx("div",{className:"container py-12",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx(kt,{variant:"secondary",children:((w=n.category)==null?void 0:w.name)||"Uncategorized"}),a.jsx(kt,{variant:"outline",className:"border-primary-foreground/20 text-primary-foreground",children:n.level})]}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:n.title}),a.jsx("p",{className:"text-lg opacity-90 mb-6",children:n.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-6 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ho,{className:"h-5 w-5 fill-accent text-accent"}),a.jsx("span",{className:"font-semibold",children:n.averageRating||0}),a.jsxs("span",{className:"opacity-80",children:["(",n.totalReviews," reviews)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nc,{className:"h-5 w-5"}),a.jsxs("span",{children:[n.totalStudents," students"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xi,{className:"h-5 w-5"}),a.jsxs("span",{children:[n.duration_hours||0,"h"]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(Zn,{className:"h-12 w-12 border-2 border-primary-foreground/20",children:[a.jsx(Jn,{src:((g=n.instructor_profile)==null?void 0:g.avatar_url)||""}),a.jsx(Xn,{children:((v=(x=n.instructor_profile)==null?void 0:x.full_name)==null?void 0:v.charAt(0))||"I"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:((y=n.instructor_profile)==null?void 0:y.full_name)||"Unknown Instructor"}),a.jsx("div",{className:"text-sm opacity-80",children:"Instructor"})]})]})]}),a.jsx(ve,{className:"shadow-strong",children:a.jsxs(ye,{className:"p-6",children:[a.jsx("div",{className:"aspect-video bg-muted rounded-lg mb-6 flex items-center justify-center overflow-hidden",children:n.thumbnail_url?a.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-full h-full object-cover"}):a.jsx(Vg,{className:"h-16 w-16 text-primary"})}),a.jsx("div",{className:"text-3xl font-bold text-primary mb-6",children:n.price>0?`$${n.price}`:"Free"}),c?a.jsx(z,{variant:"hero",size:"lg",className:"w-full mb-4",onClick:()=>t(`/courses/${e}/learn`),children:"Continue Learning"}):a.jsx(z,{variant:"hero",size:"lg",className:"w-full mb-4",onClick:h,children:"Enroll Now"}),a.jsxs(z,{variant:"outline",size:"lg",className:"w-full mb-4",onClick:()=>e&&l(e),children:[a.jsx(qg,{className:`h-4 w-4 mr-2 ${e&&o(e)?"fill-current":""}`}),e&&o(e)?"Remove from Wishlist":"Add to Wishlist"]}),e&&n.instructor_id&&a.jsx(z3,{instructorId:n.instructor_id,courseId:e,courseName:n.title,variant:"outline"}),a.jsx(yN,{className:"my-6"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hi,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Lifetime access"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hi,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Certificate of completion"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kn,{className:"h-5 w-5 text-primary"}),a.jsxs("span",{children:[((b=n.lessons)==null?void 0:b.length)||0," lessons"]})]})]})]})})]})})}),a.jsx("section",{className:"py-12",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"md:col-span-2 space-y-8",children:[n.objectives&&n.objectives.length>0&&a.jsx(ve,{children:a.jsxs(ye,{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What You'll Learn"}),a.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:n.objectives.map((E,P)=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Hi,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),a.jsx("span",{children:E})]},P))})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Course Curriculum"}),a.jsx("div",{className:"space-y-4",children:n.lessons&&n.lessons.length>0?n.lessons.map((E,P)=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-semibold",children:P+1}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:E.title}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx("span",{className:"capitalize",children:E.lesson_type}),E.duration_minutes>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[E.duration_minutes," min"]})]}),E.is_preview&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx(kt,{variant:"secondary",className:"text-xs",children:"Preview"})]})]})]})]})})},E.id)):a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No lessons available yet"})})]})}),a.jsx(S3,{courseId:e,reviews:n.reviews||[],averageRating:n.averageRating,totalReviews:n.totalReviews,isEnrolled:c})]}),a.jsx("div",{children:a.jsx(ve,{className:"sticky top-24",children:a.jsxs(ye,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Instructor"}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs(Zn,{className:"h-16 w-16",children:[a.jsx(Jn,{src:((_=n.instructor_profile)==null?void 0:_.avatar_url)||""}),a.jsx(Xn,{children:((C=(j=n.instructor_profile)==null?void 0:j.full_name)==null?void 0:C.charAt(0))||"I"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:((S=n.instructor_profile)==null?void 0:S.full_name)||"Unknown"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Course Instructor"})]})]}),((N=n.instructor_profile)==null?void 0:N.bio)&&a.jsx("p",{className:"text-sm text-muted-foreground",children:n.instructor_profile.bio})]})})})]})})})]}),a.jsx(Dn,{}),n&&a.jsx(B3,{open:d,onOpenChange:f,courseTitle:n.title,price:n.price,onPaymentSuccess:p})]})};var Xv="Progress",ey=100,[W3,wV]=Gt(Xv),[H3,K3]=W3(Xv),ek=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=G3,...o}=e;(s||s===0)&&!n0(s)&&console.error(Q3(`${s}`,"Progress"));const l=n0(s)?s:ey;n!==null&&!s0(n,l)&&console.error(Y3(`${n}`,"Progress"));const c=s0(n,l)?n:null,u=Ld(c)?i(c,l):void 0;return a.jsx(H3,{scope:r,value:c,max:l,children:a.jsx(le.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ld(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":nk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});ek.displayName=Xv;var tk="ProgressIndicator",rk=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=K3(tk,r);return a.jsx(le.div,{"data-state":nk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});rk.displayName=tk;function G3(e,t){return`${Math.round(e/t*100)}%`}function nk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ld(e){return typeof e=="number"}function n0(e){return Ld(e)&&!isNaN(e)&&e>0}function s0(e,t){return Ld(e)&&!isNaN(e)&&e<=t&&e>=0}function Q3(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ey}\`.`}function Y3(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ey} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sk=ek,Z3=rk;const Ta=m.forwardRef(({className:e,value:t,...r},n)=>a.jsx(sk,{ref:n,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Z3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ta.displayName=sk.displayName;var Mf="Checkbox",[J3,bV]=Gt(Mf),[X3,ty]=J3(Mf);function ez(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=is({prop:r,defaultProp:s??!1,onChange:c,caller:Mf}),[w,g]=m.useState(null),[x,v]=m.useState(null),y=m.useRef(!1),b=w?!!o||!!w.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:w,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Xs(s)?!1:s,isFormControl:b,bubbleInput:x,setBubbleInput:v};return a.jsx(X3,{scope:t,..._,children:tz(f)?f(_):n})}var ik="CheckboxTrigger",ok=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:w}=ty(ik,e),g=Se(s,d),x=m.useRef(c);return m.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const y=()=>f(x.current);return v.addEventListener("reset",y),()=>v.removeEventListener("reset",y)}},[i,f]),a.jsx(le.button,{type:"button",role:"checkbox","aria-checked":Xs(c)?"mixed":c,"aria-required":u,"data-state":dk(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:G(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:G(r,v=>{f(y=>Xs(y)?!0:!y),w&&p&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});ok.displayName=ik;var ry=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(ez,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(ok,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(uk,{__scopeCheckbox:r})]})})});ry.displayName=Mf;var ak="CheckboxIndicator",lk=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=ty(ak,r);return a.jsx(Mt,{present:n||Xs(i.checked)||i.checked===!0,children:a.jsx(le.span,{"data-state":dk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});lk.displayName=ak;var ck="CheckboxBubbleInput",uk=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=ty(ck,e),w=Se(r,p),g=Hv(i),x=nv(n);m.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,C=!s.current;if(g!==i&&j){const S=new Event("click",{bubbles:C});y.indeterminate=Xs(i),j.call(y,Xs(i)?!1:i),y.dispatchEvent(S)}},[h,g,i,s]);const v=m.useRef(Xs(i)?!1:i);return a.jsx(le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});uk.displayName=ck;function tz(e){return typeof e=="function"}function Xs(e){return e==="indeterminate"}function dk(e){return Xs(e)?"indeterminate":e?"checked":"unchecked"}const fk=m.forwardRef(({className:e,...t},r)=>a.jsx(ry,{ref:r,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(lk,{className:te("flex items-center justify-center text-current"),children:a.jsx(mf,{className:"h-4 w-4"})})}));fk.displayName=ry.displayName;var Lf="Tabs",[rz,_V]=Gt(Lf,[Qa]),hk=Qa(),[nz,ny]=rz(Lf),mk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ga(l),[f,h]=is({prop:n,onChange:s,defaultProp:i??"",caller:Lf});return a.jsx(nz,{scope:r,baseId:Rn(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(le.div,{dir:d,"data-orientation":o,...u,ref:t})})});mk.displayName=Lf;var pk="TabsList",gk=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=ny(pk,r),o=hk(r);return a.jsx(Tv,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});gk.displayName=pk;var vk="TabsTrigger",yk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=ny(vk,r),l=hk(r),c=bk(o.baseId,n),u=_k(o.baseId,n),d=n===o.value;return a.jsx(Pv,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:G(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:G(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:G(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});yk.displayName=vk;var xk="TabsContent",wk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=ny(xk,r),c=bk(l.baseId,n),u=_k(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Mt,{present:s||d,children:({present:h})=>a.jsx(le.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});wk.displayName=xk;function bk(e,t){return`${e}-trigger-${t}`}function _k(e,t){return`${e}-content-${t}`}var sz=mk,jk=gk,Sk=yk,Ck=wk;const $f=sz,Mc=m.forwardRef(({className:e,...t},r)=>a.jsx(jk,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Mc.displayName=jk.displayName;const Vt=m.forwardRef(({className:e,...t},r)=>a.jsx(Sk,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Vt.displayName=Sk.displayName;const qt=m.forwardRef(({className:e,...t},r)=>a.jsx(Ck,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qt.displayName=Ck.displayName;const iz=e=>{const{user:t}=nt(),r=cs(),{data:n=[],isLoading:s}=Wt({queryKey:["lesson-comments",e],queryFn:async()=>{const{data:c,error:u}=await F.from("lesson_comments").select("*").eq("lesson_id",e).order("created_at",{ascending:!0});if(u)throw u;const d=[...new Set(c.map(h=>h.user_id))],{data:f}=await F.from("profiles").select("id, full_name, avatar_url").in("id",d);return c.map(h=>({...h,student:(f==null?void 0:f.find(p=>p.id===h.user_id))||{full_name:"Unknown",avatar_url:null}}))},enabled:!!e}),i=Ht({mutationFn:async({comment:c,parentId:u})=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:d}=await F.from("lesson_comments").insert({lesson_id:e,user_id:t.id,content:c});if(d)throw d},onSuccess:()=>{r.invalidateQueries({queryKey:["lesson-comments",e]}),V.success("Comment added")},onError:c=>{V.error(c.message||"Failed to add comment")}}),o=Ht({mutationFn:async({commentId:c,comment:u})=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:d}=await F.from("lesson_comments").update({content:u}).eq("id",c).eq("user_id",t.id);if(d)throw d},onSuccess:()=>{r.invalidateQueries({queryKey:["lesson-comments",e]}),V.success("Comment updated")},onError:c=>{V.error(c.message||"Failed to update comment")}}),l=Ht({mutationFn:async c=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:u}=await F.from("lesson_comments").delete().eq("id",c).eq("user_id",t.id);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["lesson-comments",e]}),V.success("Comment deleted")},onError:c=>{V.error(c.message||"Failed to delete comment")}});return{comments:n,isLoading:s,addComment:i.mutate,updateComment:o.mutate,deleteComment:l.mutate}},oz=({lessonId:e})=>{const{user:t}=nt(),{comments:r,isLoading:n,addComment:s,updateComment:i,deleteComment:o}=iz(e),[l,c]=m.useState(""),[u,d]=m.useState(null),[f,h]=m.useState(""),[p,w]=m.useState(null),[g,x]=m.useState(""),v=N=>{N.preventDefault(),l.trim()&&(s({comment:l}),c(""))},y=(N,E)=>{d(N),h(E)},b=N=>{f.trim()&&(i({commentId:N,comment:f}),d(null),h(""))},_=N=>{g.trim()&&(s({comment:g,parentId:N}),w(null),x(""))},j=r.filter(N=>!N.parent_id),C=N=>r.filter(E=>E.parent_id===N),S=({comment:N,depth:E=0})=>{var P;return a.jsxs("div",{className:`${E>0?"ml-8 mt-4":"mt-4"}`,children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Zn,{className:"h-8 w-8",children:[a.jsx(Jn,{src:N.student.avatar_url||""}),a.jsx(Xn,{children:((P=N.student.full_name)==null?void 0:P.charAt(0))||"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-muted rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-semibold text-sm",children:N.student.full_name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(N.created_at).toLocaleDateString()})]}),u===N.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx(It,{value:f,onChange:M=>h(M.target.value),className:"min-h-[60px]"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{size:"sm",onClick:()=>b(N.id),children:"Save"}),a.jsx(z,{size:"sm",variant:"outline",onClick:()=>{d(null),h("")},children:"Cancel"})]})]}):a.jsx("p",{className:"text-sm",children:N.comment})]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>w(N.id),children:"Reply"}),N.student_id===(t==null?void 0:t.id)&&a.jsxs(a.Fragment,{children:[a.jsx(z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>y(N.id,N.comment),children:"Edit"}),a.jsx(z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>o(N.id),children:"Delete"})]})]}),p===N.id&&a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsx(It,{value:g,onChange:M=>x(M.target.value),placeholder:"Write a reply...",className:"min-h-[60px]"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{size:"sm",onClick:()=>_(N.id),children:"Reply"}),a.jsx(z,{size:"sm",variant:"outline",onClick:()=>{w(null),x("")},children:"Cancel"})]})]})]})]}),C(N.id).map(M=>a.jsx(S,{comment:M,depth:E+1},M.id))]})};return n?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Wg,{className:"h-6 w-6 animate-spin text-primary"})}):a.jsx(ve,{children:a.jsxs(ye,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(YA,{className:"h-5 w-5 text-primary"}),a.jsx("h3",{className:"text-xl font-bold",children:"Discussion"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r.length,")"]})]}),a.jsxs("form",{onSubmit:v,className:"mb-6",children:[a.jsx(It,{value:l,onChange:N=>c(N.target.value),placeholder:"Ask a question or share your thoughts...",className:"mb-2"}),a.jsx(z,{type:"submit",children:"Post Comment"})]}),a.jsx("div",{className:"space-y-4",children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No comments yet. Start the discussion!"}):j.map(N=>a.jsx(S,{comment:N},N.id))})]})})},az=({src:e,onProgress:t,onEnded:r})=>{const n=m.useRef(null);return m.useEffect(()=>{const s=n.current;if(!s)return;const i=()=>{if(t&&s.duration){const l=s.currentTime/s.duration*100;t(l)}},o=()=>{r&&r()};return s.addEventListener("timeupdate",i),s.addEventListener("ended",o),()=>{s.removeEventListener("timeupdate",i),s.removeEventListener("ended",o)}},[t,r]),e?a.jsx("div",{className:"aspect-video bg-black",children:a.jsx("video",{ref:n,src:e,controls:!0,className:"w-full h-full",controlsList:"nodownload",children:"Your browser does not support the video tag."})}):a.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No video available"})})},lz=({src:e,title:t})=>e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xo,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:t||"Course Material"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF Document"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>window.open(e,"_blank"),children:[a.jsx(BA,{className:"h-4 w-4 mr-2"}),"Open"]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{const r=document.createElement("a");r.href=e,r.download=t||"document.pdf",r.click()},children:[a.jsx(zA,{className:"h-4 w-4 mr-2"}),"Download"]})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",style:{height:"600px"},children:a.jsx("iframe",{src:e,className:"w-full h-full",title:t||"PDF Viewer"})})]}):a.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Xo,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No PDF available"})]})});var sy="Radio",[cz,Ek]=Gt(sy),[uz,dz]=cz(sy),Nk=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=m.useState(null),p=Se(t,x=>h(x)),w=m.useRef(!1),g=f?u||!!f.closest("form"):!0;return a.jsxs(uz,{scope:r,checked:s,disabled:o,children:[a.jsx(le.button,{type:"button",role:"radio","aria-checked":s,"data-state":Pk(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:G(e.onClick,x=>{s||c==null||c(),g&&(w.current=x.isPropagationStopped(),w.current||x.stopPropagation())})}),g&&a.jsx(Tk,{control:f,bubbles:!w.current,name:n,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Nk.displayName=sy;var kk="RadioIndicator",Rk=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=dz(kk,r);return a.jsx(Mt,{present:n||i.checked,children:a.jsx(le.span,{"data-state":Pk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});Rk.displayName=kk;var fz="RadioBubbleInput",Tk=m.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=m.useRef(null),l=Se(o,i),c=Hv(r),u=nv(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(w)}},[c,r,n]),a.jsx(le.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Tk.displayName=fz;function Pk(e){return e?"checked":"unchecked"}var hz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ff="RadioGroup",[mz,jV]=Gt(Ff,[Qa,Ek]),Ak=Qa(),Ok=Ek(),[pz,gz]=mz(Ff),Ik=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=Ak(r),w=Ga(u),[g,x]=is({prop:i,defaultProp:s??null,onChange:f,caller:Ff});return a.jsx(pz,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:x,children:a.jsx(Tv,{asChild:!0,...p,orientation:c,dir:w,loop:d,children:a.jsx(le.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...h,ref:t})})})});Ik.displayName=Ff;var Dk="RadioGroupItem",Mk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=gz(Dk,r),o=i.disabled||n,l=Ak(r),c=Ok(r),u=m.useRef(null),d=Se(t,u),f=i.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=g=>{hz.includes(g.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),a.jsx(Pv,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(Nk,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:G(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:G(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});Mk.displayName=Dk;var vz="RadioGroupIndicator",Lk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Ok(r);return a.jsx(Rk,{...s,...n,ref:t})});Lk.displayName=vz;var $k=Ik,Fk=Mk,yz=Lk;const iy=m.forwardRef(({className:e,...t},r)=>a.jsx($k,{className:te("grid gap-2",e),...t,ref:r}));iy.displayName=$k.displayName;const $d=m.forwardRef(({className:e,...t},r)=>a.jsx(Fk,{ref:r,className:te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(yz,{className:"flex items-center justify-center",children:a.jsx(zj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$d.displayName=Fk.displayName;const xz=({lessonId:e,onComplete:t})=>{const{user:r}=nt(),[n,s]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(0),[u,d]=m.useState(""),[f,h]=m.useState({}),[p,w]=m.useState(!1),[g,x]=m.useState(0),[v,y]=m.useState(!0),[b,_]=m.useState(null);m.useEffect(()=>{j()},[e]),m.useEffect(()=>{if(b===null||b<=0)return;const M=setInterval(()=>{_(O=>O===null||O<=1?(S(),0):O-1)},1e3);return()=>clearInterval(M)},[b]);const j=async()=>{try{const{data:M,error:O}=await F.from("quizzes").select("*").eq("lesson_id",e).single();if(O)throw O;s(M),M.time_limit_minutes&&_(M.time_limit_minutes*60);const{data:U,error:$}=await F.from("quiz_questions").select("*").eq("quiz_id",M.id).order("order_index");if($)throw $;o(U||[])}catch{V.error("Failed to load quiz")}finally{y(!1)}},C=()=>{u&&(h({...f,[i[l].id]:u}),d(""),l<i.length-1?c(l+1):S())},S=async()=>{const M={...f};u&&i[l]&&(M[i[l].id]=u);let O=0;i.forEach(X=>{M[X.id]===X.correct_answer&&O++});const U=Math.round(O/i.length*100);x(U);const $=U>=n.passing_score;try{await F.from("quiz_attempts").insert({quiz_id:n.id,student_id:r==null?void 0:r.id,score:U,answers:M,passed:$}),$&&t&&t()}catch{V.error("Failed to save quiz results")}w(!0)},N=M=>{const O=Math.floor(M/60),U=M%60;return`${O}:${U.toString().padStart(2,"0")}`};if(v)return a.jsx("div",{className:"text-center py-8",children:"Loading quiz..."});if(!n||i.length===0)return a.jsx(ve,{children:a.jsx(ye,{className:"py-12 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No quiz available for this lesson"})})});if(p){const M=g>=n.passing_score;return a.jsxs(ve,{children:[a.jsx(Ve,{children:a.jsx(qe,{className:"text-center",children:"Quiz Results"})}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[M?a.jsx(tc,{className:"h-20 w-20 text-green-500 mx-auto mb-4"}):a.jsx(Sa,{className:"h-20 w-20 text-destructive mx-auto mb-4"}),a.jsxs("h3",{className:"text-3xl font-bold mb-2",children:[g,"%"]}),a.jsx("p",{className:"text-muted-foreground",children:M?"Congratulations! You passed!":`You need ${n.passing_score}% to pass`})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Correct Answers:"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(g/100*i.length)," / ",i.length]})]}),a.jsx(Ta,{value:g})]}),a.jsx("div",{className:"space-y-3",children:i.map((O,U)=>{const $=f[O.id],X=$===O.correct_answer;return a.jsx(ve,{className:X?"border-green-500":"border-destructive",children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[X?a.jsx(tc,{className:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}):a.jsx(Sa,{className:"h-5 w-5 text-destructive shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium mb-2",children:[U+1,". ",O.question]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your answer: ",a.jsx("span",{className:X?"text-green-500":"text-destructive",children:$})]}),!X&&a.jsxs("p",{className:"text-sm text-green-500",children:["Correct answer: ",O.correct_answer]}),O.explanation&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:O.explanation})]})]})})},O.id)})}),a.jsx(z,{onClick:()=>window.location.reload(),className:"w-full",children:"Retake Quiz"})]})]})}const E=i[l],P=E.options;return a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:n.title}),b!==null&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Xi,{className:"h-4 w-4"}),a.jsx("span",{className:b<60?"text-destructive font-bold":"",children:N(b)})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Question ",l+1," of ",i.length]}),a.jsxs("span",{children:["Passing Score: ",n.passing_score,"%"]})]}),a.jsx(Ta,{value:(l+1)/i.length*100})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:E.question}),a.jsx(iy,{value:u,onValueChange:d,children:a.jsx("div",{className:"space-y-3",children:P.map((M,O)=>a.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted transition-colors cursor-pointer",children:[a.jsx($d,{value:M,id:`option-${O}`}),a.jsx(fe,{htmlFor:`option-${O}`,className:"flex-1 cursor-pointer",children:M})]},O))})})]}),a.jsx(z,{onClick:C,disabled:!u,className:"w-full",children:l<i.length-1?"Next Question":"Submit Quiz"})]})]})},wz=()=>{const{id:e}=yv(),t=Qt(),{user:r}=nt(),[n,s]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState([]),[u,d]=m.useState(null),[f,h]=m.useState([]),[p,w]=m.useState(null);m.useEffect(()=>{e&&r&&g()},[e,r]);const g=async()=>{try{const{data:_,error:j}=await F.from("enrollments").select("*").eq("course_id",e).eq("student_id",r==null?void 0:r.id).maybeSingle();if(j){console.error("Enrollment error:",j),V.error("Error checking enrollment"),t("/courses");return}if(!_){V.error("You are not enrolled in this course"),t(`/courses/${e}`);return}w(_);const{data:C,error:S}=await F.from("courses").select("*").eq("id",e).maybeSingle();if(S||!C){console.error("Course error:",S),V.error("Course not found"),t("/courses");return}o(C);const{data:N,error:E}=await F.from("lessons").select("*").eq("course_id",e).order("order_index");if(E){console.error("Lessons error:",E),V.error("Failed to load lessons");return}c(N||[]);const{data:P,error:M}=await F.from("lesson_progress").select("*").eq("enrollment_id",_.id);M&&console.error("Progress error:",M),h(P||[]),N&&N.length>0&&d(N[0])}catch(_){console.error("Failed to load course:",_),V.error("Failed to load course"),t("/courses")}finally{s(!1)}},x=_=>f.some(j=>j.lesson_id===_&&j.is_completed),v=async(_,j)=>{try{if(j){const{error:E}=await F.from("lesson_progress").insert({enrollment_id:p==null?void 0:p.id,lesson_id:_,is_completed:!0,completed_at:new Date().toISOString()});if(E)throw E}else{const{error:E}=await F.from("lesson_progress").delete().eq("enrollment_id",p==null?void 0:p.id).eq("lesson_id",_);if(E)throw E}const{data:C}=await F.from("lesson_progress").select("*").eq("enrollment_id",p==null?void 0:p.id);h(C||[]);const S=(C==null?void 0:C.filter(E=>E.is_completed).length)||0,N=Math.round(S/l.length*100);await F.from("enrollments").update({progress_percentage:N}).eq("id",p.id),V.success(j?"Lesson marked as complete":"Lesson unmarked")}catch(C){V.error(C.message)}};if(n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const y=f.filter(_=>_.is_completed).length,b=Math.round(y/l.length*100);return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsx("div",{className:"flex-1 bg-muted/50",children:a.jsxs("div",{className:"container py-8",children:[a.jsxs(z,{variant:"ghost",onClick:()=>t(-1),className:"mb-6",children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Course"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-0",children:[(u==null?void 0:u.lesson_type)==="video"&&(u!=null&&u.video_url?a.jsx(az,{src:u.video_url,onProgress:_=>{_>90&&!x(u.id)&&v(u.id,!0)},onEnded:()=>{x(u.id)||v(u.id,!0)}}):a.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No video available for this lesson"})})),(u==null?void 0:u.lesson_type)==="pdf"&&a.jsx("div",{className:"p-6",children:u!=null&&u.pdf_url?a.jsx(lz,{src:u.pdf_url,title:u.title}):a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Xo,{className:"h-16 w-16 mx-auto mb-4"}),a.jsx("p",{children:"No PDF document available for this lesson"})]})}),(u==null?void 0:u.lesson_type)==="text"&&a.jsxs("div",{className:"p-8",children:[a.jsx(Xo,{className:"h-12 w-12 text-primary mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:u==null?void 0:u.title}),a.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(u==null?void 0:u.content)||(u==null?void 0:u.description)||""}})]}),(u==null?void 0:u.lesson_type)==="quiz"&&a.jsx("div",{className:"p-6",children:a.jsx(xz,{lessonId:u==null?void 0:u.id,onComplete:()=>{v(u.id,!0),V.success("Quiz completed! Moving to next lesson...");const _=l.findIndex(j=>j.id===u.id);_<l.length-1&&d(l[_+1])}})})]})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs($f,{defaultValue:"overview",children:[a.jsxs(Mc,{className:"w-full grid grid-cols-3",children:[a.jsx(Vt,{value:"overview",children:"Overview"}),a.jsx(Vt,{value:"notes",children:"Notes"}),a.jsx(Vt,{value:"discussion",children:"Discussion"})]}),a.jsxs(qt,{value:"overview",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:u==null?void 0:u.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[u==null?void 0:u.duration_minutes," minutes"]})]}),(u==null?void 0:u.lesson_type)!=="quiz"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fk,{checked:x(u==null?void 0:u.id),onCheckedChange:_=>v(u==null?void 0:u.id,_)}),a.jsx("span",{className:"text-sm",children:"Mark as complete"})]})]}),a.jsx("p",{className:"text-muted-foreground",children:u==null?void 0:u.description})]}),a.jsx(qt,{value:"notes",className:"space-y-4",children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(rc,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("p",{children:"Notes feature coming soon!"})]})}),a.jsx(qt,{value:"discussion",children:u&&a.jsx(oz,{lessonId:u.id})})]})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Course Progress"}),a.jsx(Ta,{value:b,className:"mb-2"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," of ",l.length," lessons completed"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Course Content"}),a.jsx("div",{className:"space-y-2",children:l.map((_,j)=>a.jsx("button",{onClick:()=>d(_),className:`w-full text-left p-3 rounded-lg transition-colors ${(u==null?void 0:u.id)===_.id?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[x(_.id)?a.jsx(tc,{className:"h-5 w-5 text-green-500 shrink-0"}):_.lesson_type==="video"?a.jsx(Vg,{className:"h-5 w-5 shrink-0"}):a.jsx(Xo,{className:"h-5 w-5 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm font-medium truncate",children:[j+1,". ",_.title]}),a.jsxs("p",{className:"text-xs opacity-80",children:[_.duration_minutes," min"]})]})]})},_.id))})]})})]})]})]})})]})},bz=()=>{const{user:e}=nt(),[t,r]=m.useState(!1),[n,s]=m.useState(!1),[i,o]=m.useState(null),[l,c]=m.useState({full_name:"",bio:""});m.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{const{data:h,error:p}=await F.from("profiles").select("*").eq("id",e==null?void 0:e.id).single();if(p)throw p;o(h),c({full_name:h.full_name||"",bio:h.bio||""})}catch{V.error("Failed to load profile")}},d=async h=>{var w;const p=(w=h.target.files)==null?void 0:w[0];if(!(!p||!e)){s(!0);try{const g=p.name.split(".").pop(),x=`${e.id}/${Date.now()}.${g}`,{error:v,data:y}=await F.storage.from("avatars").upload(x,p);if(v)throw v;const{data:b}=F.storage.from("avatars").getPublicUrl(y.path),{error:_}=await F.from("profiles").update({avatar_url:b.publicUrl}).eq("id",e.id);if(_)throw _;o({...i,avatar_url:b.publicUrl}),V.success("Avatar updated successfully!")}catch(g){V.error(g.message||"Failed to upload avatar")}finally{s(!1)}}},f=async h=>{if(h.preventDefault(),!!e){r(!0);try{const{error:p}=await F.from("profiles").update(l).eq("id",e.id);if(p)throw p;V.success("Profile updated successfully!"),u()}catch(p){V.error(p.message||"Failed to update profile")}finally{r(!1)}}};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsx("div",{className:"flex-1 bg-muted/50",children:a.jsx("div",{className:"container py-8",children:a.jsxs(ve,{className:"max-w-2xl mx-auto",children:[a.jsx(Ve,{children:a.jsx(qe,{className:"text-3xl",children:"My Profile"})}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs(Zn,{className:"h-24 w-24",children:[a.jsx(Jn,{src:i==null?void 0:i.avatar_url}),a.jsx(Xn,{children:a.jsx(Gg,{className:"h-12 w-12"})})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"avatar",className:"cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[a.jsx(qj,{className:"h-4 w-4"}),n?"Uploading...":"Change Avatar"]})}),a.jsx(ke,{id:"avatar",type:"file",accept:"image/*",className:"hidden",onChange:d,disabled:n}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG or WEBP. Max size 5MB."})]})]}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"email",children:"Email"}),a.jsx(ke,{id:"email",value:(e==null?void 0:e.email)||"",disabled:!0})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"full_name",children:"Full Name"}),a.jsx(ke,{id:"full_name",value:l.full_name,onChange:h=>c({...l,full_name:h.target.value}),placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"bio",children:"Bio"}),a.jsx(It,{id:"bio",value:l.bio,onChange:h=>c({...l,bio:h.target.value}),placeholder:"Tell us about yourself...",rows:4})]}),a.jsx(z,{type:"submit",disabled:t,className:"w-full",children:t?"Saving...":"Save Changes"})]})]})]})})}),a.jsx(Dn,{})]})};var Be;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Be||(Be={}));var i0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(i0||(i0={}));const ce=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),js=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},H=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Fr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fr.create=e=>new Fr(e);const Dp=(e,t)=>{let r;switch(e.code){case H.invalid_type:e.received===ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case H.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Be.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:r=`Unrecognized key(s) in object: ${Be.joinValues(e.keys,", ")}`;break;case H.invalid_union:r="Invalid input";break;case H.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Be.joinValues(e.options)}`;break;case H.invalid_enum_value:r=`Invalid enum value. Expected ${Be.joinValues(e.options)}, received '${e.received}'`;break;case H.invalid_arguments:r="Invalid function arguments";break;case H.invalid_return_type:r="Invalid function return type";break;case H.invalid_date:r="Invalid date";break;case H.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Be.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case H.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case H.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case H.custom:r="Invalid input";break;case H.invalid_intersection_types:r="Intersection results could not be merged";break;case H.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case H.not_finite:r="Number must be finite";break;default:r=t.defaultError,Be.assertNever(e)}return{message:r}};let _z=Dp;function jz(){return _z}const Sz=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function ne(e,t){const r=jz(),n=Sz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Dp?void 0:Dp].filter(s=>!!s)});e.common.issues.push(n)}class Cr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return be;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Cr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return be;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const be=Object.freeze({status:"aborted"}),wl=e=>({status:"dirty",value:e}),zr=e=>({status:"valid",value:e}),o0=e=>e.status==="aborted",a0=e=>e.status==="dirty",Pa=e=>e.status==="valid",Fd=e=>typeof Promise<"u"&&e instanceof Promise;var ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ue||(ue={}));class ui{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const l0=(e,t)=>{if(Pa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fr(e.common.issues);return this._error=r,this._error}}};function Re(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class ze{get description(){return this._def.description}_getType(t){return js(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Cr,ctx:{common:t.parent.common,data:t.data,parsedType:js(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Fd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:js(t)},s=this._parseSync({data:t,path:n.path,parent:n});return l0(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:js(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Pa(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Pa(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:js(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Fd(s)?s:Promise.resolve(s));return l0(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:H.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Oa({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ei.create(this,this._def)}nullable(){return Ia.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pn.create(this)}promise(){return Vd.create(this,this._def)}or(t){return zd.create([this,t],this._def)}and(t){return Bd.create(this,t,this._def)}transform(t){return new Oa({...Re(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new $p({...Re(this._def),innerType:this,defaultValue:r,typeName:_e.ZodDefault})}brand(){return new Kz({typeName:_e.ZodBranded,type:this,...Re(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Fp({...Re(this._def),innerType:this,catchValue:r,typeName:_e.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return oy.create(this,t)}readonly(){return Up.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Cz=/^c[^\s-]{8,}$/i,Ez=/^[0-9a-z]+$/,Nz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rz=/^[a-z0-9_-]{21}$/i,Tz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Pz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Az=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Oz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qh;const Iz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Mz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Lz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$z=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Fz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Uk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Uz=new RegExp(`^${Uk}$`);function zk(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function zz(e){return new RegExp(`^${zk(e)}$`)}function Bz(e){let t=`${Uk}T${zk(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Vz(e,t){return!!((t==="v4"||!t)&&Iz.test(e)||(t==="v6"||!t)&&Mz.test(e))}function qz(e,t){if(!Tz.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Wz(e,t){return!!((t==="v4"||!t)&&Dz.test(e)||(t==="v6"||!t)&&Lz.test(e))}class zs extends ze{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const i=this._getOrReturnCtx(t);return ne(i,{code:H.invalid_type,expected:ce.string,received:i.parsedType}),be}const n=new Cr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ne(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ne(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Az.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"email",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")qh||(qh=new RegExp(Oz,"u")),qh.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"emoji",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")kz.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"uuid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Rz.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"nanoid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Cz.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"cuid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Ez.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"cuid2",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Nz.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"ulid",code:H.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ne(s,{validation:"url",code:H.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"regex",code:H.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),ne(s,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),ne(s,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),ne(s,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Bz(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{code:H.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Uz.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{code:H.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?zz(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{code:H.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Pz.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"duration",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Vz(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"ip",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?qz(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"jwt",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Wz(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"cidr",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?$z.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"base64",code:H.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Fz.test(t.data)||(s=this._getOrReturnCtx(t,s),ne(s,{validation:"base64url",code:H.invalid_string,message:i.message}),n.dirty()):Be.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:H.invalid_string,...ue.errToObj(n)})}_addCheck(t){return new zs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ue.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ue.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ue.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ue.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ue.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ue.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ue.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ue.errToObj(r)})}nonempty(t){return this.min(1,ue.errToObj(t))}trim(){return new zs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}zs.create=e=>new zs({checks:[],typeName:_e.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Re(e)});function Hz(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class pc extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const i=this._getOrReturnCtx(t);return ne(i,{code:H.invalid_type,expected:ce.number,received:i.parsedType}),be}let n;const s=new Cr;for(const i of this._def.checks)i.kind==="int"?Be.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Hz(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ne(n,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{code:H.not_finite,message:i.message}),s.dirty()):Be.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ue.toString(r))}setLimit(t,r,n,s){return new pc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ue.toString(s)}]})}_addCheck(t){return new pc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Be.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}pc.create=e=>new pc({checks:[],typeName:_e.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Re(e)});class gc extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let n;const s=new Cr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ne(n,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Be.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ne(r,{code:H.invalid_type,expected:ce.bigint,received:r.parsedType}),be}gte(t,r){return this.setLimit("min",t,!0,ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ue.toString(r))}setLimit(t,r,n,s){return new gc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ue.toString(s)}]})}_addCheck(t){return new gc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ue.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gc.create=e=>new gc({checks:[],typeName:_e.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Re(e)});class c0 extends ze{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const n=this._getOrReturnCtx(t);return ne(n,{code:H.invalid_type,expected:ce.boolean,received:n.parsedType}),be}return zr(t.data)}}c0.create=e=>new c0({typeName:_e.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Re(e)});class Ud extends ze{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const i=this._getOrReturnCtx(t);return ne(i,{code:H.invalid_type,expected:ce.date,received:i.parsedType}),be}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ne(i,{code:H.invalid_date}),be}const n=new Cr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),ne(s,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Be.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ud({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ue.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ue.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ud.create=e=>new Ud({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:_e.ZodDate,...Re(e)});class u0 extends ze{_parse(t){if(this._getType(t)!==ce.symbol){const n=this._getOrReturnCtx(t);return ne(n,{code:H.invalid_type,expected:ce.symbol,received:n.parsedType}),be}return zr(t.data)}}u0.create=e=>new u0({typeName:_e.ZodSymbol,...Re(e)});class d0 extends ze{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ne(n,{code:H.invalid_type,expected:ce.undefined,received:n.parsedType}),be}return zr(t.data)}}d0.create=e=>new d0({typeName:_e.ZodUndefined,...Re(e)});class f0 extends ze{_parse(t){if(this._getType(t)!==ce.null){const n=this._getOrReturnCtx(t);return ne(n,{code:H.invalid_type,expected:ce.null,received:n.parsedType}),be}return zr(t.data)}}f0.create=e=>new f0({typeName:_e.ZodNull,...Re(e)});class h0 extends ze{constructor(){super(...arguments),this._any=!0}_parse(t){return zr(t.data)}}h0.create=e=>new h0({typeName:_e.ZodAny,...Re(e)});class m0 extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(t){return zr(t.data)}}m0.create=e=>new m0({typeName:_e.ZodUnknown,...Re(e)});class di extends ze{_parse(t){const r=this._getOrReturnCtx(t);return ne(r,{code:H.invalid_type,expected:ce.never,received:r.parsedType}),be}}di.create=e=>new di({typeName:_e.ZodNever,...Re(e)});class p0 extends ze{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ne(n,{code:H.invalid_type,expected:ce.void,received:n.parsedType}),be}return zr(t.data)}}p0.create=e=>new p0({typeName:_e.ZodVoid,...Re(e)});class Pn extends ze{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ce.array)return ne(r,{code:H.invalid_type,expected:ce.array,received:r.parsedType}),be;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ne(r,{code:o?H.too_big:H.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ne(r,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ne(r,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ui(r,o,r.path,l)))).then(o=>Cr.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new ui(r,o,r.path,l)));return Cr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Pn({...this._def,minLength:{value:t,message:ue.toString(r)}})}max(t,r){return new Pn({...this._def,maxLength:{value:t,message:ue.toString(r)}})}length(t,r){return new Pn({...this._def,exactLength:{value:t,message:ue.toString(r)}})}nonempty(t){return this.min(1,t)}}Pn.create=(e,t)=>new Pn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...Re(t)});function Po(e){if(e instanceof ct){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ei.create(Po(n))}return new ct({...e._def,shape:()=>t})}else return e instanceof Pn?new Pn({...e._def,type:Po(e.element)}):e instanceof ei?ei.create(Po(e.unwrap())):e instanceof Ia?Ia.create(Po(e.unwrap())):e instanceof uo?uo.create(e.items.map(t=>Po(t))):e}class ct extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Be.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ce.object){const u=this._getOrReturnCtx(t);return ne(u,{code:H.invalid_type,expected:ce.object,received:u.parsedType}),be}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof di&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ui(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof di){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ne(s,{code:H.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ui(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Cr.mergeObjectSync(n,u)):Cr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ue.errToObj,new ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ue.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:_e.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ct({...this._def,catchall:t})}pick(t){const r={};for(const n of Be.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ct({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Be.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ct({...this._def,shape:()=>r})}deepPartial(){return Po(this)}partial(t){const r={};for(const n of Be.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new ct({...this._def,shape:()=>r})}required(t){const r={};for(const n of Be.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ei;)i=i._def.innerType;r[n]=i}return new ct({...this._def,shape:()=>r})}keyof(){return Bk(Be.objectKeys(this.shape))}}ct.create=(e,t)=>new ct({shape:()=>e,unknownKeys:"strip",catchall:di.create(),typeName:_e.ZodObject,...Re(t)});ct.strictCreate=(e,t)=>new ct({shape:()=>e,unknownKeys:"strict",catchall:di.create(),typeName:_e.ZodObject,...Re(t)});ct.lazycreate=(e,t)=>new ct({shape:e,unknownKeys:"strip",catchall:di.create(),typeName:_e.ZodObject,...Re(t)});class zd extends ze{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Fr(l.ctx.common.issues));return ne(r,{code:H.invalid_union,unionErrors:o}),be}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Fr(c));return ne(r,{code:H.invalid_union,unionErrors:l}),be}}get options(){return this._def.options}}zd.create=(e,t)=>new zd({options:e,typeName:_e.ZodUnion,...Re(t)});function Mp(e,t){const r=js(e),n=js(t);if(e===t)return{valid:!0,data:e};if(r===ce.object&&n===ce.object){const s=Be.objectKeys(t),i=Be.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Mp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ce.array&&n===ce.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Mp(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ce.date&&n===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bd extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(o0(i)||o0(o))return be;const l=Mp(i.value,o.value);return l.valid?((a0(i)||a0(o))&&r.dirty(),{status:r.value,value:l.data}):(ne(n,{code:H.invalid_intersection_types}),be)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Bd.create=(e,t,r)=>new Bd({left:e,right:t,typeName:_e.ZodIntersection,...Re(r)});class uo extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.array)return ne(n,{code:H.invalid_type,expected:ce.array,received:n.parsedType}),be;if(n.data.length<this._def.items.length)return ne(n,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&n.data.length>this._def.items.length&&(ne(n,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ui(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Cr.mergeArray(r,o)):Cr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new uo({...this._def,rest:t})}}uo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new uo({items:e,typeName:_e.ZodTuple,rest:null,...Re(t)})};class g0 extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.map)return ne(n,{code:H.invalid_type,expected:ce.map,received:n.parsedType}),be;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new ui(n,l,n.path,[u,"key"])),value:i._parse(new ui(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}g0.create=(e,t,r)=>new g0({valueType:t,keyType:e,typeName:_e.ZodMap,...Re(r)});class vc extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.set)return ne(n,{code:H.invalid_type,expected:ce.set,received:n.parsedType}),be;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ne(n,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ne(n,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return be;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new ui(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new vc({...this._def,minSize:{value:t,message:ue.toString(r)}})}max(t,r){return new vc({...this._def,maxSize:{value:t,message:ue.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}vc.create=(e,t)=>new vc({valueType:e,minSize:null,maxSize:null,typeName:_e.ZodSet,...Re(t)});class v0 extends ze{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}v0.create=(e,t)=>new v0({getter:e,typeName:_e.ZodLazy,...Re(t)});class Lp extends ze{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ne(r,{received:r.data,code:H.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:t.data}}get value(){return this._def.value}}Lp.create=(e,t)=>new Lp({value:e,typeName:_e.ZodLiteral,...Re(t)});function Bk(e,t){return new Aa({values:e,typeName:_e.ZodEnum,...Re(t)})}class Aa extends ze{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ne(r,{expected:Be.joinValues(n),received:r.parsedType,code:H.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ne(r,{received:r.data,code:H.invalid_enum_value,options:n}),be}return zr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Aa.create(t,{...this._def,...r})}exclude(t,r=this._def){return Aa.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Aa.create=Bk;class y0 extends ze{_parse(t){const r=Be.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){const s=Be.objectValues(r);return ne(n,{expected:Be.joinValues(s),received:n.parsedType,code:H.invalid_type}),be}if(this._cache||(this._cache=new Set(Be.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Be.objectValues(r);return ne(n,{received:n.data,code:H.invalid_enum_value,options:s}),be}return zr(t.data)}get enum(){return this._def.values}}y0.create=(e,t)=>new y0({values:e,typeName:_e.ZodNativeEnum,...Re(t)});class Vd extends ze{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ce.promise&&r.common.async===!1)return ne(r,{code:H.invalid_type,expected:ce.promise,received:r.parsedType}),be;const n=r.parsedType===ce.promise?r.data:Promise.resolve(r.data);return zr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Vd.create=(e,t)=>new Vd({type:e,typeName:_e.ZodPromise,...Re(t)});class Oa extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{ne(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return be;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?be:c.status==="dirty"||r.value==="dirty"?wl(c.value):c});{if(r.value==="aborted")return be;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?be:l.status==="dirty"||r.value==="dirty"?wl(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?be:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?be:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Pa(o))return be;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Pa(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):be);Be.assertNever(s)}}Oa.create=(e,t,r)=>new Oa({schema:e,typeName:_e.ZodEffects,effect:t,...Re(r)});Oa.createWithPreprocess=(e,t,r)=>new Oa({schema:t,effect:{type:"preprocess",transform:e},typeName:_e.ZodEffects,...Re(r)});class ei extends ze{_parse(t){return this._getType(t)===ce.undefined?zr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ei.create=(e,t)=>new ei({innerType:e,typeName:_e.ZodOptional,...Re(t)});class Ia extends ze{_parse(t){return this._getType(t)===ce.null?zr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ia.create=(e,t)=>new Ia({innerType:e,typeName:_e.ZodNullable,...Re(t)});class $p extends ze{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$p.create=(e,t)=>new $p({innerType:e,typeName:_e.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Re(t)});class Fp extends ze{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Fp.create=(e,t)=>new Fp({innerType:e,typeName:_e.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Re(t)});class x0 extends ze{_parse(t){if(this._getType(t)!==ce.nan){const n=this._getOrReturnCtx(t);return ne(n,{code:H.invalid_type,expected:ce.nan,received:n.parsedType}),be}return{status:"valid",value:t.data}}}x0.create=e=>new x0({typeName:_e.ZodNaN,...Re(e)});class Kz extends ze{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class oy extends ze{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?be:i.status==="dirty"?(r.dirty(),wl(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?be:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new oy({in:t,out:r,typeName:_e.ZodPipeline})}}class Up extends ze{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Pa(s)&&(s.value=Object.freeze(s.value)),s);return Fd(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Up.create=(e,t)=>new Up({innerType:e,typeName:_e.ZodReadonly,...Re(t)});ct.lazycreate;var _e;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(_e||(_e={}));const zt=zs.create;di.create;const w0=Pn.create,Uf=ct.create;ct.strictCreate;zd.create;Bd.create;uo.create;const b0=Lp.create,Vk=Aa.create;Vd.create;ei.create;Ia.create;const Gz=Uf({email:zt().email("Invalid email address").max(255),password:zt().min(6,"Password must be at least 6 characters")}),Qz=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,i]=m.useState(!1),{signIn:o,user:l,userRole:c}=nt(),u=Qt();m.useEffect(()=>{l&&c&&u(c==="instructor"?"/dashboard/instructor":c==="student"?"/dashboard/student":"/")},[l,c,u]);const d=async f=>{f.preventDefault(),i(!0);try{const h=Gz.parse({email:e,password:r}),{error:p}=await o(h.email,h.password);p&&V.error(p.message||"Failed to sign in")}catch(h){h instanceof Fr&&V.error(h.errors[0].message)}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(Le,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary",children:a.jsx(kn,{className:"h-7 w-7 text-primary-foreground"})}),a.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"LearnHub"})]}),a.jsxs(ve,{className:"shadow-strong",children:[a.jsxs(Ve,{className:"space-y-1",children:[a.jsx(qe,{className:"text-2xl",children:"Welcome back"}),a.jsx(rn,{children:"Enter your credentials to access your account"})]}),a.jsxs(ye,{children:[a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"email",children:"Email"}),a.jsx(ke,{id:"email",type:"email",placeholder:"name@example.com",value:e,onChange:f=>t(f.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(fe,{htmlFor:"password",children:"Password"}),a.jsx(Le,{to:"/auth/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),a.jsx(ke,{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),required:!0})]}),a.jsx(z,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:s,children:s?"Signing in...":"Sign In"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Don't have an account?"," ",a.jsx(Le,{to:"/auth/register",className:"text-primary font-medium hover:underline",children:"Sign up"})]})]})]})]})})},Yz=Uf({fullName:zt().trim().min(2,"Name must be at least 2 characters").max(100),email:zt().email("Invalid email address").max(255),password:zt().min(6,"Password must be at least 6 characters"),confirmPassword:zt(),userType:Vk(["student","instructor"])}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Zz=()=>{const[e,t]=m.useState({name:"",email:"",password:"",confirmPassword:"",role:"student"}),[r,n]=m.useState(!1),{signUp:s,user:i,userRole:o}=nt(),l=Qt();m.useEffect(()=>{i&&o&&l(o==="instructor"?"/dashboard/instructor":o==="student"?"/dashboard/student":"/")},[i,o,l]);const c=async u=>{u.preventDefault(),n(!0);try{const d=Yz.parse({fullName:e.name,email:e.email,password:e.password,confirmPassword:e.confirmPassword,userType:e.role}),{error:f}=await s(d.email,d.password,d.fullName,d.userType);f&&(f.message.includes("already registered")?V.error("This email is already registered"):V.error(f.message||"Failed to create account"))}catch(d){d instanceof Fr&&V.error(d.errors[0].message)}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(Le,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary",children:a.jsx(kn,{className:"h-7 w-7 text-primary-foreground"})}),a.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"LearnHub"})]}),a.jsxs(ve,{className:"shadow-strong",children:[a.jsxs(Ve,{className:"space-y-1",children:[a.jsx(qe,{className:"text-2xl",children:"Create an account"}),a.jsx(rn,{children:"Join LearnHub and start your learning journey"})]}),a.jsxs(ye,{children:[a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"name",children:"Full Name"}),a.jsx(ke,{id:"name",placeholder:"John Doe",value:e.name,onChange:u=>t({...e,name:u.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"email",children:"Email"}),a.jsx(ke,{id:"email",type:"email",placeholder:"name@example.com",value:e.email,onChange:u=>t({...e,email:u.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"password",children:"Password"}),a.jsx(ke,{id:"password",type:"password",value:e.password,onChange:u=>t({...e,password:u.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(ke,{id:"confirmPassword",type:"password",value:e.confirmPassword,onChange:u=>t({...e,confirmPassword:u.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{children:"I want to"}),a.jsxs(iy,{value:e.role,onValueChange:u=>t({...e,role:u}),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($d,{value:"student",id:"student"}),a.jsx(fe,{htmlFor:"student",className:"font-normal cursor-pointer",children:"Learn as a Student"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($d,{value:"instructor",id:"instructor"}),a.jsx(fe,{htmlFor:"instructor",className:"font-normal cursor-pointer",children:"Teach as an Instructor"})]})]})]}),a.jsx(z,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:r,children:r?"Creating account...":"Create Account"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Already have an account?"," ",a.jsx(Le,{to:"/auth/login",className:"text-primary font-medium hover:underline",children:"Sign in"})]})]})]})]})})},Jz=Uf({email:zt().email("Invalid email address").max(255)}),Xz=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),{resetPassword:s}=nt(),i=async o=>{o.preventDefault(),n(!0);try{const l=Jz.parse({email:e}),{error:c}=await s(l.email);c&&V.error(c.message||"Failed to send reset email")}catch(l){l instanceof Fr&&V.error(l.errors[0].message)}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:a.jsxs(ve,{className:"w-full max-w-md",children:[a.jsxs(Ve,{className:"space-y-1",children:[a.jsxs(Le,{to:"/auth/login",className:"inline-flex items-center text-sm text-muted-foreground hover:text-primary mb-2",children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to login"]}),a.jsx(qe,{className:"text-2xl font-bold",children:"Reset password"}),a.jsx(rn,{children:"Enter your email and we'll send you a link to reset your password"})]}),a.jsx(ye,{children:a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"email",children:"Email"}),a.jsx(ke,{id:"email",type:"email",placeholder:"john@example.com",value:e,onChange:o=>t(o.target.value),required:!0})]}),a.jsx(z,{type:"submit",className:"w-full",disabled:r,children:r?"Sending...":"Send reset link"})]})})]})})},eB=()=>{const{user:e}=nt(),{wishlistItems:t,removeFromWishlist:r}=Wv(),{data:n=[]}=Wt({queryKey:["enrolled-courses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:c,error:u}=await F.from("enrollments").select(`
          *,
          courses (
            *,
            profiles:instructor_id(full_name),
            lessons(id, title, order_index)
          )
        `).eq("student_id",e.id).order("enrolled_at",{ascending:!1});if(u)throw u;return c||[]},enabled:!!(e!=null&&e.id)}),{data:s}=Wt({queryKey:["student-stats",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return{courses:0,hours:0,certificates:0};const{count:c}=await F.from("enrollments").select("*",{count:"exact",head:!0}).eq("student_id",e.id),u=n.map(p=>p.id),{count:d}=u.length>0?await F.from("certificates").select("*",{count:"exact",head:!0}).in("enrollment_id",u):{count:0},f=n.reduce((p,w)=>{var g;return p+(((g=w.courses)==null?void 0:g.duration_hours)||0)},0),h=n.length>0?n.reduce((p,w)=>p+w.progress_percentage,0)/n.length:0;return{courses:c||0,hours:f,certificates:d||0,progress:Math.round(h)}},enabled:!!(e!=null&&e.id)&&n.length>0}),{data:i=[]}=C5(e==null?void 0:e.id),{data:o=[]}=Wt({queryKey:["wishlist-courses",t],queryFn:async()=>{if(!t.length)return[];const{data:c,error:u}=await F.from("courses").select(`
          *,
          profiles:instructor_id(full_name, avatar_url),
          category:categories(name),
          reviews(rating),
          enrollments(id)
        `).in("id",t).eq("status","approved");if(u)throw u;return c||[]},enabled:t.length>0}),l=[{label:"Enrolled Courses",value:(s==null?void 0:s.courses)||0,icon:kn,color:"text-blue-500"},{label:"Hours Learned",value:(s==null?void 0:s.hours)||0,icon:Xi,color:"text-green-500"},{label:"Certificates",value:(s==null?void 0:s.certificates)||0,icon:Ax,color:"text-purple-500"},{label:"Progress",value:`${(s==null?void 0:s.progress)||0}%`,icon:Kg,color:"text-orange-500"}];return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsx("div",{className:"flex-1 bg-muted/50",children:a.jsxs("div",{className:"container py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"My Learning Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your progress and continue learning"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:l.map(c=>a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:c.label}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:c.value})]}),a.jsx(c.icon,{className:`h-8 w-8 ${c.color}`})]})})},c.label))}),a.jsxs(ve,{className:"mb-8",children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:"Continue Learning"}),a.jsx(Le,{to:"/courses",children:a.jsx(z,{variant:"ghost",children:"Browse More "})})]})}),a.jsx(ye,{children:n.filter(c=>c.progress_percentage<100).length>0?a.jsx("div",{className:"space-y-6",children:n.filter(c=>c.progress_percentage<100).map(c=>{var f,h;const u=c.courses,d=(f=u==null?void 0:u.lessons)==null?void 0:f[0];return a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 border rounded-lg hover:shadow-soft transition-all",children:[a.jsxs("div",{className:"relative w-full sm:w-48 aspect-video bg-muted rounded overflow-hidden shrink-0",children:[a.jsx("img",{src:(u==null?void 0:u.thumbnail_url)||"/placeholder.svg",alt:u==null?void 0:u.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:a.jsx(Vg,{className:"h-12 w-12 text-primary-foreground"})})]}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1",children:u==null?void 0:u.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",((h=u==null?void 0:u.profiles)==null?void 0:h.full_name)||"Unknown Instructor"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[c.progress_percentage,"%"]})]}),a.jsx(Ta,{value:c.progress_percentage,className:"h-2"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",children:d&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-muted-foreground",children:"Next: "}),a.jsx("span",{className:"font-medium",children:d.title})]})}),a.jsx(Le,{to:`/courses/${u==null?void 0:u.id}/learn`,children:a.jsx(z,{variant:"hero",children:"Continue Learning"})})]})]})]},c.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't enrolled in any courses yet"}),a.jsx(Le,{to:"/courses",children:a.jsx(z,{variant:"hero",children:"Browse Courses"})})]})})]}),n.filter(c=>c.progress_percentage>=100).length>0&&a.jsxs(ve,{className:"mb-8",children:[a.jsx(Ve,{children:a.jsx(qe,{children:"Completed Courses"})}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.filter(c=>c.progress_percentage>=100).map(c=>{const u=c.courses;return a.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg hover:shadow-soft transition-all",children:[a.jsxs("div",{className:"relative w-32 aspect-video bg-muted rounded overflow-hidden shrink-0",children:[a.jsx("img",{src:(u==null?void 0:u.thumbnail_url)||"/placeholder.svg",alt:u==null?void 0:u.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:a.jsx(tc,{className:"h-8 w-8 text-green-500"})})]}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:u==null?void 0:u.title}),a.jsx(kt,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Completed"}),a.jsx(Le,{to:`/courses/${u==null?void 0:u.id}/learn`,children:a.jsx(z,{variant:"outline",size:"sm",className:"w-full",children:"Review Course"})})]})]},c.id)})})})]}),o.length>0&&a.jsxs(ve,{className:"mb-8",children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(qe,{className:"flex items-center gap-2",children:[a.jsx(qg,{className:"h-5 w-5 text-primary"}),"My Wishlist"]}),a.jsx(Le,{to:"/courses",children:a.jsx(z,{variant:"ghost",children:"Browse More "})})]})}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(c=>{var u,d,f;return a.jsxs("div",{className:"relative group",children:[a.jsx("button",{onClick:()=>r(c.id),className:"absolute top-2 right-2 z-10 p-1.5 rounded-full bg-background/80 backdrop-blur-sm hover:bg-destructive hover:text-destructive-foreground transition-all opacity-0 group-hover:opacity-100","aria-label":"Remove from wishlist",children:a.jsx(Ys,{className:"h-4 w-4"})}),a.jsx(Id,{id:c.id,title:c.title,instructor:((u=c.profiles)==null?void 0:u.full_name)||"Unknown Instructor",duration:`${c.duration_hours||0}h`,students:((d=c.enrollments)==null?void 0:d.length)||0,rating:c.reviews&&c.reviews.length>0?parseFloat((c.reviews.reduce((h,p)=>h+p.rating,0)/c.reviews.length).toFixed(1)):0,price:c.price>0?`$${c.price}`:"Free",image:c.thumbnail_url||"/placeholder.svg",category:((f=c.category)==null?void 0:f.name)||"Uncategorized",level:c.level})]},c.id)})})})]}),i.length>0&&a.jsxs(ve,{className:"mb-8",children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:"Recommended for You"}),a.jsx(Le,{to:"/courses",children:a.jsx(z,{variant:"ghost",children:"View All "})})]})}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.slice(0,3).map(c=>{var u,d,f;return a.jsx(Id,{id:c.id,title:c.title,instructor:((u=c.instructor_profile)==null?void 0:u.full_name)||"Unknown Instructor",duration:`${c.duration_hours||0}h`,students:((d=c.enrollments)==null?void 0:d.length)||0,rating:c.reviews&&c.reviews.length>0?parseFloat((c.reviews.reduce((h,p)=>h+p.rating,0)/c.reviews.length).toFixed(1)):0,price:c.price>0?`$${c.price}`:"Free",image:c.thumbnail_url||"/placeholder.svg",category:((f=c.category)==null?void 0:f.name)||"Uncategorized",level:c.level},c.id)})})})]}),a.jsxs(ve,{children:[a.jsx(Ve,{children:a.jsx(qe,{children:"Achievements & Certificates"})}),a.jsx(ye,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ax,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s!=null&&s.certificates?`You have earned ${s.certificates} certificate${s.certificates>1?"s":""}!`:"Complete your first course to earn a certificate!"}),a.jsx(Le,{to:"/courses",children:a.jsx(z,{variant:"hero",children:"Browse Courses"})})]})})]})]})}),a.jsx(Dn,{})]})},tB=()=>{const{user:e}=nt();return Wt({queryKey:["instructor-stats",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{data:t,error:r}=await F.from("courses").select("*").eq("instructor_id",e.id).order("created_at",{ascending:!1});if(r)throw r;const n=(t==null?void 0:t.map(u=>u.id))||[];let s=0,i=0,o=[];if(n.length>0){const{data:u}=await F.from("enrollments").select("id, course_id").in("course_id",n);s=(u==null?void 0:u.length)||0;const{data:d}=await F.from("payments").select("amount, course_id").in("course_id",n).eq("status","completed");i=(d==null?void 0:d.reduce((f,h)=>f+Number(h.amount),0))||0,o=await Promise.all(t.map(async f=>{const h=(u==null?void 0:u.filter(v=>v.course_id===f.id))||[],w=((d==null?void 0:d.filter(v=>v.course_id===f.id))||[]).reduce((v,y)=>v+Number(y.amount),0),{data:g}=await F.from("reviews").select("rating").eq("course_id",f.id),x=g!=null&&g.length?(g.reduce((v,y)=>v+y.rating,0)/g.length).toFixed(1):"0";return{...f,students:h.length,revenue:`$${w.toFixed(2)}`,rating:x}}))}const{data:l}=await F.from("reviews").select("rating").in("course_id",n),c=l!=null&&l.length?(l.reduce((u,d)=>u+d.rating,0)/l.length).toFixed(1):"0";return{totalStudents:s,totalRevenue:i,totalCourses:(t==null?void 0:t.length)||0,avgRating:c,courses:o}},enabled:!!(e!=null&&e.id)})},rB=()=>{const{data:e,isLoading:t}=tB(),r=[{label:"Total Students",value:(e==null?void 0:e.totalStudents.toLocaleString())||"0",icon:nc,color:"text-blue-500"},{label:"Total Revenue",value:`$${(e==null?void 0:e.totalRevenue.toFixed(2))||"0"}`,icon:UA,color:"text-green-500"},{label:"Courses",value:(e==null?void 0:e.totalCourses.toString())||"0",icon:kn,color:"text-purple-500"},{label:"Avg Rating",value:(e==null?void 0:e.avgRating)||"0",icon:Kg,color:"text-orange-500"}];return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsx("div",{className:"flex-1 bg-muted/50",children:a.jsxs("div",{className:"container py-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Instructor Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your courses and track performance"})]}),a.jsx(Le,{to:"/instructor/courses/create",children:a.jsxs(z,{variant:"hero",size:"lg",children:[a.jsx(eo,{className:"h-5 w-5 mr-2"}),"Create New Course"]})})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map(n=>a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:n.value})]}),a.jsx(n.icon,{className:`h-8 w-8 ${n.color}`})]})})},n.label))}),a.jsxs(ve,{className:"mb-8",children:[a.jsx(Ve,{children:a.jsx(qe,{children:"My Courses"})}),a.jsx(ye,{children:!(e!=null&&e.courses)||e.courses.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(kn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No courses yet. Create your first course to get started!"})]}):a.jsx("div",{className:"space-y-4",children:e.courses.map(n=>a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 border rounded-lg hover:shadow-soft transition-all",children:[a.jsx("div",{className:"w-full sm:w-48 aspect-video bg-muted rounded overflow-hidden shrink-0",children:n.thumbnail_url?a.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:a.jsx(kn,{className:"h-12 w-12 text-muted-foreground"})})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:n.title}),a.jsx(kt,{variant:"secondary",children:n.status})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Students"}),a.jsx("p",{className:"font-semibold",children:n.students.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Revenue"}),a.jsx("p",{className:"font-semibold",children:n.revenue})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Rating"}),a.jsxs("p",{className:"font-semibold",children:[n.rating," "]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Le,{to:`/instructor/courses/${n.id}/edit`,children:a.jsxs(z,{variant:"outline",size:"sm",children:[a.jsx(JA,{className:"h-4 w-4 mr-2"}),"Edit Course"]})}),a.jsx(Le,{to:`/courses/${n.id}`,children:a.jsxs(z,{variant:"outline",size:"sm",children:[a.jsx(MA,{className:"h-4 w-4 mr-2"}),"View Course"]})})]})]})]},n.id))})})]}),a.jsxs(ve,{children:[a.jsx(Ve,{children:a.jsx(qe,{children:"Quick Actions"})}),a.jsx(ye,{children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Le,{to:"/instructor/courses/create",children:a.jsxs(z,{variant:"outline",className:"w-full justify-start",size:"lg",children:[a.jsx(eo,{className:"h-5 w-5 mr-2"}),"Create New Course"]})}),a.jsx(Le,{to:"/messages",children:a.jsxs(z,{variant:"outline",className:"w-full justify-start",size:"lg",children:[a.jsx(nc,{className:"h-5 w-5 mr-2"}),"View Messages"]})})]})})]})]})}),a.jsx(Dn,{})]})},qk=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:te("w-full caption-bottom text-sm",e),...t})}));qk.displayName="Table";const Wk=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:te("[&_tr]:border-b",e),...t}));Wk.displayName="TableHeader";const Hk=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:te("[&_tr:last-child]:border-0",e),...t}));Hk.displayName="TableBody";const nB=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nB.displayName="TableFooter";const zp=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:te("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));zp.displayName="TableRow";const Ao=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ao.displayName="TableHead";const Oo=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Oo.displayName="TableCell";const sB=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:te("mt-4 text-sm text-muted-foreground",e),...t}));sB.displayName="TableCaption";const iB=()=>{const e=cs(),[t,r]=m.useState(null),[n,s]=m.useState(""),{data:i=[],isLoading:o}=Wt({queryKey:["complaints"],queryFn:async()=>{const{data:x,error:v}=await F.from("complaints").select("*").order("created_at",{ascending:!1});if(v)throw v;if(!x||x.length===0)return[];const y=[...new Set(x.map(j=>j.user_id))],{data:b}=await F.from("profiles").select("id, full_name, avatar_url").in("id",y),{data:_}=await F.from("user_roles").select("user_id, role").in("user_id",y);return x.map(j=>{var C;return{...j,profiles:b==null?void 0:b.find(S=>S.id===j.user_id),user_role:((C=_==null?void 0:_.find(S=>S.user_id===j.user_id))==null?void 0:C.role)||"student"}})}}),l=Ht({mutationFn:async({id:x,status:v,adminResponse:y})=>{const b={status:v,responded_at:new Date().toISOString()};y&&(b.admin_response=y);const{error:_}=await F.from("complaints").update(b).eq("id",x);if(_)throw _},onSuccess:()=>{e.invalidateQueries({queryKey:["complaints"]}),V.success("Complaint updated successfully"),r(null),s("")}}),c=x=>{switch(x){case"open":return a.jsx(Xi,{className:"h-4 w-4"});case"in_progress":return a.jsx(rc,{className:"h-4 w-4"});case"resolved":return a.jsx(tc,{className:"h-4 w-4"});case"closed":return a.jsx(Sa,{className:"h-4 w-4"});default:return null}},u=x=>{switch(x){case"open":return"bg-red-500/10 text-red-600 border-red-500/20";case"in_progress":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"resolved":return"bg-green-500/10 text-green-600 border-green-500/20";case"closed":return"bg-gray-500/10 text-gray-600 border-gray-500/20";default:return""}},d=x=>{switch(x){case"complaint":return"bg-red-500/10 text-red-600 border-red-500/20";case"inquiry":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"technical":return"bg-purple-500/10 text-purple-600 border-purple-500/20";case"feedback":return"bg-green-500/10 text-green-600 border-green-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},f=x=>x==="instructor"?a.jsx(qA,{className:"h-4 w-4"}):a.jsx(Gg,{className:"h-4 w-4"}),h=x=>x==="instructor"?"bg-purple-500/10 text-purple-600 border-purple-500/20":"bg-blue-500/10 text-blue-600 border-blue-500/20",p=x=>x?i.filter(v=>v.user_role===x):i,w=x=>x?i.filter(v=>v.category===x):i;if(o)return a.jsx("div",{className:"text-center py-8",children:"Loading complaints..."});const g=({complaintsToShow:x})=>x.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No complaints found in this category."}):a.jsx("div",{className:"space-y-4",children:x.map(v=>{var y;return a.jsxs(ve,{children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(qe,{className:"text-lg mb-2",children:v.subject}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx("span",{children:((y=v.profiles)==null?void 0:y.full_name)||"Unknown User"}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(v.created_at).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{variant:"outline",className:h(v.user_role),children:a.jsxs("span",{className:"flex items-center gap-1",children:[f(v.user_role),v.user_role==="instructor"?"Instructor":"Student"]})}),v.category&&a.jsx(kt,{variant:"outline",className:d(v.category),children:v.category})]})]}),a.jsx(kt,{variant:"outline",className:u(v.status),children:a.jsxs("span",{className:"flex items-center gap-1",children:[c(v.status),v.status]})})]})}),a.jsxs(ye,{children:[a.jsx("p",{className:"mb-4",children:v.description||v.message}),v.admin_response&&a.jsxs("div",{className:"bg-muted p-4 rounded-lg mb-4",children:[a.jsx("p",{className:"text-sm font-semibold mb-2",children:"Admin Response:"}),a.jsx("p",{className:"text-sm",children:v.admin_response})]}),(t==null?void 0:t.id)===v.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx(It,{placeholder:"Write your response here...",value:n,onChange:b=>s(b.target.value),rows:4}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{onClick:()=>{l.mutate({id:v.id,status:"resolved",adminResponse:n})},disabled:!n.trim()||l.isPending,children:"Send Response"}),a.jsx(z,{variant:"outline",onClick:()=>{r(null),s("")},children:"Cancel"})]})]}):v.status!=="resolved"&&a.jsx(z,{onClick:()=>r(v),variant:"outline",children:"Respond to Complaint"})]})]},v.id)})});return a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsx(qe,{children:"Complaints & Messages Management"}),a.jsx(rn,{children:"View and respond to student and instructor complaints organized by category"})]}),a.jsx(ye,{children:a.jsxs($f,{defaultValue:"all",children:[a.jsxs(Mc,{className:"grid w-full grid-cols-5",children:[a.jsxs(Vt,{value:"all",children:["All (",i.length,")"]}),a.jsxs(Vt,{value:"students",children:["Students (",p("student").length,")"]}),a.jsxs(Vt,{value:"instructors",children:["Instructors (",p("instructor").length,")"]}),a.jsxs(Vt,{value:"complaints",children:["Complaints (",w("complaint").length,")"]}),a.jsxs(Vt,{value:"inquiries",children:["Inquiries (",w("inquiry").length,")"]})]}),a.jsx(qt,{value:"all",className:"mt-4",children:a.jsx(g,{complaintsToShow:i})}),a.jsx(qt,{value:"students",className:"mt-4",children:a.jsx(g,{complaintsToShow:p("student")})}),a.jsx(qt,{value:"instructors",className:"mt-4",children:a.jsx(g,{complaintsToShow:p("instructor")})}),a.jsx(qt,{value:"complaints",className:"mt-4",children:a.jsx(g,{complaintsToShow:w("complaint")})}),a.jsx(qt,{value:"inquiries",className:"mt-4",children:a.jsx(g,{complaintsToShow:w("inquiry")})})]})})]})},oB=()=>{const{user:e,userRole:t}=nt(),r=Qt(),[n,s]=m.useState(!0),[i,o]=m.useState({totalStudents:0,totalInstructors:0,totalCourses:0,pendingCourses:0,approvedCourses:0,rejectedCourses:0}),[l,c]=m.useState([]),[u,d]=m.useState(null),[f,h]=m.useState(""),[p,w]=m.useState(!1),[g,x]=m.useState(!1);m.useEffect(()=>{if(!e||t!=="admin"){r("/");return}v(),y()},[e,t]);const v=async()=>{try{const{count:S}=await F.from("user_roles").select("*",{count:"exact",head:!0}).eq("role","student"),{count:N}=await F.from("user_roles").select("*",{count:"exact",head:!0}).eq("role","instructor"),{data:E}=await F.from("courses").select("status"),P=(E==null?void 0:E.filter(U=>U.status==="pending").length)||0,M=(E==null?void 0:E.filter(U=>U.status==="approved").length)||0,O=(E==null?void 0:E.filter(U=>U.status==="rejected").length)||0;o({totalStudents:S||0,totalInstructors:N||0,totalCourses:M,pendingCourses:P,approvedCourses:M,rejectedCourses:O})}catch(S){console.error("Error fetching stats:",S),V.error("Failed to load statistics")}finally{s(!1)}},y=async()=>{try{const{data:S,error:N}=await F.from("courses").select("*").order("created_at",{ascending:!1});if(N)throw N;if(S&&S.length>0){const E=[...new Set(S.map(O=>O.instructor_id))],{data:P}=await F.from("profiles").select("id, full_name").in("id",E),M=S.map(O=>({...O,profiles:(P==null?void 0:P.find(U=>U.id===O.instructor_id))||{full_name:"Unknown"}}));c(M)}else c([])}catch(S){console.error("Error fetching courses:",S),V.error("Failed to load courses")}},b=async S=>{w(!0);try{const{error:N}=await F.from("courses").update({status:"approved",is_published:!0,reviewed_by:e==null?void 0:e.id,reviewed_at:new Date().toISOString(),rejection_reason:null}).eq("id",S);if(N)throw N;const{error:E}=await F.from("course_review_history").insert({course_id:S,reviewer_id:e==null?void 0:e.id,status:"approved"});E&&console.error("History error:",E),V.success("Course approved successfully!"),v(),y()}catch(N){console.error("Error approving course:",N),V.error("Failed to approve course")}finally{w(!1)}},_=async()=>{if(!u||!f.trim()){V.error("Please provide a rejection reason");return}w(!0);try{const{error:S}=await F.from("courses").update({status:"rejected",is_published:!1,reviewed_by:e==null?void 0:e.id,reviewed_at:new Date().toISOString(),rejection_reason:f}).eq("id",u.id);if(S)throw S;const{error:N}=await F.from("course_review_history").insert({course_id:u.id,reviewer_id:e==null?void 0:e.id,status:"rejected",notes:f});N&&console.error("History error:",N),V.success("Course rejected"),x(!1),d(null),h(""),v(),y()}catch(S){console.error("Error rejecting course:",S),V.error("Failed to reject course")}finally{w(!1)}},j=S=>{switch(S){case"pending":return a.jsxs(kt,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:[a.jsx(Xi,{className:"w-3 h-3 mr-1"}),"Pending"]});case"approved":return a.jsxs(kt,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[a.jsx(Hi,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return a.jsxs(kt,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[a.jsx(Sa,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return a.jsx(kt,{variant:"outline",children:S})}},C=S=>S?l.filter(N=>N.status===S):l;return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage platform users and course approvals"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[a.jsxs(ve,{children:[a.jsx(Ve,{className:"pb-2",children:a.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Students"})}),a.jsx(ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:i.totalStudents}),a.jsx(nc,{className:"h-4 w-4 text-muted-foreground"})]})})]}),a.jsxs(ve,{children:[a.jsx(Ve,{className:"pb-2",children:a.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Instructors"})}),a.jsx(ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:i.totalInstructors}),a.jsx(Kg,{className:"h-4 w-4 text-muted-foreground"})]})})]}),a.jsxs(ve,{children:[a.jsx(Ve,{className:"pb-2",children:a.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Courses"})}),a.jsx(ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:i.totalCourses}),a.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]})})]}),a.jsxs(ve,{children:[a.jsx(Ve,{className:"pb-2",children:a.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),a.jsx(ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:i.pendingCourses}),a.jsx(Xi,{className:"h-4 w-4 text-yellow-600"})]})})]}),a.jsxs(ve,{children:[a.jsx(Ve,{className:"pb-2",children:a.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),a.jsx(ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:i.approvedCourses}),a.jsx(Hi,{className:"h-4 w-4 text-green-600"})]})})]}),a.jsxs(ve,{children:[a.jsx(Ve,{className:"pb-2",children:a.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"})}),a.jsx(ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:i.rejectedCourses}),a.jsx(Sa,{className:"h-4 w-4 text-red-600"})]})})]})]}),a.jsxs(ve,{className:"mb-8",children:[a.jsxs(Ve,{children:[a.jsx(qe,{children:"Course Management"}),a.jsx(rn,{children:"Review and manage all courses on the platform"})]}),a.jsx(ye,{children:a.jsxs($f,{defaultValue:"pending",children:[a.jsxs(Mc,{className:"grid w-full grid-cols-4",children:[a.jsx(Vt,{value:"all",children:"All Courses"}),a.jsxs(Vt,{value:"pending",children:["Pending (",i.pendingCourses,")"]}),a.jsx(Vt,{value:"approved",children:"Approved"}),a.jsx(Vt,{value:"rejected",children:"Rejected"})]}),a.jsx(qt,{value:"all",className:"mt-4",children:a.jsx(Cu,{courses:C(),onApprove:b,onReject:S=>{d(S),x(!0)},getStatusBadge:j,actionLoading:p})}),a.jsx(qt,{value:"pending",className:"mt-4",children:a.jsx(Cu,{courses:C("pending"),onApprove:b,onReject:S=>{d(S),x(!0)},getStatusBadge:j,actionLoading:p})}),a.jsx(qt,{value:"approved",className:"mt-4",children:a.jsx(Cu,{courses:C("approved"),onApprove:b,onReject:S=>{d(S),x(!0)},getStatusBadge:j,actionLoading:p,hideActions:!0})}),a.jsx(qt,{value:"rejected",className:"mt-4",children:a.jsx(Cu,{courses:C("rejected"),onApprove:b,onReject:S=>{d(S),x(!0)},getStatusBadge:j,actionLoading:p,showReapprove:!0})})]})})]}),a.jsx(iB,{}),a.jsx(co,{open:g,onOpenChange:x,children:a.jsxs(ai,{children:[a.jsxs(li,{children:[a.jsx(ci,{children:"Reject Course"}),a.jsxs(Dc,{children:['Please provide a reason for rejecting "',u==null?void 0:u.title,'". This will be sent to the instructor.']})]}),a.jsx(It,{placeholder:"Explain why this course cannot be approved...",value:f,onChange:S=>h(S.target.value),rows:5}),a.jsxs(Jv,{children:[a.jsx(z,{variant:"outline",onClick:()=>x(!1),disabled:p,children:"Cancel"}),a.jsx(z,{variant:"destructive",onClick:_,disabled:p,children:p?"Rejecting...":"Reject Course"})]})]})})]}),a.jsx(Dn,{})]})},Cu=({courses:e,onApprove:t,onReject:r,getStatusBadge:n,actionLoading:s,hideActions:i,showReapprove:o})=>e.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No courses found in this category."}):a.jsxs(qk,{children:[a.jsx(Wk,{children:a.jsxs(zp,{children:[a.jsx(Ao,{children:"Course Title"}),a.jsx(Ao,{children:"Instructor"}),a.jsx(Ao,{children:"Status"}),a.jsx(Ao,{children:"Created"}),!i&&a.jsx(Ao,{className:"text-right",children:"Actions"})]})}),a.jsx(Hk,{children:e.map(l=>{var c;return a.jsxs(zp,{children:[a.jsx(Oo,{className:"font-medium",children:l.title}),a.jsx(Oo,{children:((c=l.profiles)==null?void 0:c.full_name)||"Unknown"}),a.jsx(Oo,{children:n(l.status)}),a.jsx(Oo,{children:new Date(l.created_at).toLocaleDateString()}),!i&&a.jsx(Oo,{className:"text-right space-x-2",children:(l.status==="pending"||o)&&a.jsxs(a.Fragment,{children:[a.jsxs(z,{size:"sm",variant:"outline",className:"bg-green-500/10 text-green-600 hover:bg-green-500/20 border-green-500/20",onClick:()=>t(l.id),disabled:s,children:[a.jsx(Hi,{className:"w-4 h-4 mr-1"}),"Approve"]}),a.jsxs(z,{size:"sm",variant:"outline",className:"bg-red-500/10 text-red-600 hover:bg-red-500/20 border-red-500/20",onClick:()=>r(l),disabled:s,children:[a.jsx(Sa,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},l.id)})})]});var Lc=e=>e.type==="checkbox",Ii=e=>e instanceof Date,tr=e=>e==null;const Kk=e=>typeof e=="object";var mt=e=>!tr(e)&&!Array.isArray(e)&&Kk(e)&&!Ii(e),aB=e=>mt(e)&&e.target?Lc(e.target)?e.target.checked:e.target.value:e,lB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cB=(e,t)=>e.has(lB(t)),uB=e=>{const t=e.constructor&&e.constructor.prototype;return mt(t)&&t.hasOwnProperty("isPrototypeOf")},ay=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Et(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ay&&(e instanceof Blob||n))&&(r||mt(e)))if(t=r?[]:{},!r&&!uB(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Et(e[s]));else return e;return t}var zf=e=>/^\w*$/.test(e),yt=e=>e===void 0,ly=e=>Array.isArray(e)?e.filter(Boolean):[],cy=e=>ly(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(e,t,r)=>{if(!t||!mt(e))return r;const n=(zf(t)?[t]:cy(t)).reduce((s,i)=>tr(s)?s:s[i],e);return yt(n)||n===e?yt(e[t])?r:e[t]:n},xn=e=>typeof e=="boolean",Qe=(e,t,r)=>{let n=-1;const s=zf(t)?[t]:cy(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=mt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const _0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dB=B.createContext(null);dB.displayName="HookFormContext";var fB=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==nn.all&&(t._proxyFormState[o]=!n||nn.all),e[o]}});return s};const hB=typeof window<"u"?B.useLayoutEffect:B.useEffect;var Cn=e=>typeof e=="string",mB=(e,t,r,n,s)=>Cn(e)?(n&&t.watch.add(e),ae(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ae(r,i))):(n&&(t.watchAll=!0),r),Bp=e=>tr(e)||!Kk(e);function Ns(e,t,r=new WeakSet){if(Bp(e)||Bp(t))return e===t;if(Ii(e)&&Ii(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ii(o)&&Ii(l)||mt(o)&&mt(l)||Array.isArray(o)&&Array.isArray(l)?!Ns(o,l,r):o!==l)return!1}}return!0}var uy=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ml=e=>Array.isArray(e)?e:[e],j0=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},ur=e=>mt(e)&&!Object.keys(e).length,dy=e=>e.type==="file",sn=e=>typeof e=="function",qd=e=>{if(!ay)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Gk=e=>e.type==="select-multiple",fy=e=>e.type==="radio",pB=e=>fy(e)||Lc(e),Wh=e=>qd(e)&&e.isConnected;function gB(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=yt(e)?n++:e[t[n++]];return e}function vB(e){for(const t in e)if(e.hasOwnProperty(t)&&!yt(e[t]))return!1;return!0}function gt(e,t){const r=Array.isArray(t)?t:zf(t)?[t]:cy(t),n=r.length===1?e:gB(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(mt(n)&&ur(n)||Array.isArray(n)&&vB(n))&&gt(e,r.slice(0,-1)),e}var Qk=e=>{for(const t in e)if(sn(e[t]))return!0;return!1};function Wd(e,t={}){const r=Array.isArray(e);if(mt(e)||r)for(const n in e)Array.isArray(e[n])||mt(e[n])&&!Qk(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Wd(e[n],t[n])):tr(e[n])||(t[n]=!0);return t}function Yk(e,t,r){const n=Array.isArray(e);if(mt(e)||n)for(const s in e)Array.isArray(e[s])||mt(e[s])&&!Qk(e[s])?yt(t)||Bp(r[s])?r[s]=Array.isArray(e[s])?Wd(e[s],[]):{...Wd(e[s])}:Yk(e[s],tr(t)?{}:t[s],r[s]):r[s]=!Ns(e[s],t[s]);return r}var cl=(e,t)=>Yk(e,t,Wd(t));const S0={value:!1,isValid:!1},C0={value:!0,isValid:!0};var Zk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yt(e[0].attributes.value)?yt(e[0].value)||e[0].value===""?C0:{value:e[0].value,isValid:!0}:C0:S0}return S0},Jk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>yt(e)?e:t?e===""?NaN:e&&+e:r&&Cn(e)?new Date(e):n?n(e):e;const E0={isValid:!1,value:null};var Xk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,E0):E0;function N0(e){const t=e.ref;return dy(t)?t.files:fy(t)?Xk(e.refs).value:Gk(t)?[...t.selectedOptions].map(({value:r})=>r):Lc(t)?Zk(e.refs).value:Jk(yt(t.value)?e.ref.value:t.value,e)}var yB=(e,t,r,n)=>{const s={};for(const i of e){const o=ae(t,i);o&&Qe(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Hd=e=>e instanceof RegExp,ul=e=>yt(e)?e:Hd(e)?e.source:mt(e)?Hd(e.value)?e.value.source:e.value:e,k0=e=>({isOnSubmit:!e||e===nn.onSubmit,isOnBlur:e===nn.onBlur,isOnChange:e===nn.onChange,isOnAll:e===nn.all,isOnTouch:e===nn.onTouched});const R0="AsyncFunction";var xB=e=>!!e&&!!e.validate&&!!(sn(e.validate)&&e.validate.constructor.name===R0||mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===R0)),wB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),T0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ll=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=ae(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ll(l,t))break}else if(mt(l)&&Ll(l,t))break}}};function P0(e,t,r){const n=ae(e,r);if(n||zf(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=ae(t,i),l=ae(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var bB=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ur(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||nn.all))},_B=(e,t,r)=>!e||!t||e===t||Ml(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),jB=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,SB=(e,t)=>!ly(ae(e,t)).length&&gt(e,t),CB=(e,t,r)=>{const n=Ml(ae(e,r));return Qe(n,"root",t[r]),Qe(e,r,n),e},Hu=e=>Cn(e);function A0(e,t,r="validate"){if(Hu(e)||Array.isArray(e)&&e.every(Hu)||xn(e)&&!e)return{type:r,message:Hu(e)?e:"",ref:t}}var ko=e=>mt(e)&&!Hd(e)?e:{value:e,message:""},O0=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:w,name:g,valueAsNumber:x,mount:v}=e._f,y=ae(r,g);if(!v||t.has(g))return{};const b=l?l[0]:o,_=O=>{s&&b.reportValidity&&(b.setCustomValidity(xn(O)?"":O||""),b.reportValidity())},j={},C=fy(o),S=Lc(o),N=C||S,E=(x||dy(o))&&yt(o.value)&&yt(y)||qd(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=uy.bind(null,g,n,j),M=(O,U,$,X=zn.maxLength,K=zn.minLength)=>{const se=O?U:$;j[g]={type:O?X:K,message:se,ref:o,...P(O?X:K,se)}};if(i?!Array.isArray(y)||!y.length:c&&(!N&&(E||tr(y))||xn(y)&&!y||S&&!Zk(l).isValid||C&&!Xk(l).isValid)){const{value:O,message:U}=Hu(c)?{value:!!c,message:c}:ko(c);if(O&&(j[g]={type:zn.required,message:U,ref:b,...P(zn.required,U)},!n))return _(U),j}if(!E&&(!tr(f)||!tr(h))){let O,U;const $=ko(h),X=ko(f);if(!tr(y)&&!isNaN(y)){const K=o.valueAsNumber||y&&+y;tr($.value)||(O=K>$.value),tr(X.value)||(U=K<X.value)}else{const K=o.valueAsDate||new Date(y),se=D=>new Date(new Date().toDateString()+" "+D),I=o.type=="time",T=o.type=="week";Cn($.value)&&y&&(O=I?se(y)>se($.value):T?y>$.value:K>new Date($.value)),Cn(X.value)&&y&&(U=I?se(y)<se(X.value):T?y<X.value:K<new Date(X.value))}if((O||U)&&(M(!!O,$.message,X.message,zn.max,zn.min),!n))return _(j[g].message),j}if((u||d)&&!E&&(Cn(y)||i&&Array.isArray(y))){const O=ko(u),U=ko(d),$=!tr(O.value)&&y.length>+O.value,X=!tr(U.value)&&y.length<+U.value;if(($||X)&&(M($,O.message,U.message),!n))return _(j[g].message),j}if(p&&!E&&Cn(y)){const{value:O,message:U}=ko(p);if(Hd(O)&&!y.match(O)&&(j[g]={type:zn.pattern,message:U,ref:o,...P(zn.pattern,U)},!n))return _(U),j}if(w){if(sn(w)){const O=await w(y,r),U=A0(O,b);if(U&&(j[g]={...U,...P(zn.validate,U.message)},!n))return _(U.message),j}else if(mt(w)){let O={};for(const U in w){if(!ur(O)&&!n)break;const $=A0(await w[U](y,r),b,U);$&&(O={...$,...P(U,$.message)},_($.message),n&&(j[g]=O))}if(!ur(O)&&(j[g]={ref:b,...O},!n))return j}}return _(!0),j};const EB={mode:nn.onSubmit,reValidateMode:nn.onChange,shouldFocusError:!0};function NB(e={}){let t={...EB,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:sn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=mt(t.defaultValues)||mt(t.values)?Et(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Et(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:j0(),state:j0()},p=t.criteriaMode===nn.all,w=R=>A=>{clearTimeout(u),u=setTimeout(R,A)},g=async R=>{if(!t.disabled&&(d.isValid||f.isValid||R)){const A=t.resolver?ur((await S()).errors):await E(n,!0);A!==r.isValid&&h.state.next({isValid:A})}},x=(R,A)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((R||Array.from(l.mount)).forEach(L=>{L&&(A?Qe(r.validatingFields,L,A):gt(r.validatingFields,L))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ur(r.validatingFields)}))},v=(R,A=[],L,ee,J=!0,Y=!0)=>{if(ee&&L&&!t.disabled){if(o.action=!0,Y&&Array.isArray(ae(n,R))){const ie=L(ae(n,R),ee.argA,ee.argB);J&&Qe(n,R,ie)}if(Y&&Array.isArray(ae(r.errors,R))){const ie=L(ae(r.errors,R),ee.argA,ee.argB);J&&Qe(r.errors,R,ie),SB(r.errors,R)}if((d.touchedFields||f.touchedFields)&&Y&&Array.isArray(ae(r.touchedFields,R))){const ie=L(ae(r.touchedFields,R),ee.argA,ee.argB);J&&Qe(r.touchedFields,R,ie)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=cl(s,i)),h.state.next({name:R,isDirty:M(R,A),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(i,R,A)},y=(R,A)=>{Qe(r.errors,R,A),h.state.next({errors:r.errors})},b=R=>{r.errors=R,h.state.next({errors:r.errors,isValid:!1})},_=(R,A,L,ee)=>{const J=ae(n,R);if(J){const Y=ae(i,R,yt(L)?ae(s,R):L);yt(Y)||ee&&ee.defaultChecked||A?Qe(i,R,A?Y:N0(J._f)):$(R,Y),o.mount&&g()}},j=(R,A,L,ee,J)=>{let Y=!1,ie=!1;const Ie={name:R};if(!t.disabled){if(!L||ee){(d.isDirty||f.isDirty)&&(ie=r.isDirty,r.isDirty=Ie.isDirty=M(),Y=ie!==Ie.isDirty);const Ke=Ns(ae(s,R),A);ie=!!ae(r.dirtyFields,R),Ke?gt(r.dirtyFields,R):Qe(r.dirtyFields,R,!0),Ie.dirtyFields=r.dirtyFields,Y=Y||(d.dirtyFields||f.dirtyFields)&&ie!==!Ke}if(L){const Ke=ae(r.touchedFields,R);Ke||(Qe(r.touchedFields,R,L),Ie.touchedFields=r.touchedFields,Y=Y||(d.touchedFields||f.touchedFields)&&Ke!==L)}Y&&J&&h.state.next(Ie)}return Y?Ie:{}},C=(R,A,L,ee)=>{const J=ae(r.errors,R),Y=(d.isValid||f.isValid)&&xn(A)&&r.isValid!==A;if(t.delayError&&L?(c=w(()=>y(R,L)),c(t.delayError)):(clearTimeout(u),c=null,L?Qe(r.errors,R,L):gt(r.errors,R)),(L?!Ns(J,L):J)||!ur(ee)||Y){const ie={...ee,...Y&&xn(A)?{isValid:A}:{},errors:r.errors,name:R};r={...r,...ie},h.state.next(ie)}},S=async R=>{x(R,!0);const A=await t.resolver(i,t.context,yB(R||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(R),A},N=async R=>{const{errors:A}=await S(R);if(R)for(const L of R){const ee=ae(A,L);ee?Qe(r.errors,L,ee):gt(r.errors,L)}else r.errors=A;return A},E=async(R,A,L={valid:!0})=>{for(const ee in R){const J=R[ee];if(J){const{_f:Y,...ie}=J;if(Y){const Ie=l.array.has(Y.name),Ke=J._f&&xB(J._f);Ke&&d.validatingFields&&x([ee],!0);const ar=await O0(J,l.disabled,i,p,t.shouldUseNativeValidation&&!A,Ie);if(Ke&&d.validatingFields&&x([ee]),ar[Y.name]&&(L.valid=!1,A))break;!A&&(ae(ar,Y.name)?Ie?CB(r.errors,ar,Y.name):Qe(r.errors,Y.name,ar[Y.name]):gt(r.errors,Y.name))}!ur(ie)&&await E(ie,A,L)}}return L.valid},P=()=>{for(const R of l.unMount){const A=ae(n,R);A&&(A._f.refs?A._f.refs.every(L=>!Wh(L)):!Wh(A._f.ref))&&Q(R)}l.unMount=new Set},M=(R,A)=>!t.disabled&&(R&&A&&Qe(i,R,A),!Ns(D(),s)),O=(R,A,L)=>mB(R,l,{...o.mount?i:yt(A)?s:Cn(R)?{[R]:A}:A},L,A),U=R=>ly(ae(o.mount?i:s,R,t.shouldUnregister?ae(s,R,[]):[])),$=(R,A,L={})=>{const ee=ae(n,R);let J=A;if(ee){const Y=ee._f;Y&&(!Y.disabled&&Qe(i,R,Jk(A,Y)),J=qd(Y.ref)&&tr(A)?"":A,Gk(Y.ref)?[...Y.ref.options].forEach(ie=>ie.selected=J.includes(ie.value)):Y.refs?Lc(Y.ref)?Y.refs.forEach(ie=>{(!ie.defaultChecked||!ie.disabled)&&(Array.isArray(J)?ie.checked=!!J.find(Ie=>Ie===ie.value):ie.checked=J===ie.value||!!J)}):Y.refs.forEach(ie=>ie.checked=ie.value===J):dy(Y.ref)?Y.ref.value="":(Y.ref.value=J,Y.ref.type||h.state.next({name:R,values:Et(i)})))}(L.shouldDirty||L.shouldTouch)&&j(R,J,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&T(R)},X=(R,A,L)=>{for(const ee in A){if(!A.hasOwnProperty(ee))return;const J=A[ee],Y=R+"."+ee,ie=ae(n,Y);(l.array.has(R)||mt(J)||ie&&!ie._f)&&!Ii(J)?X(Y,J,L):$(Y,J,L)}},K=(R,A,L={})=>{const ee=ae(n,R),J=l.array.has(R),Y=Et(A);Qe(i,R,Y),J?(h.array.next({name:R,values:Et(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&h.state.next({name:R,dirtyFields:cl(s,i),isDirty:M(R,Y)})):ee&&!ee._f&&!tr(Y)?X(R,Y,L):$(R,Y,L),T0(R,l)&&h.state.next({...r,name:R}),h.state.next({name:o.mount?R:void 0,values:Et(i)})},se=async R=>{o.mount=!0;const A=R.target;let L=A.name,ee=!0;const J=ae(n,L),Y=Ke=>{ee=Number.isNaN(Ke)||Ii(Ke)&&isNaN(Ke.getTime())||Ns(Ke,ae(i,L,Ke))},ie=k0(t.mode),Ie=k0(t.reValidateMode);if(J){let Ke,ar;const $n=A.type?N0(J._f):aB(R),pn=R.type===_0.BLUR||R.type===_0.FOCUS_OUT,$c=!wB(J._f)&&!t.resolver&&!ae(r.errors,L)&&!J._f.deps||jB(pn,ae(r.touchedFields,L),r.isSubmitted,Ie,ie),wi=T0(L,l,pn);Qe(i,L,$n),pn?(J._f.onBlur&&J._f.onBlur(R),c&&c(0)):J._f.onChange&&J._f.onChange(R);const gn=j(L,$n,pn),Fc=!ur(gn)||wi;if(!pn&&h.state.next({name:L,type:R.type,values:Et(i)}),$c)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?pn&&g():pn||g()),Fc&&h.state.next({name:L,...wi?{}:gn});if(!pn&&wi&&h.state.next({...r}),t.resolver){const{errors:Fn}=await S([L]);if(Y($n),ee){const Bf=P0(r.errors,n,L),Uc=P0(Fn,n,Bf.name||L);Ke=Uc.error,L=Uc.name,ar=ur(Fn)}}else x([L],!0),Ke=(await O0(J,l.disabled,i,p,t.shouldUseNativeValidation))[L],x([L]),Y($n),ee&&(Ke?ar=!1:(d.isValid||f.isValid)&&(ar=await E(n,!0)));ee&&(J._f.deps&&T(J._f.deps),C(L,ar,Ke,gn))}},I=(R,A)=>{if(ae(r.errors,A)&&R.focus)return R.focus(),1},T=async(R,A={})=>{let L,ee;const J=Ml(R);if(t.resolver){const Y=await N(yt(R)?R:J);L=ur(Y),ee=R?!J.some(ie=>ae(Y,ie)):L}else R?(ee=(await Promise.all(J.map(async Y=>{const ie=ae(n,Y);return await E(ie&&ie._f?{[Y]:ie}:ie)}))).every(Boolean),!(!ee&&!r.isValid)&&g()):ee=L=await E(n);return h.state.next({...!Cn(R)||(d.isValid||f.isValid)&&L!==r.isValid?{}:{name:R},...t.resolver||!R?{isValid:L}:{},errors:r.errors}),A.shouldFocus&&!ee&&Ll(n,I,R?J:l.mount),ee},D=R=>{const A={...o.mount?i:s};return yt(R)?A:Cn(R)?ae(A,R):R.map(L=>ae(A,L))},W=(R,A)=>({invalid:!!ae((A||r).errors,R),isDirty:!!ae((A||r).dirtyFields,R),error:ae((A||r).errors,R),isValidating:!!ae(r.validatingFields,R),isTouched:!!ae((A||r).touchedFields,R)}),Z=R=>{R&&Ml(R).forEach(A=>gt(r.errors,A)),h.state.next({errors:R?r.errors:{}})},me=(R,A,L)=>{const ee=(ae(n,R,{_f:{}})._f||{}).ref,J=ae(r.errors,R)||{},{ref:Y,message:ie,type:Ie,...Ke}=J;Qe(r.errors,R,{...Ke,...A,ref:ee}),h.state.next({name:R,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&ee&&ee.focus&&ee.focus()},pe=(R,A)=>sn(R)?h.state.subscribe({next:L=>"values"in L&&R(O(void 0,A),L)}):O(R,A,!0),$e=R=>h.state.subscribe({next:A=>{_B(R.name,A.name,R.exact)&&bB(A,R.formState||d,Mn,R.reRenderRoot)&&R.callback({values:{...i},...r,...A,defaultValues:s})}}).unsubscribe,Fe=R=>(o.mount=!0,f={...f,...R.formState},$e({...R,formState:f})),Q=(R,A={})=>{for(const L of R?Ml(R):l.mount)l.mount.delete(L),l.array.delete(L),A.keepValue||(gt(n,L),gt(i,L)),!A.keepError&&gt(r.errors,L),!A.keepDirty&&gt(r.dirtyFields,L),!A.keepTouched&&gt(r.touchedFields,L),!A.keepIsValidating&&gt(r.validatingFields,L),!t.shouldUnregister&&!A.keepDefaultValue&&gt(s,L);h.state.next({values:Et(i)}),h.state.next({...r,...A.keepDirty?{isDirty:M()}:{}}),!A.keepIsValid&&g()},Te=({disabled:R,name:A})=>{(xn(R)&&o.mount||R||l.disabled.has(A))&&(R?l.disabled.add(A):l.disabled.delete(A))},Ae=(R,A={})=>{let L=ae(n,R);const ee=xn(A.disabled)||xn(t.disabled);return Qe(n,R,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:R}},name:R,mount:!0,...A}}),l.mount.add(R),L?Te({disabled:xn(A.disabled)?A.disabled:t.disabled,name:R}):_(R,!0,A.value),{...ee?{disabled:A.disabled||t.disabled}:{},...t.progressive?{required:!!A.required,min:ul(A.min),max:ul(A.max),minLength:ul(A.minLength),maxLength:ul(A.maxLength),pattern:ul(A.pattern)}:{},name:R,onChange:se,onBlur:se,ref:J=>{if(J){Ae(R,A),L=ae(n,R);const Y=yt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,ie=pB(Y),Ie=L._f.refs||[];if(ie?Ie.find(Ke=>Ke===Y):Y===L._f.ref)return;Qe(n,R,{_f:{...L._f,...ie?{refs:[...Ie.filter(Wh),Y,...Array.isArray(ae(s,R))?[{}]:[]],ref:{type:Y.type,name:R}}:{ref:Y}}}),_(R,!1,void 0,Y)}else L=ae(n,R,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(cB(l.array,R)&&o.action)&&l.unMount.add(R)}}},Ne=()=>t.shouldFocusError&&Ll(n,I,l.mount),Oe=R=>{xn(R)&&(h.state.next({disabled:R}),Ll(n,(A,L)=>{const ee=ae(n,L);ee&&(A.disabled=ee._f.disabled||R,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(J=>{J.disabled=ee._f.disabled||R}))},0,!1))},De=(R,A)=>async L=>{let ee;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let J=Et(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:ie}=await S();r.errors=Y,J=Et(ie)}else await E(n);if(l.disabled.size)for(const Y of l.disabled)gt(J,Y);if(gt(r.errors,"root"),ur(r.errors)){h.state.next({errors:{}});try{await R(J,L)}catch(Y){ee=Y}}else A&&await A({...r.errors},L),Ne(),setTimeout(Ne);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ur(r.errors)&&!ee,submitCount:r.submitCount+1,errors:r.errors}),ee)throw ee},Ct=(R,A={})=>{ae(n,R)&&(yt(A.defaultValue)?K(R,Et(ae(s,R))):(K(R,A.defaultValue),Qe(s,R,Et(A.defaultValue))),A.keepTouched||gt(r.touchedFields,R),A.keepDirty||(gt(r.dirtyFields,R),r.isDirty=A.defaultValue?M(R,Et(ae(s,R))):M()),A.keepError||(gt(r.errors,R),d.isValid&&g()),h.state.next({...r}))},Yt=(R,A={})=>{const L=R?Et(R):s,ee=Et(L),J=ur(R),Y=J?s:ee;if(A.keepDefaultValues||(s=L),!A.keepValues){if(A.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(cl(s,i))]);for(const Ie of Array.from(ie))ae(r.dirtyFields,Ie)?Qe(Y,Ie,ae(i,Ie)):K(Ie,ae(Y,Ie))}else{if(ay&&yt(R))for(const ie of l.mount){const Ie=ae(n,ie);if(Ie&&Ie._f){const Ke=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(qd(Ke)){const ar=Ke.closest("form");if(ar){ar.reset();break}}}}if(A.keepFieldsRef)for(const ie of l.mount)K(ie,ae(Y,ie));else n={}}i=t.shouldUnregister?A.keepDefaultValues?Et(s):{}:Et(Y),h.array.next({values:{...Y}}),h.state.next({values:{...Y}})}l={mount:A.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:A.keepSubmitCount?r.submitCount:0,isDirty:J?!1:A.keepDirty?r.isDirty:!!(A.keepDefaultValues&&!Ns(R,s)),isSubmitted:A.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:A.keepDirtyValues?A.keepDefaultValues&&i?cl(s,i):r.dirtyFields:A.keepDefaultValues&&R?cl(s,R):A.keepDirty?r.dirtyFields:{},touchedFields:A.keepTouched?r.touchedFields:{},errors:A.keepErrors?r.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},hn=(R,A)=>Yt(sn(R)?R(i):R,A),mn=(R,A={})=>{const L=ae(n,R),ee=L&&L._f;if(ee){const J=ee.refs?ee.refs[0]:ee.ref;J.focus&&(J.focus(),A.shouldSelect&&sn(J.select)&&J.select())}},Mn=R=>{r={...r,...R}},Ln={control:{register:Ae,unregister:Q,getFieldState:W,handleSubmit:De,setError:me,_subscribe:$e,_runSchema:S,_focusError:Ne,_getWatch:O,_getDirty:M,_setValid:g,_setFieldArray:v,_setDisabledField:Te,_setErrors:b,_getFieldArray:U,_reset:Yt,_resetDefaultValues:()=>sn(t.defaultValues)&&t.defaultValues().then(R=>{hn(R,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Oe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(R){o=R},get _defaultValues(){return s},get _names(){return l},set _names(R){l=R},get _formState(){return r},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:Fe,trigger:T,register:Ae,handleSubmit:De,watch:pe,setValue:K,getValues:D,reset:hn,resetField:Ct,clearErrors:Z,unregister:Q,setError:me,setFocus:mn,getFieldState:W};return{...Ln,formControl:Ln}}function kB(e={}){const t=B.useRef(void 0),r=B.useRef(void 0),[n,s]=B.useState({isDirty:!1,isValidating:!1,isLoading:sn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:sn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!sn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=NB(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,hB(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),B.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),B.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),B.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),B.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),B.useEffect(()=>{e.values&&!Ns(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),B.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=fB(n,i),t.current}const I0=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ae(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Vp=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?I0(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>I0(s,r,e))}},D0=(e,t)=>{t.shouldUseNativeValidation&&Vp(e,t);const r={};for(const n in e){const s=ae(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(RB(t.names||Object.keys(e),n)){const o=Object.assign({},ae(r,n));Qe(o,"root",i),Qe(r,n,o)}else Qe(r,n,i)}return r},RB=(e,t)=>{const r=M0(t);return e.some(n=>M0(n).match(`^${r}\\.\\d+`))};function M0(e){return e.replace(/\]|\[/g,"")}function eR(e,t,r){function n(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const s=(r==null?void 0:r.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(l){var c;const u=r!=null&&r.Parent?new i:this;n(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return r!=null&&r.Parent&&l instanceof r.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class TB extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const PB={};function tR(e){return PB}function AB(e,t){return typeof t=="bigint"?t.toString():t}const rR=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Eu(e){return typeof e=="string"?e:e==null?void 0:e.message}function nR(e,t,r){var s,i,o,l,c,u;const n={...e,path:e.path??[]};if(!e.message){const d=Eu((o=(i=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??Eu((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??Eu((c=r.customError)==null?void 0:c.call(r,e))??Eu((u=r.localeError)==null?void 0:u.call(r,e))??"Invalid input";n.message=d}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}const sR=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,AB,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},OB=eR("$ZodError",sR),iR=eR("$ZodError",sR,{Parent:Error}),IB=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new TB;if(o.issues.length){const l=new((s==null?void 0:s.Err)??e)(o.issues.map(c=>nR(c,i,tR())));throw rR(l,s==null?void 0:s.callee),l}return o.value},DB=IB(iR),MB=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??e)(o.issues.map(c=>nR(c,i,tR())));throw rR(l,s==null?void 0:s.callee),l}return o.value},LB=MB(iR);function L0(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function $B(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=uy(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function FB(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var l=n.errors[0][0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(d){return d.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=uy(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function UB(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,s,i){try{return Promise.resolve(L0(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(o){return i.shouldUseNativeValidation&&Vp({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:D0($B(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,s,i){try{return Promise.resolve(L0(function(){return Promise.resolve((r.mode==="sync"?DB:LB)(e,n,t)).then(function(o){return i.shouldUseNativeValidation&&Vp({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(l){return l instanceof OB}(o))return{values:{},errors:D0(FB(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const zB=({currentStep:e,steps:t})=>a.jsx("nav",{"aria-label":"Progress",className:"mb-8",children:a.jsx("ol",{className:"flex items-center justify-between",children:t.map((r,n)=>a.jsx("li",{className:te(n!==t.length-1?"flex-1":"","relative flex items-center"),children:a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsxs("div",{className:"flex items-center w-full",children:[a.jsx("div",{className:te("relative flex h-10 w-10 items-center justify-center rounded-full border-2 transition-colors",e>r.id?"border-primary bg-primary text-primary-foreground":e===r.id?"border-primary bg-background text-primary":"border-muted bg-background text-muted-foreground"),children:e>r.id?a.jsx(mf,{className:"h-5 w-5"}):a.jsx("span",{children:r.id})}),n!==t.length-1&&a.jsx("div",{className:te("h-0.5 flex-1 transition-colors",e>r.id?"bg-primary":"bg-muted")})]}),a.jsxs("div",{className:"mt-2 text-center",children:[a.jsx("p",{className:te("text-sm font-medium transition-colors",e>=r.id?"text-foreground":"text-muted-foreground"),children:r.name}),a.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:r.description})]})]})},r.name))})}),BB=Rc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bl=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:te(BB({variant:t}),e),...r}));bl.displayName="Alert";const VB=m.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:te("mb-1 font-medium leading-none tracking-tight",e),...t}));VB.displayName="AlertTitle";const _l=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:te("text-sm [&_p]:leading-relaxed",e),...t}));_l.displayName="AlertDescription";const qB=Uf({title:zt().trim().min(10,"Title must be at least 10 characters").max(100,"Title must be less than 100 characters"),subtitle:zt().trim().min(10,"Subtitle must be at least 10 characters").max(200,"Subtitle must be less than 200 characters").optional().or(b0("")),description:zt().trim().min(100,"Description must be at least 100 characters").max(5e3,"Description must be less than 5000 characters"),price:zt().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"Price must be a positive number"),level:Vk(["beginner","intermediate","advanced"]),duration_hours:zt().refine(e=>!isNaN(parseInt(e))&&parseInt(e)>0,"Duration must be a positive number"),category_id:zt().min(1,"Please select a category"),objectives:w0(zt().trim().min(1,"Objective cannot be empty")).min(1,"Add at least one learning objective"),requirements:w0(zt().trim().min(1)).optional(),target_audience:zt().trim().max(500).optional().or(b0(""))}),WB=[{id:1,name:"Basic Info",description:"Title & description"},{id:2,name:"Media",description:"Images & video"},{id:3,name:"Curriculum",description:"What students learn"},{id:4,name:"Pricing",description:"Set your price"},{id:5,name:"Settings",description:"Final details"}],HB=()=>{var se,I,T;const e=Qt(),{user:t}=nt(),{data:r=[]}=kE(),[n,s]=m.useState(1),[i,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState([""]),[p,w]=m.useState([""]),{register:g,handleSubmit:x,formState:{errors:v},setValue:y,watch:b,trigger:_}=kB({resolver:UB(qB),defaultValues:{level:"beginner",objectives:[""],requirements:[""]}}),j=b("title"),C=b("description"),S=b("subtitle");m.useEffect(()=>{if(l){const D=new FileReader;D.onloadend=()=>{d(D.result)},D.readAsDataURL(l)}else d(null)},[l]);const N=async()=>{let D=[];switch(n){case 1:D=["title","subtitle","description"];break;case 3:D=["objectives"];break;case 4:D=["price"];break;case 5:D=["level","duration_hours","category_id"];break}await _(D)&&n<5&&s(n+1)},E=()=>{n>1&&s(n-1)},P=()=>{const D=[...f,""];h(D),y("objectives",D)},M=D=>{const W=f.filter((Z,me)=>me!==D);h(W),y("objectives",W)},O=(D,W)=>{const Z=[...f];Z[D]=W,h(Z),y("objectives",Z)},U=()=>{const D=[...p,""];w(D),y("requirements",D)},$=D=>{const W=p.filter((Z,me)=>me!==D);w(W),y("requirements",W)},X=(D,W)=>{const Z=[...p];Z[D]=W,w(Z),y("requirements",Z)},K=async D=>{if(t){o(!0);try{let W=null;if(l){const pe=l.name.split(".").pop(),$e=`${t.id}/${Date.now()}.${pe}`,{error:Fe,data:Q}=await F.storage.from("course-thumbnails").upload($e,l);if(Fe)throw Fe;const{data:Te}=F.storage.from("course-thumbnails").getPublicUrl(Q.path);W=Te.publicUrl}const{data:Z,error:me}=await F.from("courses").insert({title:D.title,description:D.description,price:parseFloat(D.price),duration_hours:parseInt(D.duration_hours),level:D.level,category_id:D.category_id,instructor_id:t.id,thumbnail_url:W,objectives:D.objectives.filter(pe=>pe.trim()!==""),status:"draft"}).select().single();if(me)throw me;V.success("Course created successfully! Now add your lessons."),e(`/instructor/courses/${Z.id}/edit`)}catch(W){console.error("Course creation error:",W),V.error(W.message||"Failed to create course")}finally{o(!1)}}};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsx("div",{className:"flex-1 bg-muted/50",children:a.jsxs("div",{className:"container py-8 max-w-5xl",children:[a.jsxs(z,{variant:"ghost",onClick:()=>e(-1),className:"mb-6",children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Create Your Course"}),a.jsx("p",{className:"text-muted-foreground",children:"Fill in the details below to create an engaging course for your students"})]}),a.jsx(zB,{currentStep:n,steps:WB}),a.jsxs("form",{onSubmit:x(K),children:[n===1&&a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsx(qe,{children:"Basic Information"}),a.jsx(rn,{children:"Start with the fundamentals. Choose a clear, engaging title that describes what students will learn."})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(fe,{htmlFor:"title",children:["Course Title ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(ke,{id:"title",...g("title"),placeholder:"e.g., Complete Web Development Bootcamp 2024",maxLength:100}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:((se=v.title)==null?void 0:se.message)||"A clear, attention-grabbing title"}),a.jsxs("span",{children:[(j==null?void 0:j.length)||0,"/100"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"subtitle",children:"Course Subtitle"}),a.jsx(ke,{id:"subtitle",...g("subtitle"),placeholder:"e.g., Learn HTML, CSS, JavaScript, React, Node.js and more!",maxLength:200}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:((I=v.subtitle)==null?void 0:I.message)||"A brief, compelling subtitle"}),a.jsxs("span",{children:[(S==null?void 0:S.length)||0,"/200"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(fe,{htmlFor:"description",children:["Course Description ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(It,{id:"description",...g("description"),placeholder:"Describe your course in detail. What will students learn? Why is it valuable? What makes it unique?",rows:8,maxLength:5e3}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:((T=v.description)==null?void 0:T.message)||"Min. 100 characters"}),a.jsxs("span",{children:[(C==null?void 0:C.length)||0,"/5000"]})]})]}),a.jsxs(bl,{children:[a.jsx(au,{className:"h-4 w-4"}),a.jsxs(_l,{children:[a.jsx("strong",{children:"Pro Tip:"})," Include key benefits, target audience, and what makes your course unique. Use bullet points for readability."]})]})]})]}),n===2&&a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsx(qe,{children:"Course Media"}),a.jsx(rn,{children:"Upload a professional thumbnail to attract students. Recommended size: 1280x720px"})]}),a.jsx(ye,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(fe,{children:"Course Thumbnail"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary transition-colors",children:[a.jsx("input",{type:"file",id:"thumbnail",accept:"image/*",className:"hidden",onChange:D=>{var W;return c(((W=D.target.files)==null?void 0:W[0])||null)}}),a.jsx("label",{htmlFor:"thumbnail",className:"cursor-pointer",children:u?a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:u,alt:"Thumbnail preview",className:"w-full h-48 object-cover rounded"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:D=>{D.preventDefault(),c(null)},children:[a.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Remove"]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(HA,{className:"h-12 w-12 mx-auto text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Click to upload thumbnail"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"PNG, JPG up to 5MB"})]})]})})]})}),a.jsx("div",{className:"space-y-4",children:a.jsxs(bl,{children:[a.jsx(au,{className:"h-4 w-4"}),a.jsxs(_l,{children:[a.jsx("strong",{children:"Best Practices:"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-sm",children:[a.jsx("li",{children:"Use high-quality, relevant images"}),a.jsx("li",{children:"Include text overlay for clarity"}),a.jsx("li",{children:"Maintain consistent branding"}),a.jsx("li",{children:"Ensure good contrast and readability"})]})]})]})})]})]})})]}),n===3&&a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsx(qe,{children:"Curriculum Planning"}),a.jsx(rn,{children:"Define what students will learn and any prerequisites"})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(fe,{children:["What will students learn? ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:P,children:[a.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Objective"]})]}),v.objectives&&a.jsx("p",{className:"text-sm text-destructive",children:v.objectives.message}),a.jsx("div",{className:"space-y-3",children:f.map((D,W)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ke,{value:D,onChange:Z=>O(W,Z.target.value),placeholder:"e.g., Build responsive websites using HTML, CSS, and JavaScript"}),f.length>1&&a.jsx(z,{type:"button",variant:"ghost",size:"icon",onClick:()=>M(W),children:a.jsx(Ys,{className:"h-4 w-4"})})]},W))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(fe,{children:"Requirements or Prerequisites"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:U,children:[a.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Requirement"]})]}),a.jsx("div",{className:"space-y-3",children:p.map((D,W)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ke,{value:D,onChange:Z=>X(W,Z.target.value),placeholder:"e.g., Basic computer skills required"}),p.length>1&&a.jsx(z,{type:"button",variant:"ghost",size:"icon",onClick:()=>$(W),children:a.jsx(Ys,{className:"h-4 w-4"})})]},W))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"target_audience",children:"Target Audience"}),a.jsx(It,{id:"target_audience",...g("target_audience"),placeholder:"Who is this course for? e.g., Beginners wanting to learn web development, career changers, etc.",rows:4,maxLength:500}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe your ideal student"})]})]})]}),n===4&&a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsx(qe,{children:"Pricing"}),a.jsx(rn,{children:"Set a competitive price for your course"})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(fe,{htmlFor:"price",children:["Price (USD) ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),a.jsx(ke,{id:"price",type:"number",step:"0.01",min:"0",...g("price"),className:"pl-7",placeholder:"49.99"})]}),v.price&&a.jsx("p",{className:"text-sm text-destructive",children:v.price.message})]}),a.jsxs(bl,{children:[a.jsx(au,{className:"h-4 w-4"}),a.jsxs(_l,{children:[a.jsx("strong",{children:"Pricing Tips:"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-sm",children:[a.jsx("li",{children:"Research similar courses to stay competitive"}),a.jsx("li",{children:"Consider your course length and depth"}),a.jsx("li",{children:"Start lower to attract initial students and reviews"}),a.jsx("li",{children:"You can always adjust pricing later"})]})]})]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommended Pricing Tiers"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Beginner"}),a.jsx("p",{className:"text-muted-foreground",children:"$19.99 - $49.99"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Intermediate"}),a.jsx("p",{className:"text-muted-foreground",children:"$49.99 - $99.99"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Advanced"}),a.jsx("p",{className:"text-muted-foreground",children:"$99.99 - $199.99"})]})]})]})]})]}),n===5&&a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsx(qe,{children:"Course Settings"}),a.jsx(rn,{children:"Final details about your course"})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(fe,{htmlFor:"level",children:["Course Level ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs(oo,{onValueChange:D=>y("level",D),defaultValue:"beginner",children:[a.jsx(ii,{children:a.jsx(ao,{})}),a.jsxs(oi,{children:[a.jsx(jt,{value:"beginner",children:"Beginner - No prior experience needed"}),a.jsx(jt,{value:"intermediate",children:"Intermediate - Some experience required"}),a.jsx(jt,{value:"advanced",children:"Advanced - Expert level"})]})]}),v.level&&a.jsx("p",{className:"text-sm text-destructive",children:v.level.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(fe,{htmlFor:"duration",children:["Course Duration (hours) ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(ke,{id:"duration",type:"number",min:"1",...g("duration_hours"),placeholder:"10"}),v.duration_hours&&a.jsx("p",{className:"text-sm text-destructive",children:v.duration_hours.message}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Estimated total content hours"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(fe,{htmlFor:"category",children:["Category ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs(oo,{onValueChange:D=>y("category_id",D),children:[a.jsx(ii,{children:a.jsx(ao,{placeholder:"Select a category"})}),a.jsx(oi,{className:"max-h-80",children:r.map(D=>a.jsx(jt,{value:D.id,children:D.name},D.id))})]}),v.category_id&&a.jsx("p",{className:"text-sm text-destructive",children:v.category_id.message})]}),a.jsxs(bl,{children:[a.jsx(au,{className:"h-4 w-4"}),a.jsx(_l,{children:"After creating your course, you'll be able to add lessons, quizzes, and additional content in the course editor."})]})]})]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsxs(z,{type:"button",variant:"outline",onClick:E,disabled:n===1,children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),"Previous"]}),n<5?a.jsxs(z,{type:"button",onClick:N,children:["Next",a.jsx(IA,{className:"h-4 w-4 ml-2"})]}):a.jsx(z,{type:"submit",disabled:i,children:i?"Creating Course...":"Create Course"})]})]})]})}),a.jsx(Dn,{})]})},KB=({course:e,onUpdate:t})=>{var h,p;const[r,n]=m.useState(!1),[s,i]=m.useState({title:e.title||"",description:e.description||"",price:((h=e.price)==null?void 0:h.toString())||"",level:e.level||"beginner",duration_hours:((p=e.duration_hours)==null?void 0:p.toString())||""}),[o,l]=m.useState(e.objectives||[""]),c=()=>{l([...o,""])},u=w=>{l(o.filter((g,x)=>x!==w))},d=(w,g)=>{const x=[...o];x[w]=g,l(x)},f=async w=>{w.preventDefault(),n(!0);try{const{data:g,error:x}=await F.from("courses").update({...s,price:parseFloat(s.price)||0,duration_hours:parseInt(s.duration_hours)||0,objectives:o.filter(v=>v.trim()!=="")}).eq("id",e.id).select().single();if(x)throw x;t(g),V.success("Course updated successfully!")}catch(g){V.error(g.message||"Failed to update course")}finally{n(!1)}};return a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"title",children:"Course Title *"}),a.jsx(ke,{id:"title",required:!0,value:s.title,onChange:w=>i({...s,title:w.target.value})})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"description",children:"Description *"}),a.jsx(It,{id:"description",required:!0,value:s.description,onChange:w=>i({...s,description:w.target.value}),rows:4})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"price",children:"Price (USD) *"}),a.jsx(ke,{id:"price",type:"number",step:"0.01",required:!0,value:s.price,onChange:w=>i({...s,price:w.target.value})})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"duration",children:"Duration (hours)"}),a.jsx(ke,{id:"duration",type:"number",value:s.duration_hours,onChange:w=>i({...s,duration_hours:w.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"level",children:"Level *"}),a.jsxs(oo,{value:s.level,onValueChange:w=>i({...s,level:w}),children:[a.jsx(ii,{children:a.jsx(ao,{})}),a.jsxs(oi,{children:[a.jsx(jt,{value:"beginner",children:"Beginner"}),a.jsx(jt,{value:"intermediate",children:"Intermediate"}),a.jsx(jt,{value:"advanced",children:"Advanced"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(fe,{children:"What will students learn?"}),o.map((w,g)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ke,{value:w,onChange:x=>d(g,x.target.value),placeholder:"Enter a learning objective"}),o.length>1&&a.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:()=>u(g),children:a.jsx(Ys,{className:"h-4 w-4"})})]},g)),a.jsxs(z,{type:"button",variant:"outline",onClick:c,children:[a.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Objective"]})]}),a.jsx(z,{type:"submit",disabled:r,children:r?"Saving...":"Save Changes"})]})},$0=({bucket:e,path:t,accept:r="*",maxSize:n=100,onUploadComplete:s,label:i="Upload File"})=>{const[o,l]=m.useState(!1),[c,u]=m.useState(0),[d,f]=m.useState(null),h=m.useRef(null),p=g=>{var y;const x=(y=g.target.files)==null?void 0:y[0];if(!x)return;if(x.size/(1024*1024)>n){V.error(`File size must be less than ${n}MB`);return}f(x)},w=async()=>{if(d)try{l(!0),u(0);const g=d.name.split(".").pop(),x=`${t}/${Date.now()}.${g}`,{data:v,error:y}=await F.storage.from(e).upload(x,d,{cacheControl:"3600",upsert:!1});if(y)throw y;const{data:b}=F.storage.from(e).getPublicUrl(x);u(100),V.success("File uploaded successfully!"),s(b.publicUrl),f(null),h.current&&(h.current.value="")}catch(g){V.error(g.message||"Failed to upload file")}finally{l(!1),u(0)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{ref:h,type:"file",accept:r,onChange:p,className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",children:a.jsx(z,{variant:"outline",type:"button",asChild:!0,children:a.jsxs("span",{children:[a.jsx(qj,{className:"h-4 w-4 mr-2"}),i]})})})]}),d&&a.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(VA,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:d.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(d.size/(1024*1024)).toFixed(2)," MB"]})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{f(null),h.current&&(h.current.value="")},disabled:o,children:a.jsx(Ys,{className:"h-4 w-4"})})]}),o&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ta,{value:c}),a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Uploading... ",c,"%"]})]}),!o&&a.jsx(z,{onClick:w,className:"w-full",size:"sm",children:"Upload File"})]})]})},GB=({courseId:e,onLessonsChange:t})=>{const[r,n]=m.useState([]),[s,i]=m.useState(!0),[o,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState({title:"",description:"",lesson_type:"video",duration_minutes:"",order_index:"",video_url:"",pdf_url:""});m.useEffect(()=>{h()},[e]);const h=async()=>{try{const{data:x,error:v}=await F.from("lessons").select("*").eq("course_id",e).order("order_index");if(v)throw v;n(x||[])}catch{V.error("Failed to load lessons")}finally{i(!1)}},p=async x=>{x.preventDefault();try{const v={...d,course_id:e,duration_minutes:parseInt(d.duration_minutes)||0,order_index:parseInt(d.order_index)||r.length};if(c){const{error:y}=await F.from("lessons").update(v).eq("id",c.id);if(y)throw y;V.success("Lesson updated successfully!")}else{const{error:y}=await F.from("lessons").insert(v);if(y)throw y;V.success("Lesson created successfully!")}l(!1),u(null),f({title:"",description:"",lesson_type:"video",duration_minutes:"",order_index:"",video_url:"",pdf_url:""}),h(),t==null||t()}catch(v){V.error(v.message)}},w=x=>{var v,y;u(x),f({title:x.title,description:x.description||"",lesson_type:x.lesson_type,duration_minutes:((v=x.duration_minutes)==null?void 0:v.toString())||"",order_index:((y=x.order_index)==null?void 0:y.toString())||"",video_url:x.video_url||"",pdf_url:x.pdf_url||""}),l(!0)},g=async x=>{if(confirm("Are you sure you want to delete this lesson?"))try{const{error:v}=await F.from("lessons").delete().eq("id",x);if(v)throw v;V.success("Lesson deleted"),h(),t==null||t()}catch(v){V.error(v.message)}};return s?a.jsx("div",{className:"text-center py-8",children:"Loading lessons..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Course Lessons"}),a.jsxs(co,{open:o,onOpenChange:l,children:[a.jsx(mc,{asChild:!0,children:a.jsxs(z,{onClick:()=>u(null),children:[a.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Lesson"]})}),a.jsxs(ai,{className:"max-w-2xl",children:[a.jsx(li,{children:a.jsx(ci,{children:c?"Edit Lesson":"Add New Lesson"})}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"title",children:"Lesson Title *"}),a.jsx(ke,{id:"title",required:!0,value:d.title,onChange:x=>f({...d,title:x.target.value})})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"description",children:"Description"}),a.jsx(It,{id:"description",value:d.description,onChange:x=>f({...d,description:x.target.value}),rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"type",children:"Type *"}),a.jsxs(oo,{value:d.lesson_type,onValueChange:x=>f({...d,lesson_type:x}),children:[a.jsx(ii,{children:a.jsx(ao,{})}),a.jsxs(oi,{children:[a.jsx(jt,{value:"video",children:"Video"}),a.jsx(jt,{value:"text",children:"Text"}),a.jsx(jt,{value:"pdf",children:"PDF"}),a.jsx(jt,{value:"quiz",children:"Quiz"})]})]})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"duration",children:"Duration (minutes)"}),a.jsx(ke,{id:"duration",type:"number",value:d.duration_minutes,onChange:x=>f({...d,duration_minutes:x.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"order",children:"Order Index"}),a.jsx(ke,{id:"order",type:"number",value:d.order_index,onChange:x=>f({...d,order_index:x.target.value})})]}),d.lesson_type==="video"&&a.jsxs("div",{children:[a.jsx(fe,{children:"Video Upload"}),a.jsx($0,{bucket:"lesson-videos",path:`${e}`,accept:"video/*",maxSize:500,label:"Select Video",onUploadComplete:x=>f({...d,video_url:x})}),d.video_url&&a.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Video uploaded"})]}),d.lesson_type==="pdf"&&a.jsxs("div",{children:[a.jsx(fe,{children:"PDF Upload"}),a.jsx($0,{bucket:"lesson-pdfs",path:`${e}`,accept:"application/pdf",maxSize:50,label:"Select PDF",onUploadComplete:x=>f({...d,pdf_url:x})}),d.pdf_url&&a.jsx("p",{className:"text-sm text-green-600 mt-2",children:" PDF uploaded"})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(z,{type:"submit",className:"flex-1",children:c?"Update Lesson":"Create Lesson"}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})]})]})]}),r.length===0?a.jsx(ve,{children:a.jsx(ye,{className:"py-12 text-center text-muted-foreground",children:'No lessons yet. Click "Add Lesson" to get started.'})}):a.jsx("div",{className:"space-y-2",children:r.map(x=>a.jsx(ve,{children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[x.lesson_type==="video"?a.jsx(XA,{className:"h-5 w-5 text-primary"}):a.jsx(Xo,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:x.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.duration_minutes," minutes  ",x.lesson_type]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>w(x),children:a.jsx(Bj,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(x.id),children:a.jsx(Vj,{className:"h-4 w-4"})})]})]})})},x.id))})]})},QB=({lessonId:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(null),[p,w]=m.useState({title:"",description:"",time_limit_minutes:"",passing_score:"70"}),[g,x]=m.useState({question:"",options:["","","",""],correct_answer:"",explanation:"",order_index:""});m.useEffect(()=>{v()},[e]);const v=async()=>{var C;try{const{data:S,error:N}=await F.from("quizzes").select("*").eq("lesson_id",e).maybeSingle();if(N)throw N;if(S){r(S),w({title:S.title,description:S.description||"",time_limit_minutes:((C=S.time_limit_minutes)==null?void 0:C.toString())||"",passing_score:S.passing_score.toString()});const{data:E,error:P}=await F.from("quiz_questions").select("*").eq("quiz_id",S.id).order("order_index");if(P)throw P;s(E||[])}}catch{V.error("Failed to load quiz")}finally{o(!1)}},y=async C=>{C.preventDefault();try{const S={lesson_id:e,title:p.title,description:p.description,time_limit_minutes:p.time_limit_minutes?parseInt(p.time_limit_minutes):null,passing_score:parseInt(p.passing_score)};if(t){const{error:N}=await F.from("quizzes").update(S).eq("id",t.id);if(N)throw N;V.success("Quiz updated successfully!")}else{const{data:N,error:E}=await F.from("quizzes").insert(S).select().single();if(E)throw E;r(N),V.success("Quiz created successfully!")}c(!1),v()}catch(S){V.error(S.message)}},b=async C=>{if(C.preventDefault(),!t){V.error("Please create a quiz first");return}const S=g.options.filter(N=>N.trim()!=="");if(S.length<2){V.error("Please provide at least 2 options");return}if(!g.correct_answer){V.error("Please select a correct answer");return}try{const N={quiz_id:t.id,question:g.question,options:S,correct_answer:g.correct_answer,explanation:g.explanation,order_index:g.order_index?parseInt(g.order_index):n.length};if(f){const{error:E}=await F.from("quiz_questions").update(N).eq("id",f.id);if(E)throw E;V.success("Question updated successfully!")}else{const{error:E}=await F.from("quiz_questions").insert(N);if(E)throw E;V.success("Question created successfully!")}d(!1),h(null),x({question:"",options:["","","",""],correct_answer:"",explanation:"",order_index:""}),v()}catch(N){V.error(N.message)}},_=C=>{var S;h(C),x({question:C.question,options:[...C.options,"","","",""].slice(0,4),correct_answer:C.correct_answer,explanation:C.explanation||"",order_index:((S=C.order_index)==null?void 0:S.toString())||""}),d(!0)},j=async C=>{if(confirm("Are you sure you want to delete this question?"))try{const{error:S}=await F.from("quiz_questions").delete().eq("id",C);if(S)throw S;V.success("Question deleted"),v()}catch(S){V.error(S.message)}};return i?a.jsx("div",{className:"text-center py-8",children:"Loading quiz..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ve,{children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{children:"Quiz Settings"}),a.jsxs(co,{open:l,onOpenChange:c,children:[a.jsx(mc,{asChild:!0,children:a.jsx(z,{variant:t?"outline":"default",children:t?"Edit Quiz":"Create Quiz"})}),a.jsxs(ai,{children:[a.jsx(li,{children:a.jsx(ci,{children:t?"Edit Quiz":"Create Quiz"})}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"quiz-title",children:"Quiz Title *"}),a.jsx(ke,{id:"quiz-title",required:!0,value:p.title,onChange:C=>w({...p,title:C.target.value})})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"quiz-description",children:"Description"}),a.jsx(It,{id:"quiz-description",value:p.description,onChange:C=>w({...p,description:C.target.value}),rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"time-limit",children:"Time Limit (minutes)"}),a.jsx(ke,{id:"time-limit",type:"number",value:p.time_limit_minutes,onChange:C=>w({...p,time_limit_minutes:C.target.value})})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"passing-score",children:"Passing Score (%) *"}),a.jsx(ke,{id:"passing-score",type:"number",required:!0,min:"0",max:"100",value:p.passing_score,onChange:C=>w({...p,passing_score:C.target.value})})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(z,{type:"submit",className:"flex-1",children:t?"Update Quiz":"Create Quiz"}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})]})]})}),t&&a.jsx(ye,{children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Title:"})," ",t.title]}),t.description&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Description:"})," ",t.description]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Limit:"})," ",t.time_limit_minutes?`${t.time_limit_minutes} minutes`:"No limit"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",t.passing_score,"%"]})]})})]}),t&&a.jsxs(ve,{children:[a.jsx(Ve,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(qe,{children:["Quiz Questions (",n.length,")"]}),a.jsxs(co,{open:u,onOpenChange:d,children:[a.jsx(mc,{asChild:!0,children:a.jsxs(z,{onClick:()=>{h(null),x({question:"",options:["","","",""],correct_answer:"",explanation:"",order_index:""})},children:[a.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Question"]})}),a.jsxs(ai,{className:"max-w-2xl",children:[a.jsx(li,{children:a.jsx(ci,{children:f?"Edit Question":"Add Question"})}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"question",children:"Question *"}),a.jsx(It,{id:"question",required:!0,value:g.question,onChange:C=>x({...g,question:C.target.value}),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{children:"Options (minimum 2) *"}),g.options.map((C,S)=>a.jsx(ke,{placeholder:`Option ${S+1}`,value:C,onChange:N=>{const E=[...g.options];E[S]=N.target.value,x({...g,options:E})}},S))]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"correct-answer",children:"Correct Answer *"}),a.jsx(ke,{id:"correct-answer",required:!0,value:g.correct_answer,onChange:C=>x({...g,correct_answer:C.target.value}),placeholder:"Type the exact correct answer"})]}),a.jsxs("div",{children:[a.jsx(fe,{htmlFor:"explanation",children:"Explanation (optional)"}),a.jsx(It,{id:"explanation",value:g.explanation,onChange:C=>x({...g,explanation:C.target.value}),rows:2})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(z,{type:"submit",className:"flex-1",children:f?"Update Question":"Add Question"}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"})]})]})]})]})]})}),a.jsx(ye,{children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Uj,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("p",{children:'No questions yet. Click "Add Question" to get started.'})]}):a.jsx("div",{className:"space-y-3",children:n.map((C,S)=>a.jsx(ve,{children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium mb-2",children:[S+1,". ",C.question]}),a.jsx("div",{className:"text-sm text-muted-foreground space-y-1",children:C.options.map((N,E)=>a.jsxs("div",{className:N===C.correct_answer?"text-green-600 font-medium":"",children:[" ",N,N===C.correct_answer&&" "]},E))})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>_(C),children:a.jsx(Bj,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>j(C.id),children:a.jsx(Vj,{className:"h-4 w-4"})})]})]})})},C.id))})})]})]})},YB=()=>{const{id:e}=yv(),t=Qt(),{user:r}=nt(),[n,s]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState([]),[u,d]=m.useState("");m.useEffect(()=>{e&&r&&f()},[e,r]),m.useEffect(()=>{e&&h()},[e]);const f=async()=>{try{const{data:w,error:g}=await F.from("courses").select("*").eq("id",e).eq("instructor_id",r==null?void 0:r.id).single();if(g)throw g;o(w),h()}catch{V.error("Failed to load course"),t("/dashboard/instructor")}finally{s(!1)}},h=async()=>{try{const{data:w,error:g}=await F.from("lessons").select("*").eq("course_id",e).order("order_index");if(g)throw g;c(w||[]);const x=w==null?void 0:w.find(v=>v.lesson_type==="quiz");x&&!u&&d(x.id)}catch(w){console.error("Failed to load lessons:",w)}},p=async()=>{try{if(i.status==="approved"){V.error("Course is already approved");return}const{error:w}=await F.from("courses").update({status:"pending"}).eq("id",e);if(w)throw w;o({...i,status:"pending"}),V.success("Course submitted for admin approval!")}catch(w){V.error(w.message)}};return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsx("div",{className:"flex-1 bg-muted/50",children:a.jsxs("div",{className:"container py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(z,{variant:"ghost",onClick:()=>t(-1),children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(z,{variant:"hero",onClick:p,disabled:(i==null?void 0:i.status)==="pending"||(i==null?void 0:i.status)==="approved",children:(i==null?void 0:i.status)==="pending"?"Pending Approval":(i==null?void 0:i.status)==="approved"?"Approved":"Submit for Approval"})})]}),a.jsxs(ve,{children:[a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(qe,{className:"text-3xl",children:i==null?void 0:i.title}),a.jsxs("div",{className:"flex gap-2",children:[(i==null?void 0:i.status)==="pending"&&a.jsx(kt,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:"Pending Approval"}),(i==null?void 0:i.status)==="approved"&&a.jsx(kt,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:"Approved"}),(i==null?void 0:i.status)==="rejected"&&a.jsx(kt,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:"Rejected"})]})]}),(i==null?void 0:i.status)==="rejected"&&(i==null?void 0:i.rejection_reason)&&a.jsxs("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/20 rounded-md",children:[a.jsx("p",{className:"text-sm font-semibold text-red-600",children:"Rejection Reason:"}),a.jsx("p",{className:"text-sm text-red-600/80 mt-1",children:i.rejection_reason})]})]}),a.jsx(ye,{children:a.jsxs($f,{defaultValue:"basics",className:"space-y-6",children:[a.jsxs(Mc,{className:"grid w-full grid-cols-3",children:[a.jsx(Vt,{value:"basics",children:"Basic Info"}),a.jsx(Vt,{value:"lessons",children:"Lessons"}),a.jsx(Vt,{value:"quizzes",children:"Quizzes"})]}),a.jsx(qt,{value:"basics",children:a.jsx(KB,{course:i,onUpdate:o})}),a.jsx(qt,{value:"lessons",children:a.jsx(GB,{courseId:e,onLessonsChange:h})}),a.jsx(qt,{value:"quizzes",children:a.jsx("div",{className:"space-y-4",children:l.filter(w=>w.lesson_type==="quiz").length===0?a.jsx(ve,{children:a.jsxs(ye,{className:"py-12 text-center text-muted-foreground",children:[a.jsx("p",{className:"mb-4",children:'No quiz lessons yet. Create a lesson with type "Quiz" first.'}),a.jsx(z,{variant:"outline",onClick:()=>{const w=document.querySelector('[value="lessons"]');w==null||w.click()},children:"Go to Lessons"})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(fe,{htmlFor:"lesson-select",className:"whitespace-nowrap",children:"Select Quiz Lesson:"}),a.jsxs(oo,{value:u,onValueChange:d,children:[a.jsx(ii,{id:"lesson-select",className:"flex-1",children:a.jsx(ao,{placeholder:"Choose a quiz lesson"})}),a.jsx(oi,{children:l.filter(w=>w.lesson_type==="quiz").map(w=>a.jsx(jt,{value:w.id,children:w.title},w.id))})]})]}),u&&a.jsx(QB,{lessonId:u})]})})})]})})]})]})}),a.jsx(Dn,{})]})},ZB=e=>{const{user:t}=nt(),r=cs(),{data:n=[],isLoading:s}=Wt({queryKey:["messages",e],queryFn:async()=>{if(!e)return[];const{data:l,error:c}=await F.from("messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(c)throw c;const u=[...new Set(l.map(f=>f.sender_id))],{data:d}=await F.from("profiles").select("id, full_name, avatar_url").in("id",u);return l.map(f=>({...f,sender:(d==null?void 0:d.find(h=>h.id===f.sender_id))||{full_name:"Unknown",avatar_url:null}}))},enabled:!!e});m.useEffect(()=>{if(!e)return;const l=F.channel(`messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},()=>{r.invalidateQueries({queryKey:["messages",e]})}).subscribe();return()=>{F.removeChannel(l)}},[e,r]);const i=Ht({mutationFn:async l=>{if(!(t!=null&&t.id)||!e)throw new Error("Invalid state");const{error:c}=await F.from("messages").insert({conversation_id:e,sender_id:t.id,content:l});if(c)throw c;await F.from("conversations").update({updated_at:new Date().toISOString()}).eq("id",e),await F.from("conversation_participants").update({is_read:!1}).eq("conversation_id",e).neq("user_id",t.id)},onSuccess:()=>{r.invalidateQueries({queryKey:["messages",e]}),r.invalidateQueries({queryKey:["conversations"]})},onError:l=>{V.error(l.message||"Failed to send message")}}),o=Ht({mutationFn:async l=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");const{error:c}=await F.from("messages").delete().eq("id",l).eq("sender_id",t.id);if(c)throw c},onSuccess:()=>{r.invalidateQueries({queryKey:["messages",e]}),V.success("Message deleted")},onError:l=>{V.error(l.message||"Failed to delete message")}});return{messages:n,isLoading:s,sendMessage:i.mutate,deleteMessage:o.mutate}},JB=()=>{var N;const{user:e,userRole:t}=nt(),r=Qt(),{conversations:n,isLoading:s,markAsRead:i}=TN(t==="instructor"),[o,l]=m.useState(null),[c,u]=m.useState(""),{messages:d,sendMessage:f}=ZB(o),[h,p]=m.useState(!1),[w,g]=m.useState(""),[x,v]=m.useState(""),[y,b]=m.useState("inquiry"),_=n.find(E=>E.id===o),j=E=>{l(E),i(E)},C=E=>{E.preventDefault(),c.trim()&&(f(c),u(""))},S=async()=>{if(!w.trim()||!x.trim()){V.error("Please fill in all fields");return}try{const{error:E}=await F.from("complaints").insert({user_id:e==null?void 0:e.id,subject:w,description:x,category:y,status:"open"});if(E)throw console.error("Support submission error:",E),E;V.success("Your message has been sent to admin support"),p(!1),g(""),v(""),b("inquiry")}catch(E){console.error("Support error:",E),V.error("Failed to send support message")}};return e?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dn,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[a.jsxs(ve,{className:"md:col-span-1 flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Messages"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(co,{open:h,onOpenChange:p,children:[a.jsx(mc,{asChild:!0,children:a.jsx(z,{variant:"ghost",size:"icon",title:"Contact Admin Support",children:a.jsx(Uj,{className:"h-5 w-5"})})}),a.jsxs(ai,{className:"sm:max-w-[525px]",children:[a.jsxs(li,{children:[a.jsx(ci,{children:"Contact Admin Support"}),a.jsx(Dc,{children:"Send a message to the site administrators for help or inquiries."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"category",children:"Category"}),a.jsxs("select",{id:"category",value:y,onChange:E=>b(E.target.value),className:"w-full px-3 py-2 border rounded-md",children:[a.jsx("option",{value:"inquiry",children:"General Inquiry"}),a.jsx("option",{value:"complaint",children:"Complaint"}),a.jsx("option",{value:"technical",children:"Technical Issue"}),a.jsx("option",{value:"billing",children:"Billing"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"subject",children:"Subject"}),a.jsx(ke,{id:"subject",value:w,onChange:E=>g(E.target.value),placeholder:"Brief subject of your message"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(fe,{htmlFor:"message",children:"Message"}),a.jsx(It,{id:"message",value:x,onChange:E=>v(E.target.value),placeholder:"Describe your issue or inquiry in detail...",rows:5})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),a.jsx(z,{onClick:S,children:"Send to Admin"})]})]})]}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>r("/courses"),title:"Start new conversation from a course",children:a.jsx(Ox,{className:"h-5 w-5"})})]})]}),a.jsx(Od,{className:"flex-1",children:s?a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Loading conversations..."}):n.length===0?a.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[a.jsx("p",{children:"No conversations yet"}),a.jsx("p",{className:"text-sm mt-2",children:"Visit a course to start a conversation with the instructor"})]}):n.map(E=>{var P;return a.jsx("div",{className:`p-4 border-b cursor-pointer hover:bg-accent transition-colors ${o===E.id?"bg-accent":""} ${E.is_read?"":"bg-accent/50"}`,onClick:()=>j(E.id),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs(Zn,{children:[a.jsx(Jn,{src:E.other_user.avatar_url||""}),a.jsx(Xn,{children:((P=E.other_user.full_name)==null?void 0:P.charAt(0))||"U"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-semibold truncate",children:E.other_user.full_name}),!E.is_read&&a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-2"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:E.subject}),a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-1",children:E.last_message}),E.last_message_at&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:kp(new Date(E.last_message_at),{addSuffix:!0})})]})]})},E.id)})})]}),a.jsx(ve,{className:"md:col-span-2 flex flex-col",children:_?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>l(null),className:"md:hidden",children:a.jsx(ja,{className:"h-5 w-5"})}),a.jsxs(Zn,{children:[a.jsx(Jn,{src:_.other_user.avatar_url||""}),a.jsx(Xn,{children:((N=_.other_user.full_name)==null?void 0:N.charAt(0))||"U"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:_.other_user.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:_.subject})]})]}),a.jsx(Od,{className:"flex-1 p-4",children:a.jsx("div",{className:"space-y-4",children:d.map(E=>{var P;return a.jsxs("div",{className:`flex gap-3 ${E.sender_id===e.id?"flex-row-reverse":""}`,children:[a.jsxs(Zn,{className:"h-8 w-8",children:[a.jsx(Jn,{src:E.sender.avatar_url||""}),a.jsx(Xn,{children:((P=E.sender.full_name)==null?void 0:P.charAt(0))||"U"})]}),a.jsxs("div",{className:`rounded-lg p-3 max-w-[70%] ${E.sender_id===e.id?"bg-primary text-primary-foreground":"bg-accent"}`,children:[a.jsx("p",{className:"text-sm",children:E.content}),a.jsx("p",{className:`text-xs mt-1 ${E.sender_id===e.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:kp(new Date(E.created_at),{addSuffix:!0})})]})]},E.id)})})}),a.jsxs("form",{onSubmit:C,className:"p-4 border-t flex gap-2",children:[a.jsx(ke,{value:c,onChange:E=>u(E.target.value),placeholder:"Type a message...",className:"flex-1"}),a.jsx(z,{type:"submit",size:"icon",children:a.jsx(ZA,{className:"h-4 w-4"})})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ox,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Select a conversation to start messaging"})]})})})]})}),a.jsx(Dn,{})]}):(r("/auth/login"),null)},XB=()=>{const e=po();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center space-y-6 p-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-8xl font-bold text-primary",children:"404"}),a.jsx("h2",{className:"text-3xl font-bold",children:"Page Not Found"}),a.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Sorry, we couldn't find the page you're looking for. It might have been moved or deleted."})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(Le,{to:"/",children:a.jsxs(z,{children:[a.jsx(WA,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),a.jsx(Le,{to:"/courses",children:a.jsxs(z,{variant:"outline",children:[a.jsx(Hg,{className:"h-4 w-4 mr-2"}),"Browse Courses"]})})]})]})})},eV=new mD,tV=()=>a.jsx(xD,{client:eV,children:a.jsxs(ZI,{children:[a.jsx(DO,{}),a.jsx(h2,{}),a.jsx(NM,{children:a.jsx(X$,{children:a.jsxs(xM,{children:[a.jsx(Ft,{path:"/",element:a.jsx(N5,{})}),a.jsx(Ft,{path:"/courses",element:a.jsx(s3,{})}),a.jsx(Ft,{path:"/courses/:id",element:a.jsx(q3,{})}),a.jsx(Ft,{path:"/auth/login",element:a.jsx(Qz,{})}),a.jsx(Ft,{path:"/auth/register",element:a.jsx(Zz,{})}),a.jsx(Ft,{path:"/auth/forgot-password",element:a.jsx(Xz,{})}),a.jsx(Ft,{path:"/profile",element:a.jsx(ys,{children:a.jsx(bz,{})})}),a.jsx(Ft,{path:"/courses/:id/learn",element:a.jsx(ys,{allowedRoles:["student"],children:a.jsx(wz,{})})}),a.jsx(Ft,{path:"/dashboard/student",element:a.jsx(ys,{allowedRoles:["student"],children:a.jsx(eB,{})})}),a.jsx(Ft,{path:"/dashboard/instructor",element:a.jsx(ys,{allowedRoles:["instructor"],children:a.jsx(rB,{})})}),a.jsx(Ft,{path:"/dashboard/admin",element:a.jsx(ys,{allowedRoles:["admin"],children:a.jsx(oB,{})})}),a.jsx(Ft,{path:"/instructor/courses/create",element:a.jsx(ys,{allowedRoles:["instructor"],children:a.jsx(HB,{})})}),a.jsx(Ft,{path:"/instructor/courses/:id/edit",element:a.jsx(ys,{allowedRoles:["instructor"],children:a.jsx(YB,{})})}),a.jsx(Ft,{path:"/messages",element:a.jsx(ys,{children:a.jsx(JB,{})})}),a.jsx(Ft,{path:"*",element:a.jsx(XB,{})})]})})})]})});uj(document.getElementById("root")).render(a.jsx(tV,{}));
